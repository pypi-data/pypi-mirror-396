{
  "description": "Basic REGISTER message - register a procedure endpoint",
  "wamp_message_type": "REGISTER",
  "wamp_message_code": 64,
  "feature": "basic.rpc",
  "spec_reference": "https://wamp-proto.org/wamp_latest_ietf.html#name-register-2",
  "samples": [
    {
      "description": "REGISTER without Options (basic profile)",
      "serializers": {
        "json": [
          {
            "bytes": "[64, 25349185, {}, \"com.myapp.myprocedure1\"]",
            "bytes_hex": "5b36342c2032353334393138352c207b7d2c2022636f6d2e6d796170702e6d7970726f63656475726531225d",
            "note": "With spaces after commas"
          },
          {
            "bytes": "[64,25349185,{},\"com.myapp.myprocedure1\"]",
            "bytes_hex": "5b36342c32353334393138352c7b7d2c22636f6d2e6d796170702e6d7970726f63656475726531225d",
            "note": "Compact (no spaces) - produced by autobahn-python"
          }
        ],
        "msgpack": [
          {
            "bytes_hex": "9440ce0182cc4180b6636f6d2e6d796170702e6d7970726f63656475726531"
          }
        ],
        "cbor": [
          {
            "bytes_hex": "8418401a0182cc41a076636f6d2e6d796170702e6d7970726f63656475726531"
          }
        ],
        "ubjson": [
          {
            "bytes_hex": "5b55406c0182cc417b7d535516636f6d2e6d796170702e6d7970726f636564757265315d"
          }
        ],
        "flatbuffers": [
          {
            "bytes_hex": "0c00000008000a0009000400080000001000000000400a0014000000080004000a0000001000000041cc8201000000000000000016000000636f6d2e6d796170702e6d7970726f636564757265310000",
            "note": "Generated by autobahn-python FlatBuffers serializer"
          }
        ]
      },
      "expected_attributes": {
        "message_type": 64,
        "request_id": 25349185,
        "options": {},
        "procedure": "com.myapp.myprocedure1"
      },
      "validation": {
        "autobahn-python": [
          "from autobahn.wamp.message import Register\n\n# Test framework provides 'msg' with deserialized message\nassert isinstance(msg, Register)\nassert msg.request == 25349185\nassert msg.procedure == 'com.myapp.myprocedure1'\n\n# Check that options are defaults (match=exact, invoke=single)\nassert msg.match == 'exact'\nassert msg.invoke == 'single'\nassert msg.concurrency is None\n"
        ],
        "autobahn-js": [
          "// Test framework provides 'msg' with deserialized message\nassert(msg.type === 64);\nassert(msg.request === 25349185);\nassert(Object.keys(msg.options).length === 0);\nassert(msg.procedure === 'com.myapp.myprocedure1');\n"
        ]
      },
      "construction": {
        "autobahn-python": "from autobahn.wamp.message import Register\n\nmsg = Register(\n    request=25349185,\n    procedure='com.myapp.myprocedure1'\n)\n"
      }
    }
  ],
  "notes": "REGISTER is sent by Callee to Dealer to register a procedure endpoint. Message format: [REGISTER, Request|id, Options|dict, Procedure|uri]"
}
