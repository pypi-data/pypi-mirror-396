
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/tutorials/tutorial_2_using_mulitple_datasets.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_tutorials_tutorial_2_using_mulitple_datasets.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_tutorials_tutorial_2_using_mulitple_datasets.py:


===================================
Tutorial 2: Using multiple datasets
===================================

We extend the previous example to a case where we want to analyze the score of
a classifier with three different MI datasets instead of just one. As before,
we begin by importing all relevant libraries.

.. GENERATED FROM PYTHON SOURCE LINES 10-34

.. code-block:: Python


    # Authors: Pedro L. C. Rodrigues, Sylvain Chevallier
    #
    # https://github.com/plcrodrigues/Workshop-MOABB-BCI-Graz-2019

    import warnings

    import matplotlib.pyplot as plt
    import mne
    import seaborn as sns
    from mne.decoding import CSP
    from sklearn.discriminant_analysis import LinearDiscriminantAnalysis as LDA
    from sklearn.pipeline import make_pipeline

    import moabb
    from moabb.datasets import BNCI2014_001, Zhou2016
    from moabb.evaluations import WithinSessionEvaluation
    from moabb.paradigms import LeftRightImagery


    moabb.set_log_level("info")
    mne.set_log_level("CRITICAL")
    warnings.filterwarnings("ignore")


.. GENERATED FROM PYTHON SOURCE LINES 35-41

Initializing Datasets
---------------------

We instantiate the two different datasets that follow the MI paradigm
(with left-hand/right-hand classes) but were recorded with different number
of electrodes, different number of trials, etc.

.. GENERATED FROM PYTHON SOURCE LINES 41-47

.. code-block:: Python


    datasets = [Zhou2016(), BNCI2014_001()]
    subj = [1, 2, 3]
    for d in datasets:
        d.subject_list = subj


.. GENERATED FROM PYTHON SOURCE LINES 48-52

The following lines go exactly as in the previous example, where we end up
obtaining a pandas dataframe containing the results of the evaluation. We
could set `overwrite` to False to cache the results, avoiding to restart all
the evaluation from scratch if a problem occurs.

.. GENERATED FROM PYTHON SOURCE LINES 52-59

.. code-block:: Python

    paradigm = LeftRightImagery()
    evaluation = WithinSessionEvaluation(
        paradigm=paradigm, datasets=datasets, overwrite=False
    )
    pipeline = make_pipeline(CSP(n_components=8), LDA())
    results = evaluation.process({"csp+lda": pipeline})


.. GENERATED FROM PYTHON SOURCE LINES 60-65

Plotting Results
----------------

We plot the results using the seaborn library. Note how easy it
is to plot the results from the three datasets with just one line.

.. GENERATED FROM PYTHON SOURCE LINES 65-77

.. code-block:: Python


    results["subj"] = [str(resi).zfill(2) for resi in results["subject"]]
    g = sns.catplot(
        kind="bar",
        x="score",
        y="subj",
        col="dataset",
        data=results,
        orient="h",
        palette="viridis",
    )
    plt.show()

**Estimated memory usage:**  0 MB


.. _sphx_glr_download_auto_examples_tutorials_tutorial_2_using_mulitple_datasets.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: tutorial_2_using_mulitple_datasets.ipynb <tutorial_2_using_mulitple_datasets.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: tutorial_2_using_mulitple_datasets.py <tutorial_2_using_mulitple_datasets.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: tutorial_2_using_mulitple_datasets.zip <tutorial_2_using_mulitple_datasets.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
