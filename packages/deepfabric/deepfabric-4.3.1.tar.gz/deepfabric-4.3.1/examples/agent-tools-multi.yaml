#####################################################################
# Agent Tools Dataset Configuration (Multi-Turn)
#####################################################################
# This configuration file sets up a dataset generation process using
# topic generation and data generation engines.
# The dataset focuses on Python programming fundamentals.
# Advanced features like Tool Use with agent reasoning style.
# A multi-turn agent mode of tool usage occurs.
#####################################################################

# Topic generation - creates a tree of related topics
topics:
  prompt: "Python programming fundamentals"
  mode: tree
  system_prompt: ""
  depth: 2
  degree: 2
  save_as: "tools-topics.jsonl"

  # LLM configuration for topic generation
  llm:
    provider: "gemini"
    model: "gemini-2.5-flash-lite"
    temperature: 0.8

# Data generation - creates the actual training examples
generation:
  system_prompt: |
    Generate examples of tool usage with clear reasoning.
    Show why tools are chosen and how results are interpreted.
    The tools available are defined in the tool registry.

  instructions: "Create realistic scenarios requiring tool usage to complete tasks."

  # Chain of thought with agent mode
  conversation:
    type: chain_of_thought
    reasoning_style: agent
    # Multi-turn: extended conversations with multiple tool calls
    agent_mode: multi_turn
    min_turns: 2
    max_turns: 4
    min_tool_calls: 2

  # Tool configuration - requires Spin service running
  # Start with: cd tools-sdk && spin build && spin up
  tools:
    spin_endpoint: "http://localhost:3000"  # Spin service URL
    available:  # Use built-in VFS tools
      - read_file
      - write_file
      - list_files
    max_per_query: 3       # Maximum tools per example
    max_agent_steps: 5     # Max ReAct iterations

  max_retries: 3  # Retry on API failures

  # LLM configuration for generation
  llm:
    provider: "gemini"
    model: "gemini-2.5-flash-lite"
    temperature: 0.7

# Output configuration
output:
  # System prompt that goes INTO the training data
  system_prompt: |
    You are an AI assistant with access to various tools and functions.
    When given a task:
    1. Analyze what tools are needed
    2. Execute tools with proper parameters
    3. Interpret results and provide a clear answer

  include_system_message: true
  num_samples: 1
  batch_size: 1
  save_as: "agent-tools-multi-dataset.jsonl"
