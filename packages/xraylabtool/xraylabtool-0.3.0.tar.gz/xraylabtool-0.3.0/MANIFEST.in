# MANIFEST.in - Specifies additional files to include in source distribution
# Requires Python >=3.12; prefer uv for builds/install when creating dists.
#
# This file ensures that important non-Python files are included when
# building the package for distribution on PyPI and GitHub.

# Core documentation and project files
include README.md
include LICENSE
include CHANGELOG.md
include CONTRIBUTING.md
include SECURITY.md
include CLAUDE.md

# Configuration and setup files
include pyproject.toml
include requirements*.txt
include MANIFEST.in
include Makefile
include run_tests.py

# Package data (atomic scattering factor files)
recursive-include xraylabtool/data *.nff

# Sub-package structure
recursive-include xraylabtool/calculators *.py
recursive-include xraylabtool/data_handling *.py
recursive-include xraylabtool/interfaces *.py
recursive-include xraylabtool/io *.py
recursive-include xraylabtool/validation *.py
recursive-include xraylabtool/analysis *.py
recursive-include xraylabtool/api *.py
recursive-include xraylabtool/cleanup *.py
recursive-include xraylabtool/export *.py
recursive-include xraylabtool/optimization *.py

# Shell completion scripts (generated dynamically by new completion system)
# Note: All completion scripts are generated at runtime by xraylabtool/interfaces/completion_v2/
# for bash, zsh, fish, and PowerShell shells with virtual environment isolation

# Test files (for source distributions and development)
recursive-include tests *.py
recursive-include tests/unit *.py
recursive-include tests/integration *.py
recursive-include tests/performance *.py
recursive-include tests/fixtures *.py
recursive-include tests/data *
include tests/conftest.py
include tests/base_test.py
include tests/utils.py

# Documentation source files
recursive-include docs *.rst *.md *.py *.txt
include docs/Makefile
include docs/make.bat
include docs/source/changelog.rst

# GitHub and CI configuration
recursive-include .github *.yml *.yaml *.md

# Exclude unnecessary files from distribution
exclude .coverage
exclude .pytest_cache
exclude .gitignore
exclude .DS_Store
exclude Thumbs.db
recursive-exclude * __pycache__
recursive-exclude * *.py[co]
recursive-exclude * *.pyd
recursive-exclude * *.so
recursive-exclude venv *
recursive-exclude .venv *
recursive-exclude .git *
recursive-exclude docs/build *
recursive-exclude build *
recursive-exclude dist *
recursive-exclude *.egg-info *
