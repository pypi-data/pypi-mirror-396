import{r as o,E as k,_ as M,V as $e,cg as y,ch as we,z as g,j as n,l as S,T as Oe,P as Q,b as ye,B as ve,az as E,a2 as P,g as Z,aA as be,a0 as Ie,bR as Ke,k as je,f as Ye,b2 as Xe,ci as _e,i as _,bJ as Ce,bK as Ge}from"./index.BN4Hj9cC.js";import{g as Je,C as qe,I as Qe,F as q,E as xe,b as Ze,s as et,u as tt,a as ot}from"./FileHelper.DWOOpn11.js";import{u as rt}from"./useWaveformController.CJtXMPdM.js";import{I as nt}from"./InputInstructions.CixQ8eSs.js";import{u as at,T as it}from"./useTextInputAutoExpand.6X2ysiLN.js";import{i as st}from"./inputUtils.CptNuJwn.js";import{E as lt}from"./ErrorOutline.esm.B8ZONUL8.js";import{U as Se}from"./UploadFileInfo.C-jY39rj.js";import"./base-input.CY9OvGfW.js";var Ee=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}))});Ee.displayName="Add";var ze=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M13 19V7.83l4.88 4.88c.39.39 1.03.39 1.42 0a.996.996 0 000-1.41l-6.59-6.59a.996.996 0 00-1.41 0l-6.6 6.58a.996.996 0 101.41 1.41L11 7.83V19c0 .55.45 1 1 1s1-.45 1-1z"}))});ze.displayName="ArrowUpward";var Re=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M18 6.7l-8.48 8.48-3.54-3.54a.996.996 0 10-1.41 1.41l4.24 4.24c.39.39 1.02.39 1.41 0l9.18-9.18a.999.999 0 00-.01-1.42c-.37-.38-1-.38-1.39.01z"}))});Re.displayName="Check";var Ue=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M18.3 5.71a.996.996 0 00-1.41 0L12 10.59 7.11 5.7A.996.996 0 105.7 7.11L10.59 12 5.7 16.89a.996.996 0 101.41 1.41L12 13.41l4.89 4.89a.996.996 0 101.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))});Ue.displayName="Close";var Fe=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}))});Fe.displayName="ErrorOutline";var De=o.forwardRef(function(e,t){var a={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(k,M({iconAttrs:a,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),o.createElement("path",{d:"M17.91 11c-.49 0-.9.36-.98.85C16.52 14.21 14.47 16 12 16s-4.52-1.79-4.93-4.15a.998.998 0 00-.98-.85c-.61 0-1.09.54-1 1.14.49 3 2.89 5.34 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.44 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"}))});De.displayName="Mic";const W=$e.getLogger("ChatInput"),Ae=(e,t)=>t===y.Directory?{...e,webkitdirectory:"",multiple:!0}:e,ct=(e,t)=>{if(!t||t.length===0)return!0;const a=e.name.toLowerCase(),c=a.lastIndexOf(".");if(c===-1||c===a.length-1)return t.some(C=>C===""||C===".");const u=a.substring(c),d=a.substring(c+1);return t.some(C=>{const w=C.toLowerCase();return w.startsWith(".")?u===w:d===w})},dt=(e,t)=>ct(e,t)?{isValid:!0}:{isValid:!1,errorMessage:`${e.type||"This type of"} files are not allowed.`},ke=e=>{switch(e){case y.None:return"a file";case y.Single:return"a file";case y.Multiple:return"files";case y.Directory:return"a directory";default:return we(e),"a file"}},ut=g("div",{target:"e2u9p8b0"})(({theme:e})=>({backgroundColor:e.colors.transparent,position:"absolute",inset:0,zIndex:e.zIndices.priority,borderRadius:e.radii.chatInput})),pt=g("div",{target:"e2u9p8b1"})(({theme:e})=>({position:"absolute",inset:0,border:`${e.sizes.borderWidth} solid`,borderColor:e.colors.primary,borderRadius:e.radii.chatInput,backgroundColor:e.colors.secondaryBg,color:e.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:e.fontWeights.bold,pointerEvents:"none",zIndex:e.zIndices.priority})),gt=g("div",{target:"e2u9p8b2"})(({disabled:e})=>({display:"flex",alignItems:"center",height:"100%",cursor:e?"not-allowed":"auto"})),ft=g("div",{target:"e2u9p8b3"})(({disabled:e})=>({pointerEvents:e?"none":"auto"})),ht=g("div",{target:"e2u9p8b4"})(({theme:e})=>({lineHeight:e.lineHeights.tight})),mt=g("div",{target:"e2u9p8b5"})(({theme:e})=>({display:"flex",flexWrap:"wrap",gap:e.spacing.sm})),Ct=g("div",{target:"e2u9p8b6"})({flex:"0 0 auto"}),wt=g("div",{target:"e2u9p8b7"})(({theme:e})=>({display:"flex",alignItems:"center",backgroundColor:e.colors.bgColor,padding:e.spacing.sm,borderRadius:e.radii.default,gap:e.spacing.sm})),yt=g("div",{target:"e2u9p8b8"})(({theme:e})=>({color:e.colors.fadedText60})),vt=g("div",{target:"e2u9p8b9"})(({theme:e,fileStatus:t})=>({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.type==="uploading"?e.colors.fadedText60:e.colors.bodyText})),bt=g("div",{target:"e2u9p8b10"})(({theme:e})=>({marginRight:e.spacing.md,color:e.colors.fadedText60})),It=g("small",{target:"e2u9p8b11"})(({theme:e})=>({display:"flex",alignItems:"center",maxHeight:e.sizes.smallElementHeight,color:e.colors.fadedText60,"& :hover":{color:e.colors.bodyText}})),xt=({getRootProps:e,getInputProps:t,acceptFile:a,disabled:c,theme:u})=>{const d=Ae(t(),a);return n(gt,{disabled:c,children:S(ft,{"data-testid":"stChatInputFileUploadButton",disabled:c,...e(),children:[n("input",{...d}),n(Oe,{content:`Upload or drag and drop ${ke(a)}`,placement:Q.TOP,onMouseEnterDelay:500,children:n(ye,{kind:ve.MINIMAL,disabled:c,children:n(E,{content:Ee,size:"lg",color:c?u.colors.fadedText40:u.colors.fadedText60})})})]})})},St=o.memo(xt),Et=({getRootProps:e,getInputProps:t,acceptFile:a})=>{const c=Ae(t(),a);return S(P,{children:[n(ut,{...e(),children:n("input",{...c})}),n(pt,{children:`Drag and drop ${ke(a)} here`})]})},zt=o.memo(Et);function Rt({children:e,content:t}){const a=Z();return n(be,{content:t,placement:Q.TOP,overrides:{Body:{style:{top:`-${a.sizes.minElementHeight}`}}},children:e})}const Ut=({fileInfo:e})=>{const t=Z(),{type:a}=e.status;switch(a){case"uploading":return n(Ie,{iconValue:"spinner",testid:"stChatInputFileIconSpinner",size:"lg"});case"error":return n(Rt,{content:e.status.errorMessage,children:n(E,{color:t.colors.redTextColor,content:lt,size:"lg"})});case"uploaded":return n(E,{content:Qe,size:"lg"});default:return we(a),null}},Ft=({fileInfo:e,onDelete:t})=>S(wt,{className:"stChatInputFile","data-testid":"stChatInputFile",children:[n(yt,{children:n(Ut,{fileInfo:e})}),n(vt,{className:"stChatInputFileName","data-testid":"stChatInputFileName",title:e.name,fileStatus:e.status,children:e.name}),n(bt,{children:Je(e.size,q.Byte)}),n(It,{"data-testid":"stChatInputDeleteBtn",children:n(ye,{onClick:()=>t(e.id),kind:ve.MINIMAL,children:n(E,{content:qe,size:"lg"})})})]}),Dt=o.memo(Ft),At=({items:e,onDelete:t})=>n(ht,{"data-testid":"stChatUploadedFiles",children:n(mt,{children:e.map(a=>n(Ct,{children:n(Dt,{fileInfo:a,onDelete:t})},a.id))})}),kt=o.memo(At),Mt=(e,t)=>{const a=[],c=[];return e.forEach(u=>{const d=dt(u,t.fileType);d.isValid?a.push(u):c.push({file:u,errors:[{code:xe.FileInvalidType,message:d.errorMessage||"File type not allowed."}]})}),{accepted:a,rejected:c}},Vt=({acceptMultipleFiles:e,acceptDirectoryFiles:t,maxFileSize:a,uploadClient:c,uploadFile:u,addFiles:d,getNextLocalFileId:C,deleteExistingFiles:w,onUploadComplete:z,element:h})=>(m,f)=>{if(t&&m.length>0){const{accepted:p,rejected:v}=Mt(m,h);m=p,f=[...f,...v]}if(!e&&m.length===0&&f.length>1){const p=f.findIndex(v=>v.errors?.[0].code===xe.TooManyFiles);p>=0&&(m.push(f[p].file),f.splice(p,1))}if(!e&&m.length>0&&w(),c.fetchFileURLs(m).then(p=>{Ke(p,m).forEach(([v,$])=>{u(v,$)})}).catch(p=>{d(m.map(v=>new Se(v.name,v.size,C(),{type:"error",errorMessage:p})))}),f.length>0){const p=f.map(v=>Ze(v,C(),a));d(p)}z()},Tt=({getNextLocalFileId:e,addFiles:t,updateFile:a,uploadClient:c,element:u,onUploadProgress:d,onUploadComplete:C})=>(w,z)=>{const h=z.webkitRelativePath||z.name,m=new AbortController,f=new Se(h,z.size,e(),{type:"uploading",abortController:m,progress:1});t([f]),c.uploadFile({formId:"",...u},w.uploadUrl,z,p=>d(p,f.id),m.signal).then(()=>C(f.id,w)).catch(p=>{p instanceof DOMException&&p.name==="AbortError"||a(f.id,f.setStatus({type:"error",errorMessage:p?p.toString():"Unknown error"}))})},Bt=g("div",{target:"e1048hwn0"})({position:"relative",display:"flex",flexDirection:"column"}),Lt=g("div",{target:"e1048hwn1"})(({theme:e})=>({backgroundColor:e.colors.secondaryBg,border:`${e.sizes.borderWidth} solid`,borderColor:e.colors.widgetBorderColor??e.colors.transparent,position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",padding:e.spacing.lg,gap:e.spacing.lg,borderRadius:e.radii.default,boxSizing:"border-box",":focus-within":{borderColor:e.colors.primary}})),Ht=g("div",{target:"e1048hwn2"})(({theme:e})=>({position:"relative",display:"flex",flexDirection:"column",gap:e.spacing.sm})),Nt=g("div",{target:"e1048hwn3"})({position:"relative",display:"flex",flexDirection:"column"}),Wt=g("div",{target:"e1048hwn4"})(({theme:e})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",gap:e.spacing.sm})),Pt=g("div",{target:"e1048hwn5"})(({theme:e})=>({display:"flex",flexDirection:"row",flex:"1 0 0",gap:e.spacing.sm,alignItems:"center"})),$t=g("div",{target:"e1048hwn6"})(({theme:e})=>({display:"flex",flexDirection:"row",gap:e.spacing.sm,alignItems:"center",position:"relative"})),Ot=g("div",{target:"e1048hwn7"})(({theme:e})=>({position:"absolute",top:e.spacing.sm,right:e.spacing.lg,color:e.colors.fadedText60,fontSize:e.fontSizes.twoSm,textAlign:"right",whiteSpace:"nowrap",pointerEvents:"auto",cursor:"text",zIndex:e.zIndices.priority,"& .stChatInputInstructions":{position:"static"}})),L=g("button",{target:"e1048hwn8"})(({theme:e,disabled:t,hasError:a,primary:c})=>{if(c)return{border:"none",backgroundColor:t?e.colors.darkenedBgMix15:e.colors.primary,borderRadius:e.radii.button,display:"inline-flex",alignItems:"center",justifyContent:"center",lineHeight:e.lineHeights.none,margin:e.spacing.none,padding:e.spacing.xs,width:e.sizes.minElementHeight,height:e.sizes.minElementHeight,color:t?e.colors.fadedText40:e.colors.white,cursor:t?"not-allowed":"pointer",transition:"background-color 200ms ease","&:focus":{outline:"none"},":focus":{outline:"none"},"&:hover":{backgroundColor:t?e.colors.darkenedBgMix15:e.colors.primary}};const u=je(e),[d,C]=u?[e.colors.gray60,e.colors.gray80]:[e.colors.gray80,e.colors.gray40],w=()=>a?e.colors.redTextColor:t?d:C;return{border:"none",backgroundColor:e.colors.transparent,borderRadius:e.radii.default,display:"inline-flex",alignItems:"center",justifyContent:"center",lineHeight:e.lineHeights.none,margin:e.spacing.none,padding:e.spacing.none,color:w(),pointerEvents:"auto","&:focus":{outline:"none"},":focus":{outline:"none"},"&:focus-visible":{backgroundColor:u?e.colors.gray10:e.colors.gray90},"&:hover":{color:a?e.colors.red70:e.colors.primary},"&:disabled, &:disabled:hover, &:disabled:active":{backgroundColor:e.colors.transparent,borderColor:e.colors.transparent,color:e.colors.gray60,cursor:"not-allowed"},"& svg":{width:e.iconSizes.lg,height:e.iconSizes.lg}}}),Kt=g("div",{target:"e1048hwn9"})(({isRecording:e})=>({display:e?"flex":"none",flex:1,alignItems:"center",minWidth:0})),jt=g("div",{target:"e1048hwn10"})(({theme:e})=>({position:"relative",width:"100%",minHeight:e.sizes.minElementHeight,borderRadius:e.radii.default,overflow:"hidden","& > div":{position:"absolute",inset:0}})),G=(e,t,a)=>a.map(c=>c.id===e?t:c),J=(e,t)=>t.find(a=>a.id===e);function Yt({disabled:e,element:t,widgetMgr:a,fragmentId:c,uploadClient:u}){const d=Z(),{placeholder:C,maxChars:w}=t,z=o.useRef(0),h=o.useRef(null),m=o.useRef(!1),f=o.useRef(null),p=o.useRef(null),{width:v,elementRef:$}=Ye(),{innerWidth:ee,innerHeight:te}=Xe(),[F,O]=o.useState(t.default),[R,D]=o.useState([]),[V,K]=o.useState(!1),[T,oe]=o.useState(!1),[j,B]=o.useState(null),Y=t.acceptAudio??!1;o.useEffect(()=>()=>{p.current&&p.current.abort()},[]);const A=at({textareaRef:h,dependencies:[C]}),H=o.useMemo(()=>R.some(r=>r.status.type==="uploading")?!1:F!==""||R.length>0,[R,F]),I=_e(t.acceptFile),re=et(t.maxUploadSizeMb,q.Megabyte,q.Byte),ne=o.useCallback(r=>D(s=>[...s,...r]),[]),ae=o.useCallback(r=>{r.status.type==="uploading"&&r.status.abortController.abort(),r.status.type==="uploaded"&&r.status.fileUrls.deleteUrl&&u.deleteFile(r.status.fileUrls.deleteUrl).catch(s=>{W.error("Failed to delete file from server:",s)})},[u]),ie=o.useCallback(r=>{D(s=>{const l=J(r,s);return _(l)?s:(ae(l),s.filter(i=>i.id!==r))})},[ae]),se=o.useCallback(()=>{const r=R.filter(s=>s.status.type==="uploaded").map(s=>{const{name:l,size:i,status:b}=s,{fileId:X,fileUrls:Pe}=b;return new Ce({fileId:X,fileUrls:Pe,name:l,size:i})});return new Ge({uploadedFileInfo:r})},[R]),le=()=>z.current++,Me=Vt({acceptMultipleFiles:I===y.Multiple||I===y.Directory,acceptDirectoryFiles:I===y.Directory,maxFileSize:re,uploadClient:u,uploadFile:Tt({getNextLocalFileId:le,addFiles:ne,updateFile:(r,s)=>{D(l=>G(r,s,l))},uploadClient:u,element:t,onUploadProgress:(r,s)=>{D(l=>{const i=J(s,l);if(_(i)||i.status.type!=="uploading")return l;const b=Math.round(r.loaded*100/r.total);return i.status.progress===b?l:G(s,i.setStatus({type:"uploading",abortController:i.status.abortController,progress:b}),l)})},onUploadComplete:(r,s)=>{D(l=>{const i=J(r,l);return _(i)||i.status.type!=="uploading"?l:G(i.id,i.setStatus({type:"uploaded",fileId:s.fileId,fileUrls:s}),l)})}}),addFiles:ne,getNextLocalFileId:le,deleteExistingFiles:()=>R.forEach(r=>ie(r.id)),onUploadComplete:()=>{h.current&&h.current.focus()},element:t}),{getRootProps:ce,getInputProps:de}=tt({onDrop:Me,multiple:I===y.Multiple||I===y.Directory,accept:ot(t.fileType),maxSize:re}),N=o.useCallback(r=>{if(h.current&&h.current.focus(),!H&&!r||e)return;const s=se(),l={data:F,fileUploaderState:s,audioFileInfo:r};a.setChatInputValue(t,l,{fromUi:!0},c),D([]),O(""),A.clearScrollHeight()},[H,e,F,se,a,t,c,A]),ue=o.useCallback(async r=>{const s=new Date().toISOString().replace(/[:.]/g,"-"),l=new File([r],`audio-${s}.wav`,{type:"audio/wav"});try{oe(!0);const i=await u.fetchFileURLs([l]);if(i.length===0)throw new Error("Failed to get upload URL for audio file");const b=i[0];p.current=new AbortController,await u.uploadFile({formId:"",...t},b.uploadUrl,l,()=>{},p.current.signal);const X=new Ce({fileId:b.fileId,fileUrls:b,name:l.name,size:l.size});N(X)}catch(i){const b="Recording failed";W.error("Audio upload failed:",i),B(b),h.current&&h.current.focus()}finally{oe(!1)}},[u,t,N]),Ve=o.useMemo(()=>({onApprove:ue,onPermissionDenied:()=>{const r="Microphone access denied";B(r),W.error("Permission denied:",r)},onError:r=>{B("Recording failed"),W.error("Recording error:",r)},onRecordStart:()=>{B(null)}}),[ue]),x=rt({containerRef:f,sampleRate:t.audioSampleRate??void 0,events:Ve}),pe=o.useCallback(()=>{N()},[N]),Te=r=>{const{metaKey:s,ctrlKey:l,shiftKey:i}=r;st(r)&&!i&&!l&&!s&&(r.preventDefault(),pe())},Be=r=>{const{value:s}=r.target;w!==0&&s.length>w||(O(s),A.updateScrollHeight(),j&&B(null))},ge=o.useCallback(async r=>{r.preventDefault(),r.stopPropagation(),!(!Y||e||x.state==="recording")&&await x.start()},[Y,e,x]),Le=o.useCallback(()=>{x.cancel(),h.current&&h.current.focus()},[x]),fe=o.useCallback(async()=>{const{blob:r}=await x.stop();await x.approve(r)},[x]),he=o.useCallback(r=>{ge(r)},[ge]),He=o.useCallback(()=>{fe()},[fe]),Ne=o.useCallback(()=>{h.current&&h.current.focus()},[]);o.useEffect(()=>{if(t.setValue&&!m.current){m.current=!0;const r=t.value||"";O(r)}},[t.setValue,t.value]),o.useEffect(()=>{m.current=!1},[t]),o.useEffect(()=>{const r=i=>{i.preventDefault(),i.stopPropagation(),!V&&i.dataTransfer?.types.includes("Files")&&K(!0)},s=i=>{i.preventDefault(),i.stopPropagation(),V&&(i.clientX<=0&&i.clientY<=0||i.clientX>=ee&&i.clientY>=te)&&K(!1)},l=i=>{i.preventDefault(),i.stopPropagation(),V&&K(!1)};return window.addEventListener("dragover",r),window.addEventListener("drop",l),window.addEventListener("dragleave",s),()=>{window.removeEventListener("dragover",r),window.removeEventListener("drop",l),window.removeEventListener("dragleave",s)}},[V,ee,te]);const We=I!==y.None&&V,U=x.state==="recording",me=!U&&v>d.breakpoints.hideWidgetDetails&&w>0;return n(Bt,{className:"stChatInput","data-testid":"stChatInput",ref:$,children:S(Lt,{extended:A.isExtended||U,children:[me&&n(Ot,{onClick:Ne,id:"stChatInputInstructions",children:n(nt,{dirty:H,value:F,maxLength:w,type:"chat",inForm:!1,className:"stChatInputInstructions"})}),S(Ht,{children:[We&&n(zt,{getRootProps:ce,getInputProps:de,acceptFile:I}),I!==y.None&&R.length>0&&n(kt,{items:[...R],onDelete:ie}),S(Nt,{children:[n(Kt,{isRecording:U,children:n(jt,{ref:f})}),!U&&n(P,{children:n(it,{inputRef:h,value:F,placeholder:C,onChange:Be,onKeyDown:Te,"aria-label":C,disabled:e,rows:1,"aria-describedby":me?"stChatInputInstructions":void 0,overrides:{Root:{style:{minHeight:d.sizes.minElementHeight,outline:"none",borderLeftWidth:"0",borderRightWidth:"0",borderTopWidth:"0",borderBottomWidth:"0",borderTopLeftRadius:"0",borderTopRightRadius:"0",borderBottomRightRadius:"0",borderBottomLeftRadius:"0",width:"100%"}},Input:{props:{"data-testid":"stChatInputTextArea"},style:{fontWeight:d.fontWeights.normal,lineHeight:d.lineHeights.inputWidget,"::placeholder":{color:d.colors.fadedText60},height:A.height,maxHeight:A.maxHeight,overflowY:"auto",paddingLeft:d.spacing.none,paddingRight:d.spacing.none,paddingBottom:d.spacing.sm,paddingTop:d.spacing.sm,width:"100%"}}}})})]})]}),S(Wt,{children:[S(Pt,{children:[I!==y.None&&!U&&n(St,{getRootProps:ce,getInputProps:de,acceptFile:I,disabled:e,theme:d}),Y&&!U&&n(P,{children:j?n(be,{content:j,placement:Q.TOP,error:!0,children:n(L,{onClick:he,disabled:e||T,hasError:!0,"data-testid":"stChatInputMicButton","aria-label":"Start recording",children:n(E,{content:Fe,size:"xl",color:"inherit"})})}):n(L,{onClick:he,disabled:e||T,"data-testid":"stChatInputMicButton","aria-label":"Start recording",children:n(E,{content:De,size:"xl",color:"inherit"})})})]}),n($t,{children:U?S(P,{children:[n(L,{onClick:Le,disabled:e,"data-testid":"stChatInputCancelButton","aria-label":"Cancel recording",children:n(E,{content:Ue,size:"lg",color:"inherit"})}),n(L,{onClick:He,disabled:e||T,"data-testid":"stChatInputApproveButton","aria-label":"Submit recording",children:T?n(Ie,{size:"lg",iconValue:"spinner"}):n(E,{content:Re,size:"lg",color:"inherit"})})]}):n(L,{onClick:pe,disabled:!H||e||T,"data-testid":"stChatInputSubmitButton","aria-label":"Send message",primary:!0,children:n(E,{content:ze,size:"lg",color:"inherit"})})})]})]})})}const oo=o.memo(Yt);export{oo as default};
