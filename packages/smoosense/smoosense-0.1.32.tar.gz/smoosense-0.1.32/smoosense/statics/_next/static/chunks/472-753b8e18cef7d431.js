"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472,1417],{4681:(e,t,l)=>{l.d(t,{Z:()=>v});var s=l(23892),a=l(69849),r=l(90774),n=l(17282),i=l(117),o=l(12999),d=l(5747),c=l(2693),u=l(20906),m=l(51468),x=l(25168),h=l(59370),f=l(9472),p=l(76116),j=l(90002),N=l(50274);let g="h-4 w-4",v={FOLDER_OPEN:(0,s.jsx)(a.A,{className:g}),FOLDER_CLOSED:(0,s.jsx)(r.A,{className:g}),JSON:(0,s.jsx)(n.A,{className:g}),COLUMNAR_TABLE:(0,s.jsx)(i.A,{className:g}),ROW_TABLE:(0,s.jsx)(o.A,{className:g}),IMAGE:(0,s.jsx)(d.A,{className:g}),VIDEO:(0,s.jsx)(c.A,{className:g}),TEXT:(0,s.jsx)(u.A,{className:g}),FILE_DEFAULT:(0,s.jsx)(m.A,{className:g}),CHEVRON_DOWN:(0,s.jsx)(x.A,{className:g}),CHEVRON_RIGHT:(0,s.jsx)(h.A,{className:g}),BOOLEAN:(0,s.jsx)(f.A,{className:g}),DATE:(0,s.jsx)(p.A,{className:g}),NUMBER:(0,s.jsx)(j.A,{className:g}),LINK:(0,s.jsx)(N.A,{className:g}),IFRAME:(0,s.jsx)(N.A,{className:g}),TYPE:(0,s.jsx)(u.A,{className:g})}},13701:(e,t,l)=>{l.d(t,{A:()=>eT});var s=l(23892),a=l(42522),r=l(40624),n=l(69849),i=l(59370),o=l(6981),d=l(85848),c=l(54310),u=l(84691),m=l(96110),x=l(26460),h=l(87326),f=l(57516),p=l(58972),j=l(62252),N=l(4681),g=l(82509);function v(e){let{node:t,style:l}=e,a=(0,m.jL)(),r=(0,m.GV)(e=>e.folderTree.viewingId),n=(0,m.GV)(e=>e.ui.fileInfoToShow),i=t.data,o=r===i.id;(0,d.useEffect)(()=>{i.isDir&&i.isExpanded!==t.isOpen&&(i.isExpanded?t.open():t.close())},[i.isExpanded,i.isDir,t]);let c=(0,d.useCallback)(e=>{e.stopPropagation(),a((0,x.$)(i.id)),i.isDir&&!i.isLoaded&&a((0,x.PI)({path:i.path}))},[i,a]),u=(0,d.useCallback)(e=>{if(e.stopPropagation(),i.isDir)i.isLoaded||a((0,x.PI)({path:i.path})),a((0,x.OX)(i.path));else{let e=(0,j.t)(i.name);if(e===j.p.ColumnarTable||e===j.p.RowTable){let e="./Table?tablePath=".concat(encodeURIComponent(i.path));window.open(e,"_blank")}}},[i,a]),v=(0,d.useCallback)(e=>{e.stopPropagation(),e.preventDefault();let t="./FolderBrowser?rootFolder=".concat(encodeURIComponent(i.path));window.open(t,"_blank")},[i.path]),w=(0,d.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),a((0,x.PI)({path:i.path}))},[i.path,a]),b=(0,d.useCallback)(e=>{e.stopPropagation(),t.isOpen||i.isLoaded||a((0,x.PI)({path:i.path})),a((0,x.OX)(i.path))},[t.isOpen,i.isLoaded,i.path,a]);return(0,s.jsxs)("div",{style:l,className:(0,p.cn)("group flex items-center space-x-2 px-2 py-1 text-sm cursor-pointer hover:bg-muted/50 rounded relative","select-none",o&&"bg-primary/20 hover:bg-primary/10 font-bold"),onClick:c,onDoubleClick:u,children:[i.isDir?i.loading?(0,s.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-2 h-2 border border-muted-foreground border-t-transparent rounded-full animate-spin"})}):(0,s.jsx)("div",{onClick:b,className:"cursor-pointer",children:t.isOpen?N.Z.CHEVRON_DOWN:N.Z.CHEVRON_RIGHT}):(0,s.jsx)("div",{className:"w-4 h-4"}),(()=>{if(i.isDir)return t.isOpen?N.Z.FOLDER_OPEN:N.Z.FOLDER_CLOSED;switch((0,j.t)(i.name)){case j.p.Json:return N.Z.JSON;case j.p.ColumnarTable:return N.Z.COLUMNAR_TABLE;case j.p.RowTable:return N.Z.ROW_TABLE;case j.p.Image:return N.Z.IMAGE;case j.p.Video:return N.Z.VIDEO;case j.p.Text:return N.Z.TEXT;default:return N.Z.FILE_DEFAULT}})(),(0,s.jsx)("span",{className:"truncate flex-1",title:i.name,children:i.name}),(()=>{let e;if(i.isDir)return null;switch(n){case"size":e=function(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*10)/10+" "+["B","KB","MB","GB"][t]}(i.size);break;case"lastModified":e=(0,g.Y)(i.lastModified);break;case"lastModifiedRelative":e=(0,g.f)(i.lastModified);break;default:return null}return(0,s.jsx)("span",{className:"text-xs text-muted-foreground ml-auto",children:e})})(),i.isDir&&(0,s.jsxs)("div",{className:"absolute right-1 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,s.jsx)("button",{onClick:w,className:(0,p.cn)("bg-background border border-border rounded p-1 shadow-sm hover:bg-muted cursor-pointer","flex items-center justify-center",i.loading&&"animate-spin"),title:"Refresh ".concat(i.name),disabled:i.loading,children:(0,s.jsx)(h.A,{className:"h-3 w-3"})}),(0,s.jsx)("button",{onClick:v,className:(0,p.cn)("bg-background border border-border rounded p-1 shadow-sm hover:bg-muted cursor-pointer","flex items-center justify-center"),title:"Open ".concat(i.name," in new tab"),children:(0,s.jsx)(f.A,{className:"h-3 w-3"})})]})]})}function w(){let e=(0,m.jL)(),{rootNode:t,loading:l,error:a}=(0,m.GV)(e=>e.folderTree),r=(0,m.GV)(e=>e.ui.rootFolder),n=(0,c.useSearchParams)(),i=(0,d.useRef)(null),[o,h]=(0,d.useState)(600);(0,d.useEffect)(()=>{let t=n.get("viewing");r?(e((0,x.EI)()),t&&""!==t.trim()||e((0,x.PI)({path:r}))):e((0,x.EI)())},[r,n,e]),(0,d.useEffect)(()=>{t&&!t.isExpanded&&e((0,x.OX)(t.path))},[t,e]),(0,d.useLayoutEffect)(()=>{let e=()=>{if(i.current){let e=i.current.getBoundingClientRect();e.height>0&&h(Math.floor(e.height))}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]);let f=e=>({id:e.id,name:e.name,path:e.path,isDir:e.isDir,size:e.size,lastModified:e.lastModified,isLoaded:e.isLoaded,loading:e.loading,isExpanded:e.isExpanded,children:e.children?e.children.map(f):void 0}),p=t?[f(t)]:[];return a?(0,s.jsxs)("div",{className:"p-4 text-center text-sm text-red-500",children:[(0,s.jsx)("p",{children:"Error loading folder tree:"}),(0,s.jsx)("p",{className:"mt-1",children:a})]}):!t&&l?(0,s.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Loading folder tree..."})]})}):t?(0,s.jsx)("div",{ref:i,className:"h-full w-full",children:(0,s.jsx)(u.P,{data:p,openByDefault:!1,width:"100%",height:o,indent:20,rowHeight:32,overscanCount:10,disableDrag:!0,disableDrop:!0,disableMultiSelection:!0,childrenAccessor:"children",idAccessor:"id",children:v})}):(0,s.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No folder selected"})}var b=l(87360),y=l(88050),A=l(14729),E=l(20950);let C=[{icon:b.A,title:"Click arrow icon",description:"Expand/collapse folder node"},{icon:b.A,title:"Click file/folder name",description:"Preview content in the right panel"},{icon:y.A,title:"Double-click folder name",description:"Expand/collapse folder node"},{icon:y.A,title:"Double-click table file",description:"Open file in new tab (for CSV, Parquet, etc.)"}];function T(){return(0,s.jsx)(E.A,{icon:(0,s.jsx)(A.A,{}),tooltip:"Help",contentClassName:"w-96 p-4",side:"right",align:"start",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold",children:"Tree View Operations"}),(0,s.jsx)("div",{className:"space-y-3 text-sm",children:C.map((e,t)=>{let l=e.icon;return(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:(0,s.jsx)(l,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},t)})})]})})}var k=l(69984),S=l(18607),D=l(59871);function L(){let e=(0,m.jL)(),t=(0,m.GV)(e=>e.ui.fileInfoToShow),l=(e=>{if(!e)return[];let t=[],l=(0,S.Gl)(e),s=(0,S.Gl)(l);if(s&&s!==l&&(0,S.Gl)(s)!==s&&t.push({name:"...",path:"",isEllipsis:!0}),s&&s!==l){let e=(0,S.uk)(s)||s;t.push({name:e,path:s,isEllipsis:!1})}if(l&&l!==e){let e=(0,S.uk)(l)||l;t.push({name:e,path:l,isEllipsis:!1})}return t})((0,m.GV)(e=>e.ui.rootFolder)||"~");return(0,s.jsxs)("div",{className:"h-full w-full border-r bg-muted/10 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)("h3",{className:"font-medium text-sm",children:"Folder Navigation"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(D.l6,{value:t,onValueChange:t=>e((0,k.setFileInfoToShow)(t)),children:[(0,s.jsx)(D.bq,{className:"w-auto h-7 text-xs",children:(0,s.jsx)(D.yv,{})}),(0,s.jsxs)(D.gC,{children:[(0,s.jsx)(D.eb,{value:"size",children:"Size"}),(0,s.jsx)(D.eb,{value:"lastModified",children:"Modified Date"}),(0,s.jsx)(D.eb,{value:"lastModifiedRelative",children:"Modified (Relative)"})]})]}),(0,s.jsx)(T,{})]})]}),(0,s.jsx)("div",{className:"px-4 py-2 border-b bg-muted/20",children:(0,s.jsx)("nav",{className:"flex items-center space-x-1 text-xs overflow-hidden",children:l.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-1 min-w-0",children:[t>0&&(0,s.jsx)(i.A,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),e.isEllipsis?(0,s.jsx)("div",{className:"flex items-center px-1 py-0.5 text-muted-foreground",children:(0,s.jsx)(o.A,{className:"h-3 w-3"})}):(0,s.jsx)("button",{onClick:()=>(e=>{let t="./FolderBrowser?rootFolder=".concat(encodeURIComponent(e));window.open(t,"_blank")})(e.path),className:"flex items-center space-x-1 px-1 py-0.5 rounded hover:bg-muted/50 text-muted-foreground hover:text-foreground transition-colors min-w-0 cursor-pointer",title:e.path,children:(0,s.jsx)("span",{className:"truncate",children:e.name})})]},e.path))})}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,s.jsx)(w,{})})]})}var P=l(36712),M=l(29562),O=l(83252),I=l(56211),R=l(63583),F=l(49431),_=l(61897);function V(e){let{item:t}=e,[l,a]=(0,d.useState)(!1),r=(0,O.w8)(t.path,!0);return(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:l?(0,s.jsx)(_.A,{title:"Failed to load image",message:"The image could not be loaded or displayed."}):(0,s.jsx)("img",{src:r,alt:t.name,className:"max-w-full max-h-[600px] object-contain rounded-md shadow-sm",onError:()=>a(!0)})})})}function G(e){let{item:t}=e,[l,a]=(0,d.useState)(!1),r=(0,O.w8)(t.path,!0);return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-1",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Video Preview"})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:l?(0,s.jsx)(_.A,{title:"Failed to load video",message:"The video could not be loaded or played."}):(0,s.jsx)("video",{src:r,controls:!0,className:"max-w-full max-h-full rounded-lg shadow-sm",preload:"metadata",onError:()=>a(!0),children:"Your browser does not support the video tag."})})]})}var z=l(81417);function W(e){let{item:t}=e,l=(0,O.w8)(t.path,!0);return(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center overflow-auto",children:(0,s.jsx)("div",{className:"w-full max-w-4xl",children:(0,s.jsx)(z.default,{audioUrl:l,autoPlay:!0})})})})}function U(e){let{itemId:t,version:l=0}=e,s=(0,m.GV)(e=>e.folderTree.rootNode),a=t?function e(t,l){if(!t)return null;if(t.id===l)return t;if(t.children)for(let s of t.children){let t=e(s,l);if(t)return t}return null}(s,t):null,r=(null==a?void 0:a.path)||null,[n,i]=(0,d.useState)(""),[o,c]=(0,d.useState)(!0),[u,x]=(0,d.useState)(null),[h,f]=(0,d.useState)(null),p=(0,d.useRef)(null);return(0,d.useEffect)(()=>{i(""),x(null),f(null),c(!0),p.current&&p.current.abort();let e=new AbortController;if(p.current=e,!t||!r)return void c(!1);if(null==a?void 0:a.isDir){c(!1),x("Cannot read content of a directory");return}return fetch((0,O.w8)(r,!1),{signal:e.signal}).then(t=>{if(!e.signal.aborted){if(!t.ok){if(404===t.status)throw f(!1),Error("File not found");throw Error("HTTP error! status: ".concat(t.status))}return t.text()}}).then(t=>{e.signal.aborted||(i(t||""),f(!0))}).catch(t=>{e.signal.aborted||(x(t.message),"File not found"===t.message||console.error("Error loading file content:",t))}).finally(()=>{e.signal.aborted||c(!1)}),()=>{e.abort()}},[t,l,r,null==a?void 0:a.isDir]),{content:n,isLoading:o,error:u,fileExists:h,fullPath:r}}function B(e){let{message:t="Loading content..."}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]})})}function H(e){let{title:t="File not found",message:l="The file could not be found or accessed."}=e;return(0,s.jsxs)("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:t}),(0,s.jsx)("p",{className:"text-sm text-yellow-600",children:l})]})}var q=l(89390),Z=l(98283),J=l(86841);function Y(e){let{value:t,extensions:l=[],height:a="100vh"}=e,{theme:r,systemTheme:n}=(0,J.D)();return(0,s.jsx)("div",{className:"flex-1 overflow-auto rounded-md",children:(0,s.jsx)(q.Ay,{value:t,extensions:l,theme:"dark"===r||"system"===r&&"dark"===n?Z.bM:"light",height:a,readOnly:!0,basicSetup:{lineNumbers:!0,foldGutter:!0,highlightActiveLine:!0,searchKeymap:!1,autocompletion:!1,bracketMatching:!0,dropCursor:!1,indentOnInput:!1}})})}var X=l(4101),$=l(32403),K=l(37939),Q=l(20186),ee=l(24157),et=l(41437),el=l(30017);function es(e){let{item:t,version:l=0}=e,[a,r]=(0,d.useState)(!0),{content:n,isLoading:i,error:o,fileExists:c}=U({itemId:t.id,version:l}),u=t.name.toLowerCase(),m=(()=>{if(u.endsWith(".py"))return{extension:(0,Q.Hg)(),previewType:"Python Code Preview"};if(u.endsWith(".js")||u.endsWith(".jsx"))return{extension:(0,ee.Q2)(),previewType:"JavaScript Code Preview"};if(u.endsWith(".ts")||u.endsWith(".tsx"))return{extension:(0,ee.Q2)({typescript:!0}),previewType:"TypeScript Code Preview"};if(u.endsWith(".sql"))return{extension:(0,et.ll)(),previewType:"SQL Code Preview"};if(u.endsWith(".md")||u.endsWith(".markdown"))return{extension:(0,el.wD)(),previewType:"Markdown Preview"};return null})(),x=null!==m,h=u.endsWith(".md")||u.endsWith(".markdown");return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col relative",children:[h&&!i&&!o&&!1!==c&&(0,s.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,s.jsx)(R.$,{variant:"outline",size:"sm",onClick:()=>r(!a),className:"gap-2",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.A,{className:"h-4 w-4"}),"Show source"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),"See rendered"]})})}),(()=>{if(i)return(0,s.jsx)(B,{});if(o)return(0,s.jsx)(_.A,{title:"Error loading file",message:o});if(!1===c)return(0,s.jsx)(H,{});if(h&&a)return(0,s.jsx)("div",{className:"w-full h-full overflow-auto p-6",children:(0,s.jsx)("div",{className:"markdown-content max-w-4xl",children:(0,s.jsx)(X.oz,{children:n||"(Empty file)"})})});let e=x&&m?[m.extension]:[];return(0,s.jsx)(Y,{value:n||"(Empty file)",extensions:e})})()]})}var ea=l(18870);function er(e){let{item:t,version:l=0}=e,{content:a,isLoading:r,error:n,fileExists:i}=U({itemId:t.id,version:l}),o=(0,d.useMemo)(()=>{if(!a.trim())return null;try{return JSON.parse(a)}catch(e){return null}},[a]);return(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:r?(0,s.jsx)(B,{message:"Loading JSON content..."}):n?(0,s.jsx)(_.A,{title:"Error loading file",message:n}):!1===i?(0,s.jsx)(H,{}):a.trim()?o?(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(ea.A,{src:o,showControls:!0,className:"h-full"})}):(0,s.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsx)(_.A,{title:"Invalid JSON",message:"The file content is not valid JSON. Displaying as plain text."})}),(0,s.jsx)("div",{className:"flex-1 min-h-0 mt-4",children:(0,s.jsx)(Y,{value:a,extensions:[]})})]}):(0,s.jsx)(_.A,{title:"Empty file",message:"The file is empty or contains only whitespace."})})}var en=l(39226);function ei(e){let{item:t,version:l=0}=e,{content:a,isLoading:r,error:n,fileExists:i}=U({itemId:t.id,version:l});return(0,s.jsx)("div",{className:"w-full h-full flex flex-col overflow-auto min-h-0",children:r?(0,s.jsx)(B,{message:"Loading YAML content..."}):n?(0,s.jsx)(_.A,{title:"Error loading file",message:n}):!1===i?(0,s.jsx)(H,{}):(0,s.jsx)(Y,{value:a||"(Empty file)",extensions:[(0,en.oQ)()],height:"100%"})})}var eo=l(95914),ed=l(57182);function ec(e){let{title:t="Not Implemented Yet",message:l="Preview for this file format is not implemented yet.",details:a}=e;return(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:t}),(0,s.jsx)("p",{className:"text-sm text-yellow-600",children:l})]}),a&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,s.jsx)("p",{children:a})})]})})}function eu(e){let{item:t}=e,l=(0,m.jL)(),[a,r]=(0,d.useState)(null),[n,i]=(0,d.useState)(!1),[o,c]=(0,d.useState)(null),u=t.name.toLowerCase().endsWith(".parquet"),x=u?"WITH meta AS (\n    SELECT\n        path_in_schema AS column_name,\n        SUM(num_values) AS cntAll,\n        SUM(stats_null_count) AS cntNull,\n        MIN(stats_min_value) AS min,\n        MAX(stats_max_value) AS max\n    FROM parquet_metadata('".concat(t.path,"')\n    GROUP BY path_in_schema\n  )\n  SELECT column_name, column_type, cntAll, cntNull, min, max\n  FROM (DESCRIBE SELECT * FROM read_parquet ('").concat(t.path,"'))\n      LEFT JOIN meta USING (column_name)"):null;return(0,d.useEffect)(()=>{u&&x&&(async()=>{i(!0),c(null);try{let e=(0,eo.bL)("parquet_metadata"),s=await (0,eo.l4)(x,e,l,"duckdb",t.path);r(s)}catch(e){console.error("Error executing parquet metadata query:",e),c(e instanceof Error?e.message:"Failed to load parquet metadata")}finally{i(!1)}})()},[x,l,u]),(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:u?n?(0,s.jsx)(B,{message:"Loading Parquet metadata..."}):o?(0,s.jsx)(_.A,{title:"Error loading metadata",message:o}):a&&0!==a.length?(0,s.jsx)("div",{className:"flex-1 border rounded-md overflow-hidden",children:(0,s.jsx)(ed.A,{data:a})}):(0,s.jsx)(H,{title:"No metadata found",message:"No column metadata could be retrieved from the Parquet file."}):(0,s.jsx)(ec,{message:"Preview for this columnar file format is not implemented yet.",details:"File: ".concat(t.name,". Currently only Parquet files are supported for columnar table preview.")})})}function em(e){let{item:t}=e,l=(0,m.jL)(),[a,r]=(0,d.useState)(null),[n,i]=(0,d.useState)(!1),[o,c]=(0,d.useState)(null),u="SELECT * FROM '".concat(t.path,"' LIMIT 10");return(0,d.useEffect)(()=>{(async()=>{i(!0),c(null);try{let e=(0,eo.bL)("table_preview"),s=await (0,eo.l4)(u,e,l,"duckdb",t.path);r(s)}catch(e){console.error("Error executing table preview query:",e),c(e instanceof Error?e.message:"Failed to load table data")}finally{i(!1)}})()},[u,l]),(0,s.jsx)("div",{className:"w-full h-full flex flex-col",children:n?(0,s.jsx)(B,{message:"Loading table data..."}):o?(0,s.jsx)(_.A,{title:"Error loading table",message:o,details:"Query: ".concat(u)}):a&&0!==a.length?(0,s.jsx)("div",{className:"flex-1 border rounded-lg overflow-hidden",children:(0,s.jsx)(ed.A,{data:a})}):(0,s.jsx)(H,{title:"No data found",message:"The table appears to be empty or could not be read."})})}var ex=l(80072),eh=l(54302),ef=l(55781),ep=l(92407),ej=l(273),eN=l(90384),eg=l(94049),ev=l(84345);function ew(e){let{hasVideos:t,totalPages:l,currentPage:a,onPrevPage:r,onNextPage:n,mediaFilesCount:o}=e,d=(0,m.jL)(),c=(0,m.GV)(e=>e.ui.autoPlayAllVideos);return(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ex.A,{className:"h-5 w-5"}),(0,s.jsxs)("span",{className:"font-medium",children:[o," items"]})]}),t&&(0,s.jsx)(R.$,{variant:"outline",size:"sm",onClick:()=>{d((0,k.setAutoPlayAllVideos)(!c))},className:"flex items-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ej.A,{className:"h-4 w-4"}),"Stop"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN.A,{className:"h-4 w-4"}),"Play"]})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:l>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.$,{variant:"outline",size:"sm",onClick:r,disabled:0===a,children:(0,s.jsx)(eg.A,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground px-2",children:[a+1," of ",l]}),(0,s.jsx)(R.$,{variant:"outline",size:"sm",onClick:n,disabled:a===l-1,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(ev.A,{})]})}let eb=(0,F.default)(()=>Promise.all([l.e(6668),l.e(340)]).then(l.bind(l,340)),{loadableGenerated:{webpack:()=>[340]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-xs",children:"Loading 3D..."})});function ey(e){let{item:t}=e,l=(0,m.jL)(),[a,r]=(0,d.useState)([]),[n,i]=(0,d.useState)(0),[o,c]=(0,d.useState)(!1),[u,h]=(0,d.useState)(null),f=(0,m.GV)(e=>e.ui.galleryItemWidth),p=(0,m.GV)(e=>e.ui.galleryItemHeight),N=(0,m.GV)(e=>e.ui.galleryCaptionHeight);(0,d.useEffect)(()=>{(async()=>{c(!0),h(null);try{let e=(await l((0,x.PI)({path:t.path,limit:1e3})).unwrap()).items.filter(e=>!e.isDir).map(e=>{let l=(0,j.t)(e.name);return l===j.p.Image?{name:e.name,path:(0,S.CN)(t.path,e.name),type:"image"}:l===j.p.Video?{name:e.name,path:(0,S.CN)(t.path,e.name),type:"video"}:l===j.p.Audio?{name:e.name,path:(0,S.CN)(t.path,e.name),type:"audio"}:l===j.p.Model3D?{name:e.name,path:(0,S.CN)(t.path,e.name),type:"model3d"}:null}).filter(e=>null!==e);r(e),i(0)}catch(e){console.error("Error loading folder contents:",e),h(e instanceof Error?e.message:"Failed to load folder contents")}finally{c(!1)}})()},[t.path,l]);let g=Math.ceil(a.length/10),v=a.slice(10*n,(n+1)*10),w=v.some(e=>"video"===e.type);return o?(0,s.jsx)(B,{message:"Loading album contents..."}):u?(0,s.jsx)(_.A,{title:"Error loading album",message:u,details:"Folder: ".concat(t.path)}):0===a.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-muted-foreground",children:[(0,s.jsx)(ex.A,{className:"h-12 w-12 opacity-50"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-lg font-medium mb-2",children:"No Media Files"}),(0,s.jsx)("p",{className:"text-sm",children:"This folder does not contain any image, video, or audio files"})]})]}):(0,s.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-4 border-b",children:(0,s.jsx)(ew,{hasVideos:w,totalPages:g,currentPage:n,onPrevPage:()=>{i(e=>Math.max(0,e-1))},onNextPage:()=>{i(e=>Math.min(g-1,e+1))},mediaFilesCount:a.length})}),(0,s.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,s.jsx)("div",{className:"grid gap-4 justify-items-center",style:{gridTemplateColumns:"repeat(auto-fill, ".concat(f,"px)")},children:v.map(e=>(0,s.jsxs)("div",{className:"relative border rounded-lg overflow-hidden hover:shadow-md transition-shadow bg-muted/30",style:{width:"".concat(f,"px"),height:"".concat(p+N,"px")},children:[(0,s.jsx)("div",{className:"relative overflow-hidden",style:{height:"".concat(p,"px")},children:"image"===e.type?(0,s.jsx)(eh.A,{src:(0,O.w8)(e.path,!0),alt:e.name,className:"w-full h-full"}):"video"===e.type?(0,s.jsx)(ef.A,{visualValue:(0,O.w8)(e.path,!0)}):"audio"===e.type?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(ep.A,{audioUrl:(0,O.w8)(e.path,!0),height:p,allowPopOver:!0})}):(0,s.jsx)(eb,{modelUrl:(0,O.w8)(e.path,!0)})}),(0,s.jsx)("div",{className:"p-3 bg-background border-t",style:{height:"".concat(N,"px")},children:(0,s.jsx)("p",{className:"text-xs line-clamp-2 h-full overflow-hidden break-all",title:e.name,children:e.name})})]},e.path))})})]})}let eA=(0,F.default)(()=>l.e(1768).then(l.bind(l,91768)),{loadableGenerated:{webpack:()=>[91768]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading PDF viewer..."})}),eE=(0,F.default)(()=>Promise.all([l.e(6668),l.e(340)]).then(l.bind(l,340)),{loadableGenerated:{webpack:()=>[340]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading 3D viewer..."})});function eC(){let e=(0,m.GV)(e=>e.folderTree.viewingId),t=(0,m.GV)(e=>e.folderTree.rootNode),l=e?function e(t,l){if(!t)return null;if(t.id===l)return t;if(t.children)for(let s of t.children){let t=e(s,l);if(t)return t}return null}(t,e):null,a=l&&!l.isDir?(0,j.t)(l.name):null,r=a===j.p.ColumnarTable||a===j.p.RowTable;return(0,s.jsxs)("div",{className:"h-full w-full p-4 flex flex-col min-h-0",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 mb-4 shrink-0",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"font-medium text-sm",children:(0,S.uk)(l.path)}),r&&(0,s.jsx)(R.$,{variant:"ghost",size:"icon",onClick:()=>{if(l){let e="./Table?tablePath=".concat(encodeURIComponent(l.path));window.open(e,"_blank")}},title:"Open in Table view",children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),!l.isDir&&(0,s.jsx)(R.$,{variant:"ghost",size:"icon",onClick:()=>{if(l){let e=(0,O.w8)(l.path,!0);window.open(e,"_blank")}},title:"Download file",children:(0,s.jsx)(M.A,{className:"h-4 w-4"})}),(0,s.jsx)(I.A,{value:l.path})]}):(0,s.jsx)("h3",{className:"font-medium text-sm",children:"File Previewer"})}),(0,s.jsx)("div",{className:"flex-1 min-h-0 border rounded-md bg-muted/30 flex items-start justify-center p-2 overflow-auto",children:(()=>{if(!l)return(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-center",children:(0,s.jsx)(P.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a file from the folder navigation to preview its contents"})})]});if(l.isDir&&function(e){if(!e.isDir||!e.children)return!1;let t=[j.p.Image,j.p.Video,j.p.Audio,j.p.Model3D];return e.children.some(e=>{if(e.isDir)return!1;let l=(0,j.t)(e.name);return t.includes(l)})}(l))return(0,s.jsx)(ey,{item:l});switch(a){case j.p.Image:return(0,s.jsx)(V,{item:l});case j.p.Video:return(0,s.jsx)(G,{item:l});case j.p.Audio:return(0,s.jsx)(W,{item:l});case j.p.Json:return(0,s.jsx)(er,{item:l});case j.p.Yaml:return(0,s.jsx)(ei,{item:l});case j.p.ColumnarTable:return(0,s.jsx)(eu,{item:l});case j.p.RowTable:return(0,s.jsx)(em,{item:l});case j.p.Text:return(0,s.jsx)(es,{item:l});case j.p.Pdf:return(0,s.jsx)(eA,{item:l});case j.p.Model3D:return(0,s.jsx)(eE,{modelUrl:(0,O.w8)(l.path,!0)});default:let e=l.isDir?function(e){if(!e.isDir||!e.children)return null;let t=e.children.filter(e=>e.isDir).length,l={};return e.children.forEach(e=>{if(!e.isDir){let t=e.name.includes(".")?"."+e.name.split(".").pop().toLowerCase():"(no ext)";l[t]=(l[t]||0)+1}}),{extensionCounts:l,folderCount:t}}(l):null;return(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center",children:l.isDir?(0,s.jsx)(n.A,{className:"h-12 w-12 text-muted-foreground"}):(0,s.jsx)(P.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-muted-foreground mb-2",children:l.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["File Type: ",l.isDir?"Folder":a||"Unknown"]}),e&&(Object.keys(e.extensionCounts).length>0||e.folderCount>0)&&(0,s.jsx)("div",{className:"mt-4 mb-2 inline-block",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground justify-center",children:[e.folderCount>0&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Folders:"}),(0,s.jsx)("span",{children:e.folderCount})]}),Object.entries(e.extensionCounts).sort((e,t)=>{let[l]=e,[s]=t;return l.localeCompare(s)}).map(e=>{let[t,l]=e;return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)("span",{className:"font-medium",children:[t,":"]}),(0,s.jsx)("span",{children:l})]},t)})]})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:l.isDir?"This folder does not contain media files for album preview":"Preview not available for this file type"})]})]})}})()})]})}function eT(){return(0,s.jsx)("div",{className:"h-full w-full",style:{maxHeight:"calc(100vh - ".concat(r.D,"px)")},children:(0,s.jsxs)(a.N,{direction:"horizontal",defaultSizes:[30,70],minSize:20,maxSize:80,className:"h-full",children:[(0,s.jsx)(L,{}),(0,s.jsx)(eC,{})]})})}},13915:(e,t,l)=>{l.d(t,{A:()=>d});var s=l(23892),a=l(85848),r=l(40845),n=l(16291),i=l(18850),o=l(16299);function d(e){var t,l;let{icon:d,title:c,tooltip:u,children:m,width:x="90vw",height:h="90vh",buttonClassName:f="",onOpen:p}=e,[j,N]=(0,a.useState)(!1),g=(0,a.isValidElement)(d)?(0,a.cloneElement)(d,{className:"h-4 w-4 ".concat((null==(t=d.props)?void 0:t.className)||"").trim()}):d,v=(0,a.isValidElement)(d)?(0,a.cloneElement)(d,{className:"h-5 w-5 ".concat((null==(l=d.props)?void 0:l.className)||"").trim()}):d;return(0,s.jsxs)(n.lG,{open:j,onOpenChange:()=>{},children:[(0,s.jsx)(n.zM,{asChild:!0,children:(0,s.jsx)("button",{title:u||c,onClick:()=>{N(!0),null==p||p()},className:"".concat(o.V.ICON_BUTTON_SM," h-8 px-2 ").concat(f),children:g})}),(0,s.jsxs)(n.Cf,{className:"max-w-none p-0 flex flex-col",style:{width:x,height:h},"aria-describedby":void 0,children:[(0,s.jsx)(n.c7,{className:"p-6 pb-2 flex-shrink-0",children:(0,s.jsxs)(n.L3,{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:v}),(0,s.jsx)("span",{children:c})]}),(0,s.jsx)("button",{onClick:()=>N(!1),className:"".concat(o.V.ICON_BUTTON_SM," "),"aria-label":"Close dialog",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(r.Zp,{className:"flex-1 mx-6 mb-6 mt-0 overflow-auto flex flex-col",children:(0,s.jsx)(r.Wu,{className:"flex-1 p-0 overflow-auto",children:j&&m})})]})]})}},26460:(e,t,l)=>{l.d(t,{$:()=>j,Ay:()=>N,EI:()=>h,OX:()=>m,PI:()=>o,hE:()=>x});var s=l(58976),a=l(18607),r=l(16023),n=l(62252),i=l(69984);let o=(0,s.zD)("folderTree/loadFolderContents",async e=>{let{path:t,limit:l=100,showHidden:s=!1}=e,a=new URLSearchParams({path:t,limit:l.toString(),show_hidden:s.toString()}),n=await fetch("".concat(r.m4,"/ls?").concat(a));if(!n.ok)throw Error("Failed to load folder contents: ".concat(n.statusText));return{path:t,items:await n.json()}});function d(e,t){let l=e.name===t||""===t?e.name:(0,a.CN)(t,e.name);return{id:l,name:(0,a.uk)(l)||e.name,path:l,isDir:e.isDir,size:e.size,lastModified:e.lastModified,children:e.isDir?[]:void 0,isLoaded:!1,isExpanded:!1,loading:!1}}function c(e,t,l){return e.path===t?l(e):e.children?{...e,children:e.children.map(e=>c(e,t,l))}:e}let u=(0,s.Z0)({name:"folderTree",initialState:{rootNode:null,expandedPaths:[],loading:!1,error:null,viewingId:null},reducers:{toggleNodeExpansion:(e,t)=>{let l=t.payload,s=e.expandedPaths.indexOf(l);s>=0?e.expandedPaths.splice(s,1):e.expandedPaths.push(l),e.rootNode&&(e.rootNode=c(e.rootNode,l,e=>({...e,isExpanded:!e.isExpanded})))},expandNode:(e,t)=>{let l=t.payload;0>e.expandedPaths.indexOf(l)&&e.expandedPaths.push(l),e.rootNode&&(e.rootNode=c(e.rootNode,l,e=>({...e,isExpanded:!0})))},clearTree:e=>{e.rootNode=null,e.expandedPaths=[],e.error=null},setViewingId:(e,t)=>{e.viewingId=t.payload},setNodeLoading:(e,t)=>{let{path:l,loading:s}=t.payload;e.rootNode&&(e.rootNode=c(e.rootNode,l,e=>({...e,loading:s})))}},extraReducers:e=>{e.addCase(o.pending,(e,t)=>{e.loading=!0,e.error=null;let l=t.meta.arg.path;e.rootNode&&(e.rootNode=c(e.rootNode,l,e=>({...e,loading:!0})))}).addCase(o.fulfilled,(e,t)=>{e.loading=!1;let{path:l,items:s}=t.payload;if(e.rootNode){let t=c(e.rootNode,l,e=>({...e,children:s.map(e=>d(e,l)),isLoaded:!0,loading:!1}));e.rootNode=t}else e.rootNode=d({name:(0,a.uk)(l),size:0,lastModified:Date.now(),isDir:!0},(0,a.Gl)(l)),e.rootNode.path=l,e.rootNode.isLoaded=!0,e.rootNode.isExpanded=!0,e.rootNode.children=s.map(e=>d(e,l))}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load folder contents";let l=t.meta.arg.path;e.rootNode&&(e.rootNode=c(e.rootNode,l,e=>({...e,loading:!1})))})}}),{toggleNodeExpansion:m,expandNode:x,clearTree:h,setNodeLoading:f}=u.actions,{setViewingId:p}=u.actions,j=e=>t=>{if(t(p(e)),e){let l=(0,n.t)(e);(l===n.p.ColumnarTable||l===n.p.RowTable)&&t((0,i.setTablePath)(e))}},N=u.reducer},57182:(e,t,l)=>{l.d(t,{A:()=>d});var s=l(23892),a=l(85848),r=l(82918),n=l(96110),i=l(47160),o=l(18076);i.syG.registerModules([i.JKr]);let d=(0,a.memo)(function(e){let{data:t,className:l="",onGridReady:a,colDefOverrides:i,gridOptionOverrides:d}=e,c=(0,n.d2)(),u=(0,n.uM)(),m=(0,n.en)(),x=(0,n.GV)(e=>e.ui.rowHeight),h=(0,o.bt)(t).map(e=>{let t=e.field,l=i&&t?i[t]:void 0;return l?{...e,...l}:e}),f={...m,rowHeight:x,...d};return(0,s.jsx)("div",{className:"h-full w-full ".concat(l," rounded-md"),children:(0,s.jsx)(r.W6,{theme:c,rowData:t,columnDefs:h,onGridReady:e=>{null==a||a(e)},defaultColDef:u,...f})})})},60620:(e,t,l)=>{l.d(t,{A:()=>d});var s=l(23892),a=l(96110),r=l(24056),n=l(18870),i=l(13915);function o(){let e=(0,a.GV)(e=>e);return(0,s.jsx)("div",{className:"flex-1 p-0 overflow-hidden",children:(0,s.jsx)(n.A,{src:e,className:"h-full"})})}function d(){return(0,s.jsx)(i.A,{icon:(0,s.jsx)(r.A,{}),title:"Redux State Viewer",tooltip:"Debug Redux State",width:"50vw",height:"90vh",children:(0,s.jsx)(o,{})})}},61897:(e,t,l)=>{l.d(t,{A:()=>a});var s=l(23892);function a(e){let{title:t,message:l,details:a}=e;return(0,s.jsxs)("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-1",children:t}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:l}),a&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-2",children:a})]})}},80397:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(23892),a=l(16299);function r(e){let{url:t,className:l=""}=e;return(0,s.jsx)("a",{href:t,onClick:e=>{e.preventDefault(),window.open(t,"_blank","noopener,noreferrer")},className:"".concat(a.V.HYPERLINK," py-1 truncate block ").concat(l),title:t,children:t})}},81417:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var s=l(23892),a=l(85848),r=l(66668);function n(e){let{samples:t,duration:l,currentTime:r,onSeek:n,height:i=80}=e,o=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[u,m]=(0,a.useState)(800);return(0,a.useEffect)(()=>{if(!c.current)return;let e=()=>{c.current&&m(c.current.clientWidth)};e();let t=new ResizeObserver(e);return t.observe(c.current),()=>{t.disconnect()}},[]),(0,a.useEffect)(()=>{if(!o.current)return;let e=o.current,l=e.getContext("2d"),s=e.width,a=e.height;l.clearRect(0,0,s,a);let r=Math.floor(t.length/s);l.strokeStyle=getComputedStyle(e).getPropertyValue("--chart-default-fill").trim()||"#3b82f6",l.lineWidth=1.5,l.beginPath();for(let e=0;e<s;e++){let s=a/2*(1-(t[e*r]||0));0===e?l.moveTo(e,s):l.lineTo(e,s)}l.stroke(),l.strokeStyle="hsl(var(--border))",l.lineWidth=1,l.beginPath(),l.moveTo(0,a/2),l.lineTo(s,a/2),l.stroke()},[t,u]),(0,a.useEffect)(()=>{if(!d.current)return;let e=d.current,t=e.getContext("2d"),s=e.width,a=e.height;t.clearRect(0,0,s,a);let n=r/l*s;t.strokeStyle="red",t.lineWidth=2,t.beginPath(),t.moveTo(n,0),t.lineTo(n,a),t.stroke()},[l,r]),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{ref:c,className:"relative w-full cursor-pointer rounded overflow-hidden bg-muted/20 border border-border",style:{height:i},onClick:function(e){if(!o.current)return;let t=o.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*l;n(Math.max(0,Math.min(l,s)))},children:[(0,s.jsx)("canvas",{ref:o,width:u,height:i,className:"absolute inset-0 w-full h-full"}),(0,s.jsx)("canvas",{ref:d,width:u,height:i,className:"absolute inset-0 w-full h-full pointer-events-none"})]})})}l(89116);var i=l(65102),o=l(70621);function d(e){let{audioUrl:t,autoPlay:l=!1,alt:d}=e,c=(0,a.useRef)(null),[u,m]=(0,a.useState)(0),{audioData:x,isLoading:h,error:f}=(0,o.s)(t),p=e=>{var t,l;(null==(l=c.current)||null==(t=l.audio)?void 0:t.current)&&(c.current.audio.current.currentTime=e)};return f?(0,s.jsx)("div",{className:"p-4 w-full flex items-center justify-start h-[280px]",children:(0,s.jsxs)("div",{className:"flex flex-col items-start space-y-3 max-w-full overflow-hidden",children:[d&&(0,s.jsx)("span",{className:"text-sm font-medium text-foreground break-all line-clamp-2",children:d}),(0,s.jsx)("span",{className:"text-xs break-all line-clamp-3 text-left text-destructive",children:f.message})]})}):h||!x?(0,s.jsx)("div",{className:"p-4 w-full flex items-center justify-center h-[280px]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading audio..."})]})}):(0,s.jsxs)("div",{className:"p-2 w-full space-y-2",children:[(0,s.jsx)(r.A,{ref:c,src:t,autoPlay:l,autoPlayAfterSrcChange:!1,showJumpControls:!1,customAdditionalControls:[],layout:"horizontal-reverse",listenInterval:100,onListen:()=>{var e,t;(null==(t=c.current)||null==(e=t.audio)?void 0:e.current)&&m(c.current.audio.current.currentTime)}}),(0,s.jsx)(n,{samples:x.samples,duration:x.duration,currentTime:u,onSeek:p,height:50}),(0,s.jsx)(i.A,{samples:x.samples,duration:x.duration,currentTime:u,onSeek:p,height:120})]})}},82509:(e,t,l)=>{function s(e){let t=Date.now()-e;return t<6e4?"now":t<36e5?"".concat(Math.floor(t/6e4),"m"):t<864e5?"".concat(Math.floor(t/36e5),"h"):t<6048e5?"".concat(Math.floor(t/864e5),"d"):t<2592e6?"".concat(Math.floor(t/6048e5),"w"):t<31536e6?"".concat(Math.floor(t/2592e6),"mo"):"".concat(Math.floor(t/31536e6),"y")}function a(e){return new Date(e).toLocaleDateString()}l.d(t,{Y:()=>a,f:()=>s})},83252:(e,t,l)=>{l.d(t,{w8:()=>r,x4:()=>a});var s=l(16023);async function a(e){let{relativeUrl:t,setData:l,setLoading:a,setError:r}=e;if(a(!0),r(null),l(null),t.startsWith(".")||t.startsWith("/")){r('Invalid relative URL: must not start with "." or "/"'),a(!1);return}try{let e="".concat(s.m4,"/").concat(t),a=await fetch(e);if(!a.ok){let e=await a.json();r(e.error||"API request failed: ".concat(a.statusText));return}let n=await a.json();l(n)}catch(e){r(e instanceof Error?e.message:"Failed to load data")}finally{a(!1)}}function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=new URLSearchParams({path:e,redirect:t.toString()});return"".concat(s.m4,"/get-file?").concat(l.toString())}}}]);