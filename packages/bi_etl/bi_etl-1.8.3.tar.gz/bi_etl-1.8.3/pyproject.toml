[project]
name = "bi_etl"
version = "1.8.3"
description = "Python ETL Framework"
authors = [{ name = "Derek Wood", email = "bietl_info@bietl.dev" }]
requires-python = ">=3.10"
readme = "README.md"
license = "MIT"
keywords = ["etl"]
classifiers = [
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Development Status :: 5 - Production/Stable",
    "Topic :: Database",
]
dependencies = [
    "config-wrangler[aws]>=1.3",
    "SQLAlchemy>=1.4.49",
    "semidbm>=0.5.1",
    "psutil>=5.7.2",
    "openpyxl>=3.0.5",
    "btrees>=4.7.2",
    "gevent>=21.8.0",
    "sqlparse>=0.4.2",
    "pydicti>=1.1.6",
    "more-itertools>=9.0.0",
]
documentation = "https://bietl.dev/docs/"
repository = "https://github.com/arcann/bi_etl"

[project.optional-dependencies]
keyring = ["keyring>=21.1.0"]
pykeepass = ["pykeepass>=4.0.6"]
jira = ["jira>=3.1.1"]
slack = ["slack-sdk>=3.19.5"]
redshift = [
    "pyarrow>=10.0.1",
    "psycopg2",
]
avro = ["fastavro>=1.0.0"]
all = [
    "keyring",
    "pykeepass",
    "jira",
    "slack",
    "dagster",
    "dagster-webserver",
    "psycopg2",
]
test = [
    "psycopg2",
    "testcontainers",
]

[dependency-groups]
dev = [
    "boto3>=1.40",
    "dagster>=1.5.7",
    "dagster-webserver>=1.6.3",
    "fastavro>=1.5.3",
    "junitparser>=3.2,<4",
    "junit2html>=31.0,<32",
    "numpy>=1.25.1",
    "oracledb>=1.2.0",
    "paramiko",
    "pip>=22.1.2",
    "psycopg[binary]>=3.1.18,<4",
    "pyarrow>=12.0.1",
    "pykeepass>=4.0.5",
    "pylint>=3.3.8,<4",
    "pytest>=7.4.1,<8",
    "pytest-xdist>=3.6.1,<4",
    "slack-sdk>=3.19.5",
    "sphinx-autobuild>=2021.3.14,<2022",
    "testcontainers[mysql, oracle, postgres, mssql]>=3.5.4",
    "toml>=0.10.1,<0.11",
    "coverage>=7.13.0",
]
docs = [
    "Sphinx>=7.2.2",
    "sphinx-paramlinks>=0.5.4",
    "autodoc-pydantic>=2.0.1",
    "sphinx-rtd-theme>=1.3.0",
]

[tool.uv]
default-groups = ["dev"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.pytest.ini_options]
minversion = "7.0"
addopts = "-n=auto"
testpaths = [
    "tests",
]

[tool.pylint.MAIN]
max-line-length = 120
load-plugins = "pylint.extensions.bad_builtin"

[tool.pylint.'MESSAGES CONTROL']
disable = [
    "too-many-lines",
    "too-many-instance-attributes",
    "too-many-statements",
    "too-many-nested-blocks",
    "too-many-branches",
    "too-many-arguments",
    "too-many-public-methods",
    "no-else-return",
    "logging-fstring-interpolation",
]
