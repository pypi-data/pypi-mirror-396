(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{55173:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-experience",function(){return s(44061)}])},59301:function(e,t,s){"use strict";var i=s(24246);let{Link:n}=s(39158).AntTypography;t.Z=e=>{let{children:t,...s}=e;return(0,i.jsx)(n,{target:"_blank",rel:"noopener noreferrer",...s,children:t})}},32222:function(e,t,s){"use strict";s.d(t,{J:function(){return i}});let i=new Map([["overlay","Overlay"],["privacy_center","Privacy center"],["tcf_overlay","TCF overlay"],["modal","Modal"],["banner_and_modal","Banner and modal"],["headless","Headless"]])},44061:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var i=s(24246),n=s(39158),a=s(27378),r=s(35287),o=s(92222),l=s(59003),c=s(47935),d=s(86677),p=s(77830),u=s(19904),x=s(45277),h=s(59301),y=s(812),g=s(46628),m=s(32885),j=e=>{let{isOpen:t,onClose:s,testId:r="custom-asset-modal",assetType:o}=e,l=(0,a.useRef)(null),[c,d]=(0,a.useState)(null),p=(0,n.pmc)(),{getRootProps:u,getInputProps:j,isDragActive:f}=(0,x.uI)({onDrop:e=>{var t;if("css"!==(null===(t=e[0].name.split(".").pop())||void 0===t?void 0:t.toLowerCase())){p((0,g.Vo)("Only css files are allowed."));return}d(e[0])}}),[v,{isLoading:b}]=(0,m.JQ)(),w=async()=>{if(c){let e=await v({assetType:o,file:c});if((0,y.D4)(e)){p((0,g.Vo)((0,y.e$)(e.error)));return}p((0,g.t5)("Stylesheet uploaded successfully")),s()}};return(0,i.jsxs)(n.u_l,{initialFocusRef:l,isOpen:t,onClose:s,size:"2xl",children:[(0,i.jsx)(n.ZAr,{}),(0,i.jsxs)(n.hzk,{textAlign:"left",p:2,"data-testid":r,children:[(0,i.jsx)(n.xBx,{tabIndex:-1,ref:l,children:"Upload stylesheet"}),(0,i.jsxs)(n.fef,{children:[(0,i.jsxs)(n.xvT,{fontSize:"sm",mb:4,children:["To customize the appearance of your consent experiences, you may upload a CSS stylesheet."," ",(0,i.jsx)(h.Z,{href:"https://raw.githubusercontent.com/ethyca/fides/main/clients/fides-js/src/components/fides.css",children:"Download a template"})," ","as a helpful starting point.",(0,i.jsx)(h.Z,{href:"https://fid.es/customize-styles",children:"Learn more about customizing styles"}),"."]}),(0,i.jsxs)(n.xuv,{...u(),bg:f?"gray.100":"gray.50",border:"2px dashed",borderColor:f?"gray.300":"gray.200",borderRadius:"md",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,i.jsx)("input",{...j()}),c?(0,i.jsx)(n.xvT,{children:c.name}):f?(0,i.jsx)(n.xvT,{children:"Drop the file here..."}):(0,i.jsx)(n.xvT,{children:"Click or drag and drop your file here."})]})]}),(0,i.jsxs)(n.mzw,{className:"flex w-full justify-end gap-2",children:[(0,i.jsx)(n.wpx,{onClick:s,"data-testid":"cancel-btn",disabled:b,children:"Cancel"}),(0,i.jsx)(n.wpx,{type:"primary",htmlType:"submit",disabled:!c||b,onClick:w,"data-testid":"submit-btn",children:"Submit"})]})]})]})},f=e=>{let{assetType:t}=e,s=(0,n.qY0)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.wpx,{onClick:s.onOpen,children:"Upload stylesheet"}),(0,i.jsx)(j,{isOpen:s.isOpen,onClose:s.onClose,assetType:t})]})},v=s(72625),b=s(32222),w=s(94315);let C=e=>{var t;let s=null!==(t=b.J.get(e))&&void 0!==t?t:e;return(0,i.jsx)(v.G3,{value:s})},T=e=>{let{row:t,getValue:s}=e,[n]=(0,w.o3)(),[r,o]=(0,a.useState)(!1),l=async e=>{o(!0);let s=await n({id:t.original.id,disabled:!e});return o(!1),s},c=s(),{regions:d}=t.original,p=!!d&&d.length>1;return(0,i.jsx)(v.S1,{enabled:!c,onToggle:l,title:p?"Disabling multiple states":"Disabling experience",message:p?"Warning, you are about to disable this privacy experience for multiple locations. If you continue, your privacy notices will not be accessible to users in these locations.":"Warning, you are about to disable this privacy experience. If you continue, your privacy notices will not be accessible to users in this location.",loading:r})};var _=s(88340),S=s(25980),R=s(14048);let P="{privacy-center-hostname-and-path}",k='<script src="https://'.concat(P,'/fides.js"></script>'),E="<script>Fides.gtm()</script>";var z=()=>{let e=(0,n.qY0)(),t=(0,a.useRef)(null),{fidesCloud:s}=(0,S.hz)(),{data:r,isSuccess:o}=(0,m.Vh)(void 0,{skip:!s}),l=(0,a.useMemo)(()=>s&&o&&(null==r?void 0:r.privacy_center_url)?k.replace(P,r.privacy_center_url):k,[null==r?void 0:r.privacy_center_url,s,o]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.wpx,{onClick:e.onOpen,icon:(0,i.jsx)(R.TI,{}),iconPosition:"end","data-testid":"js-tag-btn",children:"Get JavaScript tag"}),(0,i.jsxs)(n.u_l,{isOpen:e.isOpen,onClose:e.onClose,isCentered:!0,size:"xl",initialFocusRef:t,children:[(0,i.jsx)(n.ZAr,{}),(0,i.jsxs)(n.hzk,{"data-testid":"copy-js-tag-modal",children:[(0,i.jsx)(n.xBx,{tabIndex:-1,ref:t,pb:0,children:"Copy JavaScript tag"}),(0,i.jsx)(n.fef,{pt:3,pb:6,children:(0,i.jsxs)(n.Kqy,{spacing:3,children:[(0,i.jsx)(n.xvT,{children:"Copy the code below and paste it onto every page of your website, as high up in the <head> as possible. Replace the bracketed component with your privacy center's hostname and path."}),(0,i.jsxs)(n.EKh,{display:"flex",justifyContent:"space-between",alignItems:"center",p:0,children:[(0,i.jsx)(n.xvT,{p:4,children:l}),(0,i.jsx)(_.Z,{copyText:l})]}),(0,i.jsx)(n.xvT,{children:"Optionally, you can enable Google Tag Manager for managing tags on your website by including the script tag below along with the Fides.js tag. Place it below the Fides.js script tag."}),(0,i.jsxs)(n.EKh,{display:"flex",justifyContent:"space-between",alignItems:"center",p:0,children:[(0,i.jsx)(n.xvT,{p:4,children:E}),(0,i.jsx)(_.Z,{copyText:E})]}),(0,i.jsxs)(n.xvT,{children:["For more information about adding a JavaScript tag to your website, please visit"," ",(0,i.jsx)(n.rUS,{color:"complimentary.500",href:"https://docs.ethyca.com/tutorials/consent-management-configuration/install-fides#install-fidesjs-script-on-your-website",isExternal:!0,children:"docs.ethyca.com"})]})]})})]})]})]})},I=s(22286),D=s(60240);let M={items:[],total:0,page:1,size:25,pages:1},O=()=>{let e=(0,d.useRouter)();return(0,i.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,i.jsxs)(n.gCW,{children:[(0,i.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No privacy experiences found."}),(0,i.jsx)(n.xvT,{fontSize:"sm",children:'Click "Create new experience" to add your first privacy experience to Fides.'})]}),(0,i.jsx)(n.wpx,{onClick:()=>e.push("".concat(p.w0,"/new")),size:"small",type:"primary","data-testid":"add-privacy-experience-btn",children:"Create new experience"})]})},F=(0,o.Cl)(),N=()=>{let e=(0,d.useRouter)(),{isLoading:t}=(0,m.x8)(),s=(0,u.Tg)([D.Sh.PRIVACY_EXPERIENCE_UPDATE]),{PAGE_SIZES:r,pageSize:x,setPageSize:h,onPreviousPageClick:y,isPreviousPageDisabled:g,onNextPageClick:j,isNextPageDisabled:v,startRange:b,endRange:_,pageIndex:S,setTotalPages:R}=(0,c.oi)(),{isFetching:P,isLoading:k,data:E}=(0,w.cq)({page:S,size:x}),{items:N,total:V,pages:W}=(0,a.useMemo)(()=>E||M,[E]);(0,a.useEffect)(()=>{R(W)},[W,R]);let Z=(0,a.useMemo)(()=>[F.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(c.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(c.Rr,{value:"Title",...e})}),F.accessor(e=>e.component,{id:"component",cell:e=>C(e.getValue()),header:e=>(0,i.jsx)(c.Rr,{value:"Component",...e})}),F.accessor(e=>e.regions,{id:"regions",cell:e=>(0,i.jsx)(c.WP,{suffix:"Locations",value:(0,I.JL)(e.getValue()),...e}),header:e=>(0,i.jsx)(c.Rr,{value:"Locations",...e}),meta:{showHeaderMenu:!0}}),F.accessor(e=>e.properties.map(e=>e.name),{id:"properties",cell:e=>(0,i.jsx)(c.WP,{suffix:"Properties",value:e.getValue(),...e}),header:e=>(0,i.jsx)(c.Rr,{value:"Properties",...e}),meta:{showHeaderMenu:!0}}),F.accessor(e=>e.updated_at,{id:"updated_at",cell:e=>(0,i.jsx)(c.G3,{value:new Date(e.getValue()).toDateString()}),header:e=>(0,i.jsx)(c.Rr,{value:"Last update",...e})}),s&&F.accessor(e=>e.disabled,{id:"enable",cell:T,header:e=>(0,i.jsx)(c.Rr,{value:"Enable",...e}),meta:{disableRowClick:!0}})].filter(Boolean),[s]),A=(0,l.b7)({getCoreRowModel:(0,o.sC)(),getGroupedRowModel:(0,o.qe)(),getExpandedRowModel:(0,o.rV)(),columns:Z,manualPagination:!0,data:N,state:{expanded:!0},columnResizeMode:"onChange"});return k||t?(0,i.jsx)(c.I4,{rowHeight:36,numRows:15}):(0,i.jsx)("div",{children:(0,i.jsxs)(n.kCb,{flex:1,direction:"column",overflow:"auto",children:[s&&(0,i.jsxs)(c.Q$,{children:[(0,i.jsxs)(n.Ugi,{alignItems:"center",spacing:2,children:[(0,i.jsx)(z,{}),(0,i.jsx)(u.ZP,{scopes:[D.Sh.CUSTOM_ASSET_UPDATE],children:(0,i.jsx)(f,{assetType:D.Db.CUSTOM_FIDES_CSS})})]}),(0,i.jsx)(n.wpx,{onClick:()=>e.push("".concat(p.w0,"/new")),type:"primary","data-testid":"add-privacy-experience-btn",children:"Create new experience"})]}),(0,i.jsx)(c.ZK,{tableInstance:A,onRowClick:s?t=>{let{id:i}=t;s&&e.push("".concat(p.w0,"/").concat(i))}:void 0,emptyTableNotice:(0,i.jsx)(O,{})}),(0,i.jsx)(c.s8,{totalRows:V||0,pageSizes:r,setPageSize:h,onPreviousPageClick:y,isPreviousPageDisabled:g||P,onNextPageClick:j,isNextPageDisabled:v||P,startRange:b,endRange:_})]})})};var V=()=>(0,i.jsxs)(r.Z,{title:"Privacy experiences",children:[(0,i.jsx)(n.xuv,{mb:4,"data-testid":"privacy-experience-page",children:(0,i.jsx)(n.X6q,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Privacy experience"})}),(0,i.jsx)(n.xvT,{fontSize:"sm",mb:8,width:{base:"100%",lg:"70%"},children:"Based on your privacy notices, Fides has created the banner and modal privacy experience configuration below. Each experience contains privacy notices and locations where the notices will be displayed. Edit each banner, modal, or privacy center to adjust the included privacy notices, locations, and text that is displayed to your users. When youâ€™re ready to include these privacy notices on your website, copy the JavaScript using the button on this page and place it on your website."}),(0,i.jsx)(n.xuv,{children:(0,i.jsx)(N,{})})]})}},function(e){e.O(0,[5277,6853,2888,9774,179],function(){return e(e.s=55173)}),_N_E=e.O()}]);