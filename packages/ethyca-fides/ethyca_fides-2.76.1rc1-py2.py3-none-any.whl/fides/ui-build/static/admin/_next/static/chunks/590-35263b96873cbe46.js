(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{56141:function(e,t,n){var i=n(32866);e.exports=function(e,t){return i(e,t)}},77213:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var i=n(24246),a=n(39158),r=n(88038),s=n.n(r),o=n(86677);n(27378);var u=n(25980),l=n(90867),c=n(42478),d=n(77830),g=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(a.xuv,{children:[(0,i.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(a.wpx,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,i.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},T=e=>{let{children:t,title:n,padded:r=!0,mainProps:d}=e,T=(0,u.hz)(),E=(0,o.useRouter)(),f="/privacy-requests"===E.pathname||"/datastore-connection"===E.pathname,m=!(T.flags.messagingConfiguration&&f),{data:y}=(0,c.JE)(void 0,{skip:m}),{data:p}=(0,l.PW)(void 0,{skip:m}),_=T.flags.messagingConfiguration&&(!y||!p)&&f;return(0,i.jsxs)(a.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(s(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(a.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[_?(0,i.jsx)(g,{}):null,t]})]})}},58754:function(e,t,n){"use strict";var i=n(24246),a=n(39158),r=n(70788);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:s=!0,children:o,rightContent:u,style:l,...c}=e;return(0,i.jsxs)("div",{...c,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...l}:{paddingBottom:"24px",...l},children:[(0,i.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(a.lQT,{className:n||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,u&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:u})]}),!!n&&(0,i.jsx)(r.m,{className:o?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),o]})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return s}});var i=n(24246),a=n(16134),r=n(31793);let s=e=>(0,a.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return s(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},20987:function(e,t,n){"use strict";var i,a,r,s;n.d(t,{H:function(){return i},J:function(){return a}}),(r=i||(i={})).STRING="string",r.STRING_ARRAY="string[]",(s=a||(a={})).SYSTEM="system",s.DATA_USE="data use",s.DATA_CATEGORY="data category",s.DATA_SUBJECT="data subject",s.PRIVACY_DECLARATION="privacy declaration"},70788:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var i=n(24246),a=n(39158),r=n(79894),s=n.n(r),o=n(27378);let{Text:u}=a.AntTypography,l=e=>{let{items:t,...n}=e,r=(0,o.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let r=n===t.length-1,o={...e},l=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,i.jsx)(u,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:o.title})),l)?o.title=(0,i.jsx)(a.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,i.jsx)(s(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,i.jsx)(a.zrq,{items:r,...n})}},8917:function(e,t,n){"use strict";n.d(t,{P3:function(){return u},TY:function(){return o},Uv:function(){return a},uP:function(){return s}});var i,a,r=n(20987);let s=new Map([[r.J.SYSTEM,"system:information"],[r.J.DATA_USE,"taxonomy:data use"],[r.J.DATA_CATEGORY,"taxonomy:data category"],[r.J.DATA_SUBJECT,"taxonomy:data subject"],[r.J.PRIVACY_DECLARATION,"system:data use"]]);(i=a||(a={})).SINGLE_SELECT="singleSelect",i.MULTIPLE_SELECT="multipleSelect",i.OPEN_TEXT="openText";let o=[{label:"Single select",value:"singleSelect"},{label:"Multiple select",value:"multipleSelect"},{label:"Open text",value:"openText"}],u={singleSelect:"Single-value select",multipleSelect:"Multi-value select",openText:"Open text"}},67522:function(e,t,n){"use strict";var i=n(56141),a=n.n(i),r=n(20987),s=n(812),o=n(8917),u=n(32885);let l=()=>Date.now().toString()+Math.random().toString(),c=e=>e.startsWith("taxonomy:")?e.split(":",2)[1]:"system:information"===e?"system":"system:data use"===e?"privacy declaration":e;t.Z=()=>{let[e,{isLoading:t}]=(0,u.Ld)(),[n,{isLoading:i}]=(0,u.yM)(),[d]=(0,u.Nt)();return{createOrUpdate:async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,g=c(t.resource_type);if(t.field_type===o.Uv.OPEN_TEXT){let a={...t,field_type:r.H.STRING,id:i?i.id:void 0,resource_type:g};return i?await n(a):await e(a)}if(t.field_type===o.Uv.SINGLE_SELECT||t.field_type===o.Uv.MULTIPLE_SELECT){var T,E;let c;if(!i){let{options:n,...i}=t,a={name:l(),allowed_values:null!=n?n:[]},u=await d(a);if((0,s.D4)(u))return u;let c={...i,field_type:t.field_type===o.Uv.SINGLE_SELECT?r.H.STRING:r.H.STRING_ARRAY,allow_list_id:null===(T=u.data)||void 0===T?void 0:T.id,resource_type:g};return await e(c)}let{options:f,...m}=t;if(!a()(null==u?void 0:u.allowed_values,f)){let e={...u,name:null!==(E=null==u?void 0:u.name)&&void 0!==E?E:l(),id:null==u?void 0:u.id,allowed_values:null!=f?f:[]};if(c=await d(e),(0,s.D4)(c))return c}let y={...m,id:i.id,allow_list_id:c&&!(0,s.D4)(c)?c.data.id:i.allow_list_id,resource_type:g,field_type:t.field_type===o.Uv.SINGLE_SELECT?r.H.STRING:r.H.STRING_ARRAY};return await n(y)}let{value_type:f,...m}=t,y={...m,id:i?i.id:void 0,field_type:f,resource_type:g};return i?await n(y):await e(y)},isLoading:t||i}}},66006:function(e,t,n){"use strict";var i=n(25980),a=n(59001),r=n(39864);t.Z=()=>{let{plus:e}=(0,i.hz)(),{data:t,isLoading:n}=(0,r.MU)(void 0,{skip:!e}),s=[{label:a.Lo.DATA_CATEGORIES,value:a.ac.DATA_CATEGORY},{label:a.Lo.DATA_USES,value:a.ac.DATA_USE},{label:a.Lo.DATA_SUBJECTS,value:a.ac.DATA_SUBJECT}];return e&&s.push({label:a.Lo.SYSTEM_GROUPS,value:a.ac.SYSTEM_GROUP}),n||(null==t?void 0:t.length)&&s.push(...t.map(e=>({label:e.name,value:e.fides_key}))),{valueTypeOptions:s}}},42478:function(e,t,n){"use strict";n.d(t,{FU:function(){return l},JE:function(){return a},Ki:function(){return d},SU:function(){return g},W:function(){return T},h9:function(){return r},jc:function(){return i},qt:function(){return u},sn:function(){return c}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:s,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:u,useGetMessagingConfigurationByKeyQuery:l,useUpdateMessagingConfigurationByKeyMutation:c,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:T}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let a=await i({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},59001:function(e,t,n){"use strict";n.d(t,{Ch:function(){return u},Lo:function(){return s},_g:function(){return l},ac:function(){return r},aq:function(){return c}});var i,a,r,s,o=n(60240);let u="root";(i=r||(r={})).DATA_CATEGORY="data_category",i.DATA_USE="data_use",i.DATA_SUBJECT="data_subject",i.SYSTEM_GROUP="system_group",(a=s||(s={})).DATA_CATEGORIES="Data categories",a.DATA_USES="Data uses",a.DATA_SUBJECTS="Data subjects",a.SYSTEM_GROUPS="System groups";let l=e=>{switch(e){case"data_category":return"Data categories";case"data_use":return"Data uses";case"data_subject":return"Data subjects";case"system_group":return"System groups";default:return e}},c=e=>{switch(e){case"data_category":return{UPDATE:o.Sh.DATA_CATEGORY_UPDATE,CREATE:o.Sh.DATA_CATEGORY_CREATE,DELETE:o.Sh.DATA_CATEGORY_DELETE,READ:o.Sh.DATA_CATEGORY_READ};case"data_use":return{UPDATE:o.Sh.DATA_USE_UPDATE,CREATE:o.Sh.DATA_USE_CREATE,DELETE:o.Sh.DATA_USE_DELETE,READ:o.Sh.DATA_USE_READ};case"data_subject":return{UPDATE:o.Sh.DATA_SUBJECT_UPDATE,CREATE:o.Sh.DATA_SUBJECT_CREATE,DELETE:o.Sh.DATA_SUBJECT_DELETE,READ:o.Sh.DATA_SUBJECT_READ};case"system_group":return{UPDATE:o.Sh.SYSTEM_GROUP_UPDATE,CREATE:o.Sh.SYSTEM_GROUP_CREATE,DELETE:o.Sh.SYSTEM_GROUP_DELETE,READ:o.Sh.SYSTEM_GROUP_READ};default:return{UPDATE:o.Sh.TAXONOMY_UPDATE,CREATE:o.Sh.TAXONOMY_CREATE,DELETE:o.Sh.TAXONOMY_DELETE,READ:o.Sh.TAXONOMY_READ}}}},39864:function(e,t,n){"use strict";n.d(t,{Cy:function(){return o},EO:function(){return d},Hb:function(){return l},J1:function(){return s},Jy:function(){return a},Km:function(){return c},MU:function(){return i},ci:function(){return r},d9:function(){return u}});let{useGetCustomTaxonomiesQuery:i,useGetTaxonomyQuery:a,useLazyGetTaxonomyQuery:r,useCreateTaxonomyMutation:s,useUpdateTaxonomyMutation:o,useDeleteTaxonomyMutation:u,useCreateCustomTaxonomyMutation:l,useUpdateCustomTaxonomyMutation:c,useDeleteCustomTaxonomyMutation:d}=n(78780).u.injectEndpoints({endpoints:e=>({getTaxonomy:e.query({query:e=>({url:"taxonomies/".concat(e,"/elements")}),providesTags:(e,t,n)=>[{type:"Taxonomy",id:n}],transformResponse:e=>{let t=[],n=[...e],i=n.filter(e=>null===e.parent_key);i.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)),t.push(...i);let a=n.filter(e=>null!==e.parent_key);for(;a.length>0;){let e=a.filter(e=>t.some(t=>t.fides_key===e.parent_key));if(0===e.length){t.push(...a.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)));break}e.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)),t.push(...e),a=a.filter(t=>!e.includes(t))}return t}}),getCustomTaxonomies:e.query({query:()=>({url:"taxonomies"}),providesTags:()=>[{type:"Taxonomy"}]}),createTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,...n}=e;return{url:"taxonomies/".concat(t,"/elements"),method:"POST",body:n}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i}]}}),updateTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,...n}=e;return{url:"taxonomies/".concat(t,"/elements/").concat(n.fides_key),method:"PUT",body:n}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i}]}}),deleteTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,key:n}=e;return{url:"taxonomies/".concat(t,"/").concat(n),method:"DELETE"}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i}]}}),createCustomTaxonomy:e.mutation({query:e=>({url:"taxonomies",method:"POST",body:e}),invalidatesTags:()=>[{type:"Taxonomy"}]}),updateCustomTaxonomy:e.mutation({query:e=>{let{fides_key:t,...n}=e;return{url:"taxonomies/".concat(t),method:"PUT",body:n}},invalidatesTags:()=>[{type:"Taxonomy"}]}),deleteCustomTaxonomy:e.mutation({query:e=>({url:"taxonomies/".concat(e),method:"DELETE"}),invalidatesTags:()=>[{type:"Taxonomy"}]})})})},31883:function(e,t,n){"use strict";n.d(t,{Bw:function(){return i.Bw},D4:function(){return i.D4}});var i=n(19043)}}]);