(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7262],{81575:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-notices",function(){return a(13089)}])},58754:function(e,t,a){"use strict";var l=a(24246),i=a(39158),n=a(70788);t.Z=e=>{let{heading:t,breadcrumbItems:a,isSticky:s=!0,children:r,rightContent:o,style:c,...d}=e;return(0,l.jsxs)("div",{...d,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,l.jsxs)(i.jqI,{justify:"space-between",children:["string"==typeof t?(0,l.jsx)(i.lQT,{className:a||r?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,o&&(0,l.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!a&&(0,l.jsx)(n.m,{className:r?"pb-4":void 0,items:a,"data-testid":"page-breadcrumb"}),r]})}},70788:function(e,t,a){"use strict";a.d(t,{m:function(){return c}});var l=a(24246),i=a(39158),n=a(79894),s=a.n(n),r=a(27378);let{Text:o}=i.AntTypography,c=e=>{let{items:t,...a}=e,n=(0,r.useMemo)(()=>null==t?void 0:t.map((e,a)=>{let n=a===t.length-1,r={...e},c=r.onClick&&!r.href;return("string"==typeof r.title&&(r.title=(0,l.jsx)(o,{style:{color:"inherit",maxWidth:n?void 0:400},ellipsis:!n,id:n?"breadcrumb-current-page":void 0,children:r.title})),c)?r.title=(0,l.jsx)(i.wpx,{type:"text",size:"small",icon:r.icon,onClick:r.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:r.title}):(r.icon&&(r.title=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"anticon align-text-bottom",children:r.icon}),r.title]})),r.href&&r.title&&(r.title=(0,l.jsx)(s(),{href:r.href,className:"ant-breadcrumb-link",children:r.title}),delete r.href)),r}),[t]);return(0,l.jsx)(i.zrq,{items:n,...a})}},2525:function(e,t,a){"use strict";a.d(t,{Q:function(){return r}});var l=a(24246),i=a(39158),n=a(27378),s=a(3110);let r=e=>{let{values:t,columnState:a,tagProps:r,onTagClose:o,onStateChange:c,...d}=e,{isExpanded:u,isWrapped:p,version:h}=a||{},[x,g]=(0,n.useState)(!u),[m,v]=(0,n.useState)(!!p),[f,j]=(0,n.useState)(u?t:null==t?void 0:t.slice(0,2));(0,n.useEffect)(()=>{g(!u)},[u,h]),(0,n.useEffect)(()=>{v(!!p)},[p]),(0,n.useEffect)(()=>{(null==t?void 0:t.length)?j(x?t.slice(0,2):t):j(t)},[x,t,c]),(0,n.useEffect)(()=>{(null==t?void 0:t.length)&&t.length<=2&&!x&&(g(!0),null==c||c(!1))},[t,c,x]);let b=(0,n.useCallback)(()=>{j(null==t?void 0:t.slice(0,2)),g(!0),null==c||c(!1)},[t,c]),y=(0,n.useCallback)(()=>{g(!1),null==c||c(!0)},[c]),w=(0,n.useCallback)(()=>{x?y():b()},[x,y,b]);return(0,n.useMemo)(()=>(null==f?void 0:f.length)?(0,l.jsxs)(i.jqI,{align:x?"center":"start",wrap:m?"wrap":"nowrap",vertical:!x,gap:"small","data-testid":"tag-expandable-cell",style:{overflowX:"auto",...d.style},...d,children:[f.map(e=>(0,l.jsx)(i.j8w,{color:"white","data-testid":e.key,onClose:o?()=>o(e.key):void 0,...r,...e.tagProps,children:(0,l.jsx)(i.lKn,{ellipsis:!!x&&{tooltip:!0},style:{color:"inherit",maxWidth:x?s.TD:void 0},children:e.label})},e.key)),t&&t.length>2&&(0,l.jsx)(i.wpx,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),w()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:x?"+".concat(t.length-2," more"):s.T5})]}):(0,l.jsx)("span",{"data-testid":"tag-expandable-cell-empty"}),[f,x,m,d,t,r,o,w])}},3110:function(e,t,a){"use strict";a.d(t,{DI:function(){return r},T5:function(){return n},TD:function(){return s}});var l=a(24246),i=a(39158);let n="show less",s=150,r=[{key:"expand-all",label:"Expand all",icon:(0,l.jsx)(i.PJP.jbG,{})},{key:"collapse-all",label:"Collapse all",icon:(0,l.jsx)(i.PJP.MVB,{})}]},26070:function(e,t,a){"use strict";a.d(t,{v:function(){return o},Q:function(){return c.Q}});var l=a(24246),i=a(39158),n=a(27378),s=a(3110);let{Text:r}=i.AntTypography,o=e=>{let{values:t,valueSuffix:a,columnState:o,containerProps:c}=e,{isExpanded:d,version:u}=o||{},[p,h]=(0,n.useState)(!d);(0,n.useEffect)(()=>{h(!d)},[d,u]);let x=(0,n.useCallback)(()=>{h(!0)},[]),g=(0,n.useCallback)(()=>{h(!1)},[]),m=(0,n.useCallback)(()=>{p?g():x()},[p,g,x]);return(0,n.useMemo)(()=>(null==t?void 0:t.length)?1===t.length?(0,l.jsx)(i.jqI,{...c,children:(0,l.jsx)(r,{ellipsis:!0,"data-testid":"list-expandable-cell-single",children:t[0]})}):(0,l.jsxs)(i.jqI,{align:p?"center":"flex-start",vertical:!p,gap:p?"small":"none","data-testid":"list-expandable-cell",...c,children:[p?(0,l.jsxs)(r,{ellipsis:!0,children:[t.length," ",a]}):(0,l.jsx)(i.krs,{dataSource:t,renderItem:e=>(0,l.jsx)("li",{children:e})}),(0,l.jsx)(i.wpx,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),m()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:p?"view":s.T5})]}):null,[p,t,a,m,c])};var c=a(2525)},13089:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(24246),i=a(39158),n=a(27378),s=a(35287),r=a(58754),o=a(92222),c=a(59003),d=a(47935),u=a(79894),p=a.n(u),h=a(86677),x=a(77830),g=a(8411),m=a(19904),v=a(32885),f=a(22286),j=a(65063),b=a(71922),y=a(60240),w=a(26070);let k={items:[],total:0,page:1,size:25,pages:1},C=()=>(0,l.jsxs)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:[(0,l.jsxs)(i.gCW,{children:[(0,l.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"No privacy notices found."}),(0,l.jsx)(i.xvT,{fontSize:"sm",children:'Click "Add a privacy notice" to add your first privacy notice to Fides.'})]}),(0,l.jsx)(i.wpx,{href:"".concat(x.IT,"/new"),role:"link",size:"small",type:"primary","data-testid":"add-privacy-notice-btn",children:"Add a privacy notice +"})]}),P=(0,o.Cl)(),R=()=>{let{isLoading:e}=(0,v.x8)(),t=(0,h.useRouter)(),a=(0,m.Tg)([y.Sh.PRIVACY_NOTICE_UPDATE]),{PAGE_SIZES:s,pageSize:r,setPageSize:u,onPreviousPageClick:R,isPreviousPageDisabled:T,onNextPageClick:N,isNextPageDisabled:z,startRange:E,endRange:_,pageIndex:S,setTotalPages:I}=(0,d.oi)(),{isFetching:M,isLoading:V,data:A}=(0,b.J6)({page:S,size:r}),{items:q,total:Q,pages:W}=(0,n.useMemo)(()=>A||k,[A]);(0,n.useEffect)(()=>{I(W)},[W,I]);let D=(0,n.useMemo)(()=>[P.accessor(e=>e.name,{id:"name",cell:e=>(0,l.jsx)(d.G3,{value:e.getValue()}),header:e=>(0,l.jsx)(d.Rr,{value:"Title",...e})}),P.accessor(e=>e.consent_mechanism,{id:"consent_mechanism",cell:e=>(0,f.JA)(e.getValue()),header:e=>(0,l.jsx)(d.Rr,{value:"Mechanism",...e})}),P.accessor(e=>e.configured_regions,{id:"regions",cell:e=>{var t,a;return(0,l.jsx)(w.Q,{values:null!==(a=null===(t=e.getValue())||void 0===t?void 0:t.map(e=>{var t;let a=(0,i.QCN)(e);return{label:a?(0,i.c1K)({isoEntry:a,showFlag:!0}):null!==(t=g.Z8[e])&&void 0!==t?t:e,key:e}}))&&void 0!==a?a:[]})},header:e=>(0,l.jsx)(d.Rr,{value:"Locations",...e}),meta:{disableRowClick:!0}}),P.accessor(e=>e.disabled,{id:"status",cell:e=>(0,f.jN)(e),header:e=>(0,l.jsx)(d.Rr,{value:"Status",...e})}),P.accessor(e=>e.framework,{id:"framework",cell:e=>e.getValue()?(0,l.jsx)(d.A4,{value:j.Ep.get(e.getValue())}):null,header:e=>(0,l.jsx)(d.Rr,{value:"Framework",...e})}),P.accessor(e=>e.children,{id:"children",cell:e=>{var t;return(null===(t=(0,f.Mq)(e.getValue()))||void 0===t?void 0:t.length)?(0,l.jsx)(d.WP,{suffix:"Children",value:(0,f.Mq)(e.getValue()),...e}):(0,l.jsx)(d.G3,{value:"Unassigned"})},header:e=>(0,l.jsx)(d.Rr,{value:"Children",...e}),meta:{showHeaderMenu:!0}}),a&&P.accessor(e=>e.disabled,{id:"enable",cell:f.PS,header:e=>(0,l.jsx)(d.Rr,{value:"Enable",...e}),meta:{disableRowClick:!0}})].filter(Boolean),[a]),B=(0,c.b7)({getCoreRowModel:(0,o.sC)(),getGroupedRowModel:(0,o.qe)(),getExpandedRowModel:(0,o.rV)(),columns:D,manualPagination:!0,data:q,state:{expanded:!0},columnResizeMode:"onChange"});return V||e?(0,l.jsx)(d.I4,{rowHeight:36,numRows:15}):(0,l.jsx)("div",{children:(0,l.jsxs)(i.kCb,{flex:1,direction:"column",overflow:"auto",children:[a&&(0,l.jsx)(d.Q$,{children:(0,l.jsx)(i.Ugi,{alignItems:"center",spacing:4,marginLeft:"auto",children:(0,l.jsx)(p(),{href:"".concat(x.IT,"/new"),passHref:!0,legacyBehavior:!0,children:(0,l.jsx)(i.wpx,{type:"primary","data-testid":"add-privacy-notice-btn",children:"Add a privacy notice +"})})})}),(0,l.jsx)(d.ZK,{tableInstance:B,onRowClick:a?e=>{let{id:l}=e;a&&t.push("".concat(x.IT,"/").concat(l))}:void 0,emptyTableNotice:(0,l.jsx)(C,{})}),(0,l.jsx)(d.s8,{totalRows:Q||0,pageSizes:s,setPageSize:u,onPreviousPageClick:R,isPreviousPageDisabled:T||M,onNextPageClick:N,isNextPageDisabled:z||M,startRange:E,endRange:_})]})})};var T=()=>(0,l.jsxs)(s.Z,{title:"Privacy notices",children:[(0,l.jsx)(r.Z,{heading:"Privacy Notices",children:(0,l.jsx)(i.xvT,{fontSize:"sm",mb:8,width:{base:"100%",lg:"50%"},children:"Manage the privacy notices and mechanisms that are displayed to your users based on their location, what information you collect about them, and how you use that data."})}),(0,l.jsx)(i.xuv,{"data-testid":"privacy-notices-page",children:(0,l.jsx)(R,{})})]})}},function(e){e.O(0,[6853,2888,9774,179],function(){return e(e.s=81575)}),_N_E=e.O()}]);