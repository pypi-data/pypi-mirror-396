{{ var_name }} = (
    {% if imported %}
    ParameterSet.from_id(id = "{{ asset_id }}", config = config)
    {% else %}
    project.create_parameter_set(name="{{ paramset_name }}", description={{ description }})
    {% for param in parameters[0] %}
    {% if param["type"] == "List" %}
    .add_parameter(parameter_type = "{{ param["type"] }}", name = "{{ param["name"] }}", valid_values = {{ param["valid_values"] }}, value = {{ param["value"] }}{{ param["extras"] }})
    {% else %}
    .add_parameter(parameter_type = "{{ param["type"] }}", name = "{{ param["name"] }}", value = {{ param["value"] }}{{ param["extras"] }})
    {% endif %}
    {% endfor %}
    {% endif %}
)
{% if not imported %}
{% for param_set in parameters[1:] %}
{{ var_name }} = (
    {{ var_name }}
    {% for param in param_set %}
    {% if param["type"] == "List" %}
    .add_parameter(parameter_type = "{{ param["type"] }}", name = "{{ param["name"] }}", valid_values = {{ param["valid_values"] }}, value = {{ param["value"] }}{{ param["extras"] }})
    {% else %}
    .add_parameter(parameter_type = "{{ param["type"] }}", name = "{{ param["name"] }}", value = {{ param["value"] }}{{ param["extras"] }})
    {% endif %}
    {% endfor %}
)
{% endfor %}
{% if value_sets %}
{% if value_set_overflow %}
{% for set_values in value_sets %}
{{ var_name }}.value_sets = [
{% for value_set in set_values %}
    ValueSet(
        name="{{value_set.name}}",
        values = [
    {% for value in value_set.values%}
            {"name":"{{ value.name }}", "value":{{ value.value }}},
    {% endfor %}
        ]
    ),
{% endfor %}
]
{% endfor %}
{% else %}
{{ var_name }} = (
    {{ var_name }}
{% for value_set in value_sets %}
    .add_value_set(
        (
            ValueSet(name="{{value_set.name}}")
            {% for value in value_set.values%}
            .add_value(name="{{ value.name }}", value={{ value.value }})
            {% endfor %}
        )
    )
{% endfor %}
)
{% endif %}
{% endif %}
{% endif %}

project.update_parameter_set({{ var_name }})
