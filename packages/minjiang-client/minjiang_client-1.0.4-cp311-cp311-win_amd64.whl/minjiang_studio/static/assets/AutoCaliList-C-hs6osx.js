import{_ as h}from"./PaginationView.vue_vue_type_script_setup_true_lang-BxX_Je6t.js";import{d as D,A as k,b as v,c as x,C as N,I as o,ab as m,aN as c,am as Y,B as b,N as I,b4 as M,an as V,aO as B,r as S,o as T,e as q,f as w,h as H,i,w as L,s as j,t as A,l as r,V as R,ao as P}from"./index-BHd9xypC.js";import{g as U}from"./autoCali-BOdHkL9O.js";import{_ as $}from"./BackToOverview.vue_vue_type_script_setup_true_lang-B8cE1ay1.js";import{_ as z}from"./DataTable-08tqtwQR.js";import"./Pagination-DKvHZiJi.js";import"./ExitOutline-D-2SJMMp.js";import"./Checkbox-DKKtBMeF.js";import"./RadioGroup-rQxCkFUy.js";import"./download-C2161hUv.js";const E={class:"text-xl mb-5"},ae=D({__name:"AutoCaliList",setup(O){const p=k(),{t}=v(),_=x(),n=N(),d=(e,a)=>{_.push({name:"autoCaliConfig",query:{session_id:e,resource_id:a,device_group_name:n.query.device_group_name}})},g=[{key:"cali_session_id",width:120,title:"Session ID"},{key:"task_name",title:t("groupDetail.autoCali.taskName")},{key:"device_group_name",title:t("groupDetail.autoCali.groupName")},{key:"space_name",title:t("groupDetail.autoCali.spaceName"),render(e){return o("a",{style:{color:p.value.infoColor},href:["/groupDetail/parameterManager?device_group_name=",e.device_group_name,"&space_id=",e.space_id].join(""),target:"_blank"},e.space_name)}},{key:"start_time",title:t("groupDetail.autoCali.startTime"),render(e){return e.start_time?m(e.start_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"end_time",title:t("groupDetail.autoCali.endTime"),render(e){return e.end_time?m(e.end_time*1e3).format("YYYY-MM-DD HH:mm:ss"):""}},{key:"status",title:t("groupDetail.autoCali.status"),width:150,render(e){return o(Y,{color:{color:c[e.status].color},class:"w-20 flex items-center justify-center !text-white"},{default:()=>t(c[e.status].text)})}},{key:"detail",title:t("groupDetail.autoCali.detail"),width:100,align:"center",render(e){return o(b,{quaternary:!0,type:"primary",class:"!w-16",onClick:()=>d(e.cali_session_id,e.resource_id)},{icon:()=>o(I,{component:M})})}}],s=V({page:1,per_page:B,total:0}),l=S(),u=async()=>{const[e,a]=await U({...P(s),device_group_name:n.query.device_group_name});!e&&a&&a.status===0&&(l.value=a.data.list,s.total=a.data.total)};return T(()=>{u()}),(e,a)=>{const f=z,y=h;return w(),q("div",null,[H("div",E,[i($,null,{default:L(()=>[j(A(r(t)("groupDetail.autoCali.tabName")),1)]),_:1})]),i(f,{data:r(l),columns:g,"max-height":"calc(100vh - 400px)"},null,8,["data"]),i(y,{"page-info":r(s),"onUpdate:pageInfo":a[0]||(a[0]=C=>R(s)?s.value=C:null),onUpdateList:u},null,8,["page-info"])])}}});export{ae as default};
