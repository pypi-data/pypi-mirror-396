import{ac as w,ek as te,o as J,E as B,ai as E,el as ne,em as ie,a3 as _,en as G,bZ as k,eo as Q,bA as oe,ad as ae,r as Y,ep as re,L as C,ah as ue,l as se,b1 as le}from"./index-BHd9xypC.js";function $(e){return ne()?(ie(e),!0):!1}const I=new WeakMap,ce=(...e)=>{var t;const n=e[0],i=(t=k())==null?void 0:t.proxy;if(i==null&&!Q())throw new Error("injectLocal must be called in setup");return i&&I.has(i)&&n in I.get(i)?I.get(i)[n]:oe(...e)},x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fe=Object.prototype.toString,de=e=>fe.call(e)==="[object Object]",pe=()=>{};function ve(...e){if(e.length!==1)return ae(...e);const t=e[0];return typeof t=="function"?G(re(()=>({get:t,set:pe}))):Y(t)}function me(e,t){function n(...i){return new Promise((l,u)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(l).catch(u)})}return n}const K=e=>e();function he(e=K,t={}){const{initialState:n="active"}=t,i=ve(n==="active");function l(){i.value=!1}function u(){i.value=!0}const c=(...o)=>{i.value&&e(...o)};return{isActive:G(i),pause:l,resume:u,eventFilter:c}}function ye(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const i=t;t=void 0,i&&await i},n}function L(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function j(e){return Array.isArray(e)?e:[e]}function we(e){return k()}function ge(e,t,n={}){const{eventFilter:i=K,...l}=n;return _(e,me(i,t),l)}function Se(e,t,n={}){const{eventFilter:i,initialState:l="active",...u}=n,{eventFilter:c,pause:o,resume:r,isActive:a}=he(i,{initialState:l});return{stop:ge(e,t,{...u,eventFilter:c}),pause:o,resume:r,isActive:a}}function Z(e,t=!0,n){we()?J(e,n):t?e():B(e)}function be(e,t,n={}){const{immediate:i=!0,immediateCallback:l=!1}=n,u=w(!1);let c=null;function o(){c&&(clearTimeout(c),c=null)}function r(){u.value=!1,o()}function a(...f){l&&e(),o(),u.value=!0,c=setTimeout(()=>{u.value=!1,c=null,e(...f)},E(t))}return i&&(u.value=!0,x&&a()),$(r),{isPending:te(u),start:a,stop:r}}function We(e,t,n){return _(e,t,{...n,immediate:!0})}const A=x?window:void 0,q=x?window.navigator:void 0;function Ee(e){var t;const n=E(e);return(t=n==null?void 0:n.$el)!=null?t:n}function O(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},i=(o,r,a,f)=>(o.addEventListener(r,a,f),()=>o.removeEventListener(r,a,f)),l=C(()=>{const o=j(E(e[0])).filter(r=>r!=null);return o.every(r=>typeof r!="string")?o:void 0}),u=We(()=>{var o,r;return[(r=(o=l.value)==null?void 0:o.map(a=>Ee(a)))!=null?r:[A].filter(a=>a!=null),j(E(l.value?e[1]:e[0])),j(se(l.value?e[2]:e[1])),E(l.value?e[3]:e[2])]},([o,r,a,f])=>{if(n(),!(o!=null&&o.length)||!(r!=null&&r.length)||!(a!=null&&a.length))return;const d=de(f)?{...f}:f;t.push(...o.flatMap(g=>r.flatMap(h=>a.map(y=>i(g,h,y,d)))))},{flush:"post"}),c=()=>{u(),n()};return $(n),c}function Ne(){const e=w(!1),t=k();return t&&J(()=>{e.value=!0},t),e}function P(e){const t=Ne();return C(()=>(t.value,!!e()))}const Oe=Symbol("vueuse-ssr-width");function Me(){const e=Q()?ce(Oe,null):null;return typeof e=="number"?e:void 0}function Te(e,t={}){const{window:n=A,ssrWidth:i=Me()}=t,l=P(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),u=w(typeof i=="number"),c=w(),o=w(!1),r=a=>{o.value=a.matches};return ue(()=>{if(u.value){u.value=!l.value;const a=E(e).split(",");o.value=a.some(f=>{const d=f.includes("not all"),g=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let y=!!(g||h);return g&&y&&(y=i>=L(g[1])),h&&y&&(y=i<=L(h[1])),d?!y:y});return}l.value&&(c.value=n.matchMedia(E(e)),o.value=c.value.matches)}),O(c,"change",r,{passive:!0}),C(()=>o.value)}function H(e,t={}){const{controls:n=!1,navigator:i=q}=t,l=P(()=>i&&"permissions"in i),u=w(),c=typeof e=="string"?{name:e}:e,o=w(),r=()=>{var f,d;o.value=(d=(f=u.value)==null?void 0:f.state)!=null?d:"prompt"};O(u,"change",r,{passive:!0});const a=ye(async()=>{if(l.value){if(!u.value)try{u.value=await i.permissions.query(c)}catch{u.value=void 0}finally{r()}if(n)return le(u.value)}});return a(),n?{state:o,isSupported:l,query:a}:o}function je(e={}){const{navigator:t=q,read:n=!1,source:i,copiedDuring:l=1500,legacy:u=!1}=e,c=P(()=>t&&"clipboard"in t),o=H("clipboard-read"),r=H("clipboard-write"),a=C(()=>c.value||u),f=w(""),d=w(!1),g=be(()=>d.value=!1,l,{immediate:!1});async function h(){let p=!(c.value&&W(o.value));if(!p)try{f.value=await t.clipboard.readText()}catch{p=!0}p&&(f.value=b())}a.value&&n&&O(["copy","cut"],h,{passive:!0});async function y(p=E(i)){if(a.value&&p!=null){let v=!(c.value&&W(r.value));if(!v)try{await t.clipboard.writeText(p)}catch{v=!0}v&&N(p),f.value=p,d.value=!0,g.start()}}function N(p){const v=document.createElement("textarea");v.value=p??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function b(){var p,v,M;return(M=(v=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:v.toString())!=null?M:""}function W(p){return p==="granted"||p==="prompt"}return{isSupported:a,text:f,copied:d,copy:y}}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",Ae=Ce();function Ce(){return V in F||(F[V]=F[V]||{}),F[V]}function Fe(e,t){return Ae[e]||t}function Ve(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const _e={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},D="vueuse-storage";function ke(e,t,n,i={}){var l;const{flush:u="pre",deep:c=!0,listenToStorageChanges:o=!0,writeDefaults:r=!0,mergeDefaults:a=!1,shallow:f,window:d=A,eventFilter:g,onError:h=s=>{console.error(s)},initOnMounted:y}=i,N=(f?w:Y)(typeof t=="function"?t():t),b=C(()=>E(e));if(!n)try{n=Fe("getDefaultStorage",()=>{var s;return(s=A)==null?void 0:s.localStorage})()}catch(s){h(s)}if(!n)return N;const W=E(t),p=Ve(W),v=(l=i.serializer)!=null?l:_e[p],{pause:M,resume:z}=Se(N,()=>U(N.value),{flush:u,deep:c,eventFilter:g});_(b,()=>T(),{flush:u}),d&&o&&Z(()=>{n instanceof Storage?O(d,"storage",T,{passive:!0}):O(d,D,ee),y&&T()}),y||T();function R(s,m){if(d){const S={key:b.value,oldValue:s,newValue:m,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",S):new CustomEvent(D,{detail:S}))}}function U(s){try{const m=n.getItem(b.value);if(s==null)R(m,null),n.removeItem(b.value);else{const S=v.write(s);m!==S&&(n.setItem(b.value,S),R(m,S))}}catch(m){h(m)}}function X(s){const m=s?s.newValue:n.getItem(b.value);if(m==null)return r&&W!=null&&n.setItem(b.value,v.write(W)),W;if(!s&&a){const S=v.read(m);return typeof a=="function"?a(S,W):p==="object"&&!Array.isArray(S)?{...W,...S}:S}else return typeof m!="string"?m:v.read(m)}function T(s){if(!(s&&s.storageArea!==n)){if(s&&s.key==null){N.value=W;return}if(!(s&&s.key!==b.value)){M();try{(s==null?void 0:s.newValue)!==v.write(N.value)&&(N.value=X(s))}catch(m){h(m)}finally{s?B(z):z()}}}}function ee(s){T(s.detail)}return N}function xe(e={}){const{window:t=A,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:u=!0,type:c="inner"}=e,o=w(n),r=w(i),a=()=>{if(t)if(c==="outer")o.value=t.outerWidth,r.value=t.outerHeight;else if(c==="visual"&&t.visualViewport){const{width:d,height:g,scale:h}=t.visualViewport;o.value=Math.round(d*h),r.value=Math.round(g*h)}else u?(o.value=t.innerWidth,r.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,r.value=t.document.documentElement.clientHeight)};a(),Z(a);const f={passive:!0};if(O("resize",a,f),t&&c==="visual"&&t.visualViewport&&O(t.visualViewport,"resize",a,f),l){const d=Te("(orientation: portrait)");_(d,()=>a())}return{width:o,height:r}}export{xe as a,ke as b,je as u};
