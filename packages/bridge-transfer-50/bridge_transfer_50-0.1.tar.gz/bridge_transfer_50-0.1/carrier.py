
import base64
DATA_B64 = "aW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgcmUKaW1wb3J0IGRpZmZsaWIKCiMgMS4gTE9BRCBE4buuIExJ4buGVSBWw4AgVOG6oE8gQ+G6pFUgVFLDmkMgUEjDgk4gQ+G6pFAKZGYxID0gcGQucmVhZF9jc3YoJ0ZvbGxvd2luZ1Zlc3NlbHMueGxzeCAtIEZvbGxvd2luZ1Zlc3NlbHMuY3N2JykKZGYyID0gcGQucmVhZF9jc3YoJ0ZvbGxvd2luZ1Zlc3NlbHMueGxzeCAtIFTDoHUgY8OhIFRydW5nIFF14buRYy5jc3YnKQoKIyBEYXRhYmFzZSBj4bqldSB0csO6YzogeyAibm9ybWFsaXplZF9uYW1lIjogeyAibm9ybWFsaXplZF9udW1iZXIiOiAiSUQiIH0gfQp2ZXNzZWxfZGIgPSB7fQojIE1hcHBpbmcgxJHhu4MgbOG6pXkgbOG6oWkgdMOqbiBoaeG7g24gdGjhu4sgxJHhurlwOiB7ICJub3JtYWxpemVkX25hbWUiOiAiRGlzcGxheSBOYW1lIiB9Cm5hbWVfZGlzcGxheV9tYXAgPSB7fQoKZGVmIG5vcm1hbGl6ZV90ZXh0KHRleHQpOgogICAgaWYgbm90IGlzaW5zdGFuY2UodGV4dCwgc3RyKTogcmV0dXJuICIiCiAgICAjIENodXnhu4NuIHbhu4EgdGjGsOG7nW5nLCBi4buPIGThuqV1IGfhuqFjaCBuZ2FuZywgY2h14bqpbiBow7NhIGtob+G6o25nIHRy4bqvbmcKICAgIHJldHVybiByZS5zdWIocidccysnLCAnICcsIHRleHQubG93ZXIoKS5yZXBsYWNlKCItIiwgIiAiKSkuc3RyaXAoKQoKZGVmIG5vcm1hbGl6ZV9udW1iZXIobnVtX3N0cik6CiAgICBpZiBub3QgaXNpbnN0YW5jZShudW1fc3RyLCBzdHIpOiByZXR1cm4gIiIKICAgICMgU+G7kSBoaeG7h3UgY+G6p24gY2xlYW4ga+G7uTogYuG7jyBraG/huqNuZyB0cuG6r25nLCB1cHBlciBjYXNlCiAgICByZXR1cm4gbnVtX3N0ci51cHBlcigpLnN0cmlwKCkucmVwbGFjZSgiICIsICIiKS5yZXBsYWNlKCItIiwgIiIpCgojIEluZGV4aW5nIHThu6sgRmlsZSAxCmZvciBpbmRleCwgcm93IGluIGRmMS5pdGVycm93cygpOgogICAgaWYgcGQubm90bmEocm93WyduYW1lJ10pIGFuZCBwZC5ub3RuYShyb3dbJ3dpa2lkYXRhX2lkJ10pOgogICAgICAgICMgVMOhY2ggdMOqbiB2w6Agc+G7kSB04burIGPhu5l0ICduYW1lJyBn4buRYyB0cm9uZyBmaWxlIEV4Y2VsCiAgICAgICAgIyBHaeG6oyBz4butIGZvcm1hdCB0cm9uZyBFeGNlbCBsw6AgY2h14bqpbjogIlTDqm4gU+G7kSIgaG/hurdjICJUw6puLVPhu5EiCiAgICAgICAgb3JpZ2luYWxfbmFtZSA9IHN0cihyb3dbJ25hbWUnXSkKCiAgICAgICAgIyBMb2dpYyB0w6FjaCB0w6puL3Phu5EgxJHGoW4gZ2nhuqNuIHThu6sgZOG7ryBsaeG7h3UgZ+G7kWMgxJHhu4MgYnVpbGQgREIKICAgICAgICAjIFTDrG0gduG7iyB0csOtIHPhu5EgxJHhuqd1IHRpw6puCiAgICAgICAgbWF0Y2ggPSByZS5zZWFyY2gocidcZCcsIG9yaWdpbmFsX25hbWUpCiAgICAgICAgaWYgbWF0Y2g6CiAgICAgICAgICAgIGlkeCA9IG1hdGNoLnN0YXJ0KCkKICAgICAgICAgICAgbmFtZV9wYXJ0ID0gb3JpZ2luYWxfbmFtZVs6aWR4XS5zdHJpcCgiLSAiKQogICAgICAgICAgICBudW1iZXJfcGFydCA9IG9yaWdpbmFsX25hbWVbaWR4Ol0uc3RyaXAoKQoKICAgICAgICAgICAgbm9ybV9uYW1lID0gbm9ybWFsaXplX3RleHQobmFtZV9wYXJ0KQogICAgICAgICAgICBub3JtX251bSA9IG5vcm1hbGl6ZV9udW1iZXIobnVtYmVyX3BhcnQpCgogICAgICAgICAgICBpZiBub3JtX25hbWUgbm90IGluIHZlc3NlbF9kYjoKICAgICAgICAgICAgICAgIHZlc3NlbF9kYltub3JtX25hbWVdID0ge30KICAgICAgICAgICAgICAgIG5hbWVfZGlzcGxheV9tYXBbbm9ybV9uYW1lXSA9IG5hbWVfcGFydAoKICAgICAgICAgICAgdmVzc2VsX2RiW25vcm1fbmFtZV1bbm9ybV9udW1dID0gcm93Wyd3aWtpZGF0YV9pZCddCgojIEluZGV4aW5nIHThu6sgRmlsZSAyIChUw6B1IGPDoSkKZm9yIGluZGV4LCByb3cgaW4gZGYyLml0ZXJyb3dzKCk6CiAgICBpZiBwZC5ub3RuYShyb3dbJ25hbWUnXSk6CiAgICAgICAgb3JpZ2luYWxfbmFtZSA9IHN0cihyb3dbJ25hbWUnXSkKICAgICAgICAjIFTGsMahbmcgdOG7sSBsb2dpYyB0csOqbgogICAgICAgIG1hdGNoID0gcmUuc2VhcmNoKHInXGQnLCBvcmlnaW5hbF9uYW1lKQogICAgICAgIGlmIG1hdGNoOgogICAgICAgICAgICBpZHggPSBtYXRjaC5zdGFydCgpCiAgICAgICAgICAgIG5hbWVfcGFydCA9IG9yaWdpbmFsX25hbWVbOmlkeF0uc3RyaXAoIi0gIikKICAgICAgICAgICAgbnVtYmVyX3BhcnQgPSBvcmlnaW5hbF9uYW1lW2lkeDpdLnN0cmlwKCkKCiAgICAgICAgICAgIG5vcm1fbmFtZSA9IG5vcm1hbGl6ZV90ZXh0KG5hbWVfcGFydCkKICAgICAgICAgICAgbm9ybV9udW0gPSBub3JtYWxpemVfbnVtYmVyKG51bWJlcl9wYXJ0KQoKICAgICAgICAgICAgaWYgbm9ybV9uYW1lIG5vdCBpbiB2ZXNzZWxfZGI6CiAgICAgICAgICAgICAgICB2ZXNzZWxfZGJbbm9ybV9uYW1lXSA9IHt9CiAgICAgICAgICAgICAgICBuYW1lX2Rpc3BsYXlfbWFwW25vcm1fbmFtZV0gPSBuYW1lX3BhcnQKCiAgICAgICAgICAgICMgRMO5bmcgTU1TSSBsw6BtIElEIGdp4bqjIGzhuq1wCiAgICAgICAgICAgIHZlc3NlbF9kYltub3JtX25hbWVdW25vcm1fbnVtXSA9IGYiTU1TSV97cm93WydtbXNpJ119IgoKIyBM4bqleSBkYW5oIHPDoWNoIHTDqm4gZ+G7kWMgxJHhu4MgbMOgbSBBbmNob3IgUmVnZXgKYmFzZV9uYW1lcyA9IGxpc3QobmFtZV9kaXNwbGF5X21hcC52YWx1ZXMoKSkKIyBTb3J0IGTDoGkgdHLGsOG7m2Mgbmfhuq9uIHNhdQpiYXNlX25hbWVzLnNvcnQoa2V5PWxlbiwgcmV2ZXJzZT1UcnVlKQoKIyAyLiBIw4BNIFjhu6wgTMOdIFbhu5pJIExPR0lDIE3hu5pJIChTVFJJQ1QgTlVNQkVSIE1BVENISU5HKQpkZWYgc3RyaWN0X2lkZW50aWZ5X3Zlc3NlbChleHRyYWN0ZWRfbmFtZSwgZXh0cmFjdGVkX251bWJlciwgdmVzc2VsX2RiKToKICAgICMgQ2h14bqpbiBow7NhIGlucHV0CiAgICBxdWVyeV9uYW1lID0gbm9ybWFsaXplX3RleHQoZXh0cmFjdGVkX25hbWUpCiAgICBxdWVyeV9udW1iZXIgPSBub3JtYWxpemVfbnVtYmVyKGV4dHJhY3RlZF9udW1iZXIpCgogICAgIyBCxq/hu5pDIDE6IEZVWlpZIE1BVENIIE5BTUUKICAgICMgVMOsbSB0w6puIHRyb25nIERCIGdp4buRbmcgduG7m2kgcXVlcnlfbmFtZSBuaOG6pXQKICAgIHBvc3NpYmxlX25hbWVzID0gdmVzc2VsX2RiLmtleXMoKQogICAgIyBjdXRvZmY9MC44IG5naMSpYSBsw6AgcGjhuqNpIGdp4buRbmcgPjgwJSBt4bubaSB4w6l0ICh0csOhbmgga2jhu5twICdUw6B1IEEnIHbhu5tpICdUw6B1IEInKQogICAgbWF0Y2hlcyA9IGRpZmZsaWIuZ2V0X2Nsb3NlX21hdGNoZXMocXVlcnlfbmFtZSwgcG9zc2libGVfbmFtZXMsIG49MSwgY3V0b2ZmPTAuOCkKCiAgICBpZiBub3QgbWF0Y2hlczoKICAgICAgICByZXR1cm4gTm9uZSwgIlVua25vd24gTmFtZSIKCiAgICBtYXRjaGVkX25hbWVfa2V5ID0gbWF0Y2hlc1swXQogICAgZGlzcGxheV9uYW1lID0gbmFtZV9kaXNwbGF5X21hcFttYXRjaGVkX25hbWVfa2V5XQoKICAgICMgQsav4buaQyAyOiBFWEFDVCBNQVRDSCBOVU1CRVIKICAgICMgS2nhu4NtIHRyYSBz4buRIGhp4buHdSBjw7MgdOG7k24gdOG6oWkgdHJvbmcgZGFuaCBzw6FjaCBj4bunYSB0w6puIMSRw7Mga2jDtG5nCiAgICB2YWxpZF9udW1iZXJzID0gdmVzc2VsX2RiW21hdGNoZWRfbmFtZV9rZXldCgogICAgaWYgcXVlcnlfbnVtYmVyIGluIHZhbGlkX251bWJlcnM6CiAgICAgICAgcmV0dXJuIHZhbGlkX251bWJlcnNbcXVlcnlfbnVtYmVyXSwgZiJGb3VuZCAoTWF0Y2hlZCBOYW1lOiAne2Rpc3BsYXlfbmFtZX0nKSIKICAgIGVsc2U6CiAgICAgICAgIyBUw6puIMSRw7puZywgbmjGsG5nIHPhu5EgaGnhu4d1IGtow7RuZyBjw7MgdHJvbmcgREIgLT4gQuG7jiBRVUEKICAgICAgICByZXR1cm4gTm9uZSwgZiJJZ25vcmVkIChOYW1lICd7ZGlzcGxheV9uYW1lfScgdmFsaWQsIGJ1dCBOdW1iZXIgJ3txdWVyeV9udW1iZXJ9JyBub3QgaW4gREIpIgoKIyAzLiBDSOG6oFkgVFLDik4gVsSCTiBC4bqiTgpkZWYgcHJvY2Vzc190ZXh0KHRleHQpOgogICAgcmVzdWx0cyA9IFtdCiAgICBwcm9jZXNzZWRfdGV4dCA9IHRleHQKICAgIGZvdW5kX3NwYW5zID0gW10KCiAgICBmb3IgYmFzZSBpbiBiYXNlX25hbWVzOgogICAgICAgICMgUmVnZXggYuG6r3Q6IFTDqm4gKyAoa2hv4bqjbmcgdHLhuq9uZy9n4bqhY2gvLSkgKyAoY2jhu68gc+G7kS9udW1iZXIpICsgU+G7kSBoaeG7h3UKICAgICAgICBwYXR0ZXJuID0gciIoP2kpIiArIHJlLmVzY2FwZShiYXNlKSArIHIiW1xzXC1fXSsoPzpz4buRfG5vXC4/fG51bWJlcik/W1xzXC1fXSooW0EtWjAtOV0rKD86W1wtXC5dW0EtWjAtOV0rKSopIgoKICAgICAgICBtYXRjaGVzID0gcmUuZmluZGl0ZXIocGF0dGVybiwgcHJvY2Vzc2VkX3RleHQpCgogICAgICAgIGZvciBtYXRjaCBpbiBtYXRjaGVzOgogICAgICAgICAgICBzcGFuID0gbWF0Y2guc3BhbigpCiAgICAgICAgICAgICMgQ2hlY2sgb3ZlcmxhcAogICAgICAgICAgICBpc19vdmVybGFwID0gRmFsc2UKICAgICAgICAgICAgZm9yIGV4aXN0aW5nIGluIGZvdW5kX3NwYW5zOgogICAgICAgICAgICAgICAgaWYgKHNwYW5bMF0gPj0gZXhpc3RpbmdbMF0gYW5kIHNwYW5bMF0gPCBleGlzdGluZ1sxXSkgb3IgXAogICAgICAgICAgICAgICAgICAgKHNwYW5bMV0gPiBleGlzdGluZ1swXSBhbmQgc3BhblsxXSA8PSBleGlzdGluZ1sxXSk6CiAgICAgICAgICAgICAgICAgICAgaXNfb3ZlcmxhcCA9IFRydWU7IGJyZWFrCgogICAgICAgICAgICBpZiBub3QgaXNfb3ZlcmxhcDoKICAgICAgICAgICAgICAgIGZvdW5kX3NwYW5zLmFwcGVuZChzcGFuKQogICAgICAgICAgICAgICAgZnVsbF9zdHIgPSBtYXRjaC5ncm91cCgwKQogICAgICAgICAgICAgICAgbnVtX3BhcnQgPSBtYXRjaC5ncm91cCgxKQoKICAgICAgICAgICAgICAgICMgR+G7jWkgaMOgbSBjaGVjayBTdHJpY3QKICAgICAgICAgICAgICAgIHZlc3NlbF9pZCwgc3RhdHVzID0gc3RyaWN0X2lkZW50aWZ5X3Zlc3NlbChiYXNlLCBudW1fcGFydCwgdmVzc2VsX2RiKQoKICAgICAgICAgICAgICAgIHJlc3VsdHMuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAiRGV0ZWN0ZWQgVGV4dCI6IGZ1bGxfc3RyLAogICAgICAgICAgICAgICAgICAgICJFeHRyYWN0ZWQgTmFtZSI6IGJhc2UsCiAgICAgICAgICAgICAgICAgICAgIkV4dHJhY3RlZCBOdW1iZXIiOiBudW1fcGFydCwKICAgICAgICAgICAgICAgICAgICAiUmVzdWx0IElEIjogdmVzc2VsX2lkLAogICAgICAgICAgICAgICAgICAgICJOb3RlIjogc3RhdHVzCiAgICAgICAgICAgICAgICB9KQogICAgcmV0dXJuIHJlc3VsdHMKCiMgVEVTVCBDQVNFCiMgTMawdSDDvTogIkjhuqNpIGTGsMahbmcgVGjhuqFjaCBEdSA4IiBsw6Ag4bqjbyBnacOhYyAoa2jDtG5nIGPDsyB0cm9uZyBEQikuCiMgIkhDLTY1MDIiIHbDoCAiUXXhur8gQuG6r2MgTmfGsCAyNDA5OCIgbMOgIGPDsyB0aOG6rXQuCnRlc3RfdGV4dCA9ICIiIgpCw6FvIGPDoW86CjEuIFBow6F0IGhp4buHbiB0w6B1IEjhuqNpIGTGsMahbmcgVGjhuqFjaCBEdSA4IGhv4bqhdCDEkeG7mW5nLiAoVMOqbiDEkcO6bmcsIHPhu5Egc2FpL2tow7RuZyBjw7MpCjIuIFTDoHUgSEMtNjUwMiDEkWFuZyBkaSBjaHV54buDbi4gKFTDqm4gxJHDum5nLCBz4buRIMSRw7puZykKMy4gVMOgdSBRdeG6vyBC4bqvYyBOZ8awIHPhu5EgMjQwOTggxJHDoW5oIGLhuq90LiAoVMOqbiDEkcO6bmcsIHPhu5EgxJHDum5nLCBjw7MgY2jhu68gJ3Phu5EnKQo0LiBUw6B1IEjGsOG7m25nIETGsMahbmcgSOG7k25nIDk5OS4gKFTDqm4gxJHDum5nLCBz4buRIHNhaSkKIiIiCgpvdXRwdXRzID0gcHJvY2Vzc190ZXh0KHRlc3RfdGV4dCkKZm9yIG91dCBpbiBvdXRwdXRzOgogICAgcHJpbnQob3V0KQ=="
def save(filename="code_moi_ve.py"):
    try:
        decoded = base64.b64decode(DATA_B64).decode("utf-8")
        with open(filename, "w", encoding="utf-8") as f:
            f.write(decoded)
        print(f"OK: Da luu code vao {filename}")
    except Exception as e:
        print(f"LOI: {e}")
