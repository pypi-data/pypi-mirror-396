import{y as Ye,p as Xt,C as Qt,e as s,v as te,l as V,g as t,G as P,b as qe,i as ee,f as I,k as u,w as j,t as x,c as ae,m as p,n as h,r as v,P as U,Q as $t,H as b,I as ct,R as kt,Y as We,X as it,S as Ue,M as _t,Z as Ht,F as O}from"../chunks/BA6D4iam.js";import{_ as Je}from"../chunks/PPVm8Dsz.js";import{w as oe,f as Ze,e as Ge}from"../chunks/NApQS6X6.js";import{D as Ke}from"../chunks/C4A3Hpap.js";import{P as Qe}from"../chunks/CerN-z7d.js";const Xe=()=>({title:"Lithology & Porosity",subtitle:"Lithology and porosity estimations for the selected well"}),Na=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));var ta=I('<div class="text-sm text-red-500 mb-2"> </div>'),ea=I('<div class="w-full h-[220px]"></div>'),aa=I('<div class="flex items-center justify-center h-full text-sm text-gray-500">No lithology data available. Click "Estimate Lithology" first.</div>'),oa=I('<div class="text-xs text-green-600 mt-2"> </div>'),ra=I('<div class="w-full h-[220px]"></div>'),ia=I('<div class="flex items-center justify-center h-full text-sm text-gray-500">No porosity data available. Click "Estimate Porosity" first.</div>'),sa=I('<div class="text-xs text-green-600 mt-2"> </div>'),la=I("<div><strong>Calculated PHIT:</strong> </div>"),na=I("<div><strong>Calculated PHIT:</strong> No data</div>"),da=I('<div><strong>Core Porosity (CPORE):</strong> <span class="inline-block w-2 h-2 bg-red-600 rounded-full"></span> </div>'),ca=I('<div class="text-gray-500">No core porosity data (CPORE) found</div>'),ua=I('<div class="bg-panel rounded p-3"><div class="grid grid-cols-2 gap-2 mb-3"><div><label class="text-xs" for="dry-sand-nphi">Dry sand (NPHI)</label> <input id="dry-sand-nphi" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="dry-sand-rhob">Dry sand (RHOB)</label> <input id="dry-sand-rhob" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="dry-clay-nphi">Dry clay (NPHI)</label> <input id="dry-clay-nphi" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="dry-clay-rhob">Dry clay (RHOB)</label> <input id="dry-clay-rhob" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="fluid-nphi">Fluid (NPHI)</label> <input id="fluid-nphi" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="fluid-rhob">Fluid (RHOB)</label> <input id="fluid-rhob" class="input" type="number" step="any"/></div> <div><label class="text-xs" for="silt-line-angle">Silt line angle</label> <input id="silt-line-angle" class="input" type="number" step="1"/></div></div> <!> <div class="space-y-3"><div><div><div class="font-medium text-sm mb-1">NPHI - RHOB Crossplot</div> <div class="bg-surface rounded p-2"><div class="w-full max-w-[600px] h-[500px] mx-auto"></div></div></div> <div class="font-medium text-sm mb-1">Lithology (VSAND / VSILT / VCLAY)</div> <div class="bg-surface rounded p-2"><button class="btn px-3 py-1 text-sm font-semibold rounded-md bg-gray-900 text-white hover:bg-gray-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-700" aria-label="Run lithology classification" title="Run lithology classification">Estimate Lithology</button> <button class="btn px-3 py-1 text-sm font-medium rounded-md bg-emerald-700 text-white hover:bg-emerald-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-600" aria-label="Save lithology" title="Save lithology results to database"><!></button> <div class="h-[220px] w-full overflow-hidden"><!></div> <!></div></div> <div><div class="font-medium text-sm mb-1">Porosity (PHIT)</div> <div class="bg-surface rounded p-2"><button class="btn px-3 py-1 text-sm font-medium rounded-md bg-gray-800 text-gray-100 hover:bg-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-600" aria-label="Estimate porosity" title="Estimate porosity">Estimate Porosity</button> <button class="btn px-3 py-1 text-sm font-medium rounded-md bg-emerald-700 text-white hover:bg-emerald-600 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-600" aria-label="Save porosity" title="Save porosity results to database"><!></button> <div class="flex items-center ml-2"><input type="checkbox" id="depth-matching-poro" class="mr-2"/> <label for="depth-matching-poro">Depth Matching</label></div> <div class="h-[220px] w-full overflow-hidden"><!></div> <!></div> <div class="text-xs text-muted-foreground space-y-1 mt-2"><!> <!></div></div></div></div>'),pa=I('<div class="text-sm">Select a well.</div>'),ha=I('<div class="ws-lithology"><div class="mb-2"><div class="text-sm mb-2">Tools for lithology and porosity estimations.</div></div> <!> <!></div>');function va(Ct,ut){Xt(ut,!1);const F=p(),E=p(),A=p(),M=p(),z=p();let k=Qt(ut,"projectId",8),H=Qt(ut,"wellName",8);const J="http://localhost:6312";let D=p({enabled:!1,minDepth:null,maxDepth:null}),pt=p({enabled:!1,zones:[]}),$=p([]),w=p(!1),N=p(null),ht=p(!1),vt=p(!1),mt=p(null),ft=p(null),Z=p(-.02),G=p(2.65),K=p(.35),Q=p(2.71),X=p(1),tt=p(1),B=p(117),st=p(!1),yt=p([]),wt=[],bt=[],Y=p([]),C=p([]),R=p([]),et=p(null),Et=null,q=p(null),W=p(null);async function Dt(){if(!Et){const e=await Je(()=>import("../chunks/BJMC0GYJ.js").then(r=>r.p),[],import.meta.url);Et=e?.default??e}return Et}function re(e,r){const[[i,a],[d,n]]=e,[[m,c],[g,f]]=r,_=(i-d)*(c-f)-(a-n)*(m-g);if(Math.abs(_)<1e-10)return null;const y=((i-m)*(c-f)-(a-c)*(m-g))/_,T=-((i-d)*(a-c)-(a-n)*(i-m))/_;return y>=0&&y<=1&&T>=0&&T<=1?[i+y*(d-i),a+y*(n-a)]:[i+y*(d-i),a+y*(n-a)]}async function ie(){if(!t(et))return;const e=await Dt(),r=[Number(t(Z)),Number(t(G))],i=[Number(t(K)),Number(t(Q))],a=[Number(t(X)),Number(t(tt))],d=[Number(t(F)),2.68],n=[];let m=[],c=[];if(t(yt)&&t(yt).length>0&&(m=Rt(),m.length>0))for(let f=0;f<m.length;f++){const _=[m[f].nphi,m[f].rhob],y=re([r,i],[a,_]);y&&c.push(y)}m.length>0&&n.push({x:m.map(f=>f.nphi),y:m.map(f=>f.rhob),mode:"markers",type:"scatter",name:"Data",marker:{color:Array.from({length:m.length},(f,_)=>_),colorscale:"Rainbow",showscale:!1,size:6},hovertemplate:"NPHI: %{x}<br>RHOB: %{y}<extra></extra>"}),n.push({x:[a[0],r[0]],y:[a[1],r[1]],mode:"lines",type:"scatter",name:"Mineral 1 Line",line:{color:"blue",width:2},showlegend:!0}),n.push({x:[a[0],i[0]],y:[a[1],i[1]],mode:"lines",type:"scatter",name:"Clay Line",line:{color:"gray",width:2},showlegend:!0}),n.push({x:[r[0],i[0]],y:[r[1],i[1]],mode:"lines",type:"scatter",name:"Rock Line",line:{color:"black",width:2},showlegend:!0}),n.push({x:[a[0],d[0]],y:[a[1],d[1]],mode:"lines",type:"scatter",name:"Silt Line",line:{color:"green",width:2},showlegend:!0}),c.length>0&&n.push({x:c.map(f=>f[0]),y:c.map(f=>f[1]),mode:"markers",type:"scatter",name:"Projected Point",marker:{color:"purple",size:4},showlegend:!0}),n.push({x:[r[0]],y:[r[1]],mode:"markers",type:"scatter",name:`Mineral Point (${r[0]}, ${r[1]})`,marker:{color:"yellow",size:9,line:{color:"black",width:1}},showlegend:!0}),n.push({x:[i[0]],y:[i[1]],mode:"markers",type:"scatter",name:`Dry Clay (${i[0]}, ${i[1]})`,marker:{color:"black",size:9},showlegend:!0}),n.push({x:[d[0]],y:[d[1]],mode:"markers",type:"scatter",name:"Dry Silt Point",marker:{color:"orange",size:8},showlegend:!0}),n.push({x:[a[0]],y:[a[1]],mode:"markers",type:"scatter",name:`Fluid (${a[0]}, ${a[1]})`,marker:{color:"blue",size:9},showlegend:!0});const g={title:"NPHI-RHOB Crossplot",xaxis:{title:"NPHI",range:[-.1,1],tickformat:".2f"},yaxis:{title:"RHOB",autorange:!1,range:[3,0],tickformat:".2f"},legend:{orientation:"v",yanchor:"top",y:.99,xanchor:"left",x:.01,bgcolor:"rgba(255,255,255,0.8)"},template:"plotly_white",margin:{l:40,r:10,t:40,b:40},height:500,autosize:!0,hovermode:"closest"};try{e.react(t(et),n,g,{responsive:!0})}catch{e.newPlot(t(et),n,g,{responsive:!0})}}async function se(){if(!t(q))return;const e=await Dt();if(!t(E)||t(E).length===0){e.purge(t(q));return}const r=t(E).map(c=>c.x),i=t(E).map(c=>c.vclay),a=t(E).map(c=>c.vsilt),d=t(E).map(c=>c.vsand),n=[{x:r,y:i,name:"VCLAY",mode:"lines",line:{color:"#949494"},fill:"tozeroy"},{x:r,y:a,name:"VSILT",mode:"lines",line:{color:"#FE9800"},fill:"tonexty"},{x:r,y:d,name:"VSAND",mode:"lines",line:{color:"#F6F674"},fill:"tonexty"}],m={height:220,margin:{l:60,r:20,t:20,b:40},dragmode:"zoom",xaxis:{title:"Depth",tickformat:",.0f",fixedrange:!1},yaxis:{title:"Volume Fraction",range:[0,1],tickformat:".1f",fixedrange:!0},showlegend:!1};try{e.react(t(q),n,m,{responsive:!0})}catch{e.newPlot(t(q),n,m,{responsive:!0})}}async function le(){if(!t(W))return;const e=await Dt();if((!t(A)||t(A).length===0)&&(!t(z)||t(z).length===0)){e.purge(t(W));return}const r=[];if(t(A)&&t(A).length>0){const a=t(A).map(n=>n.x),d=t(A).map(n=>n.y);r.push({x:a,y:d,name:"PHIT",mode:"lines",line:{color:"#000000",width:2},xaxis:"x",yaxis:"y"})}if(t(M)&&t(M).length>0){const a=t(M).map(n=>n.x),d=t(M).map(n=>n.y);r.push({x:a,y:d,name:"PHIE",mode:"lines",line:{color:"#2563eb",width:1,dash:"dot"},fill:"tozeroy",fillcolor:"rgba(37,99,235,0.3)",xaxis:"x",yaxis:"y"})}t(z)&&t(z).length>0&&r.push({x:t(z).map(a=>a.x),y:t(z).map(a=>a.y),name:"CPORE",mode:"markers",marker:{color:"#dc2626",size:8,line:{color:"white",width:1}},xaxis:t(st)?"x2":"x",yaxis:"y"});const i={height:220,margin:{l:60,r:20,t:50,b:40},dragmode:"zoom",xaxis:{title:"Log Depth",titlefont:{color:"#2563eb"},tickfont:{color:"#2563eb"},tickformat:",.0f",side:"bottom"},xaxis2:{title:"Core Depth",titlefont:{color:"#dc2626"},tickfont:{color:"#dc2626"},tickformat:",.0f",overlaying:"x",side:"top",fixedrange:t(st)},yaxis:{title:"Porosity (fraction)",range:[0,.5],tickformat:".2f",fixedrange:!0},showlegend:!0,legend:{x:0,y:1,bgcolor:"rgba(255,255,255,0.8)",bordercolor:"rgba(0,0,0,0.2)",borderwidth:1}};try{e.react(t(W),r,i,{responsive:!0})}catch{e.newPlot(t(W),r,i,{responsive:!0})}}async function ne(){if(!(!k()||!H())){s(w,!0),s(N,null);try{const e=await fetch(`${J}/quick_pp/database/projects/${k()}/wells/${encodeURIComponent(String(H()))}/merged`);if(!e.ok)throw new Error(await e.text());const r=await e.json(),i=r&&r.data?r.data:r;if(!Array.isArray(i))throw new Error("Unexpected data format from backend");s(yt,i)}catch(e){console.warn("Failed to load well data",e),s(N,String(e?.message??e))}finally{s(w,!1)}}}function Rt(){const e=t($),r=[];for(const i of e){const a=Number(i.nphi??i.NPHI??i.Nphi??NaN),d=Number(i.rhob??i.RHOB??i.Rhob??NaN);!isNaN(a)&&!isNaN(d)&&r.push({nphi:a,rhob:d})}return r}function de(){const e=t($),r=[];for(const i of e){const a=Number(i.depth??i.DEPTH??NaN),d=Number(i.cpore??i.CPORE??i.Cpore??i.KPORE??i.kpore??NaN);!isNaN(a)&&!isNaN(d)&&d>0&&r.push({depth:a,CPORE:d})}return r.sort((i,a)=>i.depth-a.depth)}async function ce(){const e=Rt();if(!e.length){s(N,"No NPHI/RHOB data available in well rows");return}s(w,!0),s(N,null);try{const r={dry_sand_point:[Number(t(Z)),Number(t(G))],fluid_point:[Number(t(X)),Number(t(tt))],dry_clay_point:[Number(t(K)),Number(t(Q))],method:"default",silt_line_angle:Number(t(B)),data:e},i=await fetch(`${J}/quick_pp/lithology/ssc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok)throw new Error(await i.text());wt=await i.json(),ve()}catch(r){console.warn("SSC error",r),s(N,String(r?.message??r))}finally{s(w,!1)}}async function ue(){if(!k()||!H()){s(N,"Project and well must be selected before saving");return}if(!wt||wt.length===0){s(N,"No lithology results to save");return}s(ht,!0),s(mt,null),s(N,null);try{const e=t(Y).map(n=>({DEPTH:n.depth,VSAND:Math.min(Math.max(Number(n.VSAND??0),0),1),VSILT:Math.min(Math.max(Number(n.VSILT??0),0),1),VCLAY:Math.min(Math.max(Number(n.VCLAY??0),0),1)}));if(!e.length)throw new Error("No rows prepared for save");const r={data:e},i=`${J}/quick_pp/database/projects/${k()}/wells/${encodeURIComponent(String(H()))}/data`,a=await fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error(await a.text());const d=await a.json().catch(()=>null);s(mt,d&&d.message?String(d.message):"Lithology saved");try{window.dispatchEvent(new CustomEvent("qpp:data-updated",{detail:{projectId:k(),wellName:H(),kind:"lithology"}}))}catch{}}catch(e){console.warn("Save lithology error",e),s(mt,null),s(N,String(e?.message??e))}finally{s(ht,!1)}}async function pe(){const e=Rt();if(!e.length){s(N,"No NPHI/RHOB data available in well rows");return}s(w,!0),s(N,null);try{const r={dry_sand_point:[Number(t(Z)),Number(t(G))],fluid_point:[Number(t(X)),Number(t(tt))],dry_clay_point:[Number(t(K)),Number(t(Q))],silt_line_angle:Number(t(B)),method:"ssc",data:e},i=await fetch(`${J}/quick_pp/porosity/neu_den`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok)throw new Error(await i.text());bt=await i.json(),me()}catch(r){console.warn("Poro error",r),s(N,String(r?.message??r))}finally{s(w,!1)}}async function he(){if(!k()||!H()){s(N,"Project and well must be selected before saving");return}if(!bt||bt.length===0){s(N,"No porosity results to save");return}s(vt,!0),s(ft,null),s(N,null);try{const e=t($),r=[];let i=0;for(const c of e){const g=Number(c.nphi??c.NPHI??c.Nphi??NaN),f=Number(c.rhob??c.RHOB??c.Rhob??NaN);if(!(!isNaN(g)&&!isNaN(f)))continue;const y=bt[i++]??{},T=Math.min(Math.max(Number(y.PHIT??0),0),1),at=y.PHIE!==void 0?Number(y.PHIE):y.PHIE??null,lt=at!==null&&!isNaN(Number(at))?Math.min(Math.max(Number(at),0),1):null,gt={DEPTH:Number(c.depth??c.DEPTH??NaN),PHIT:T,PHIE:lt};lt!==null&&(gt.PHIE=lt),r.push(gt)}if(!r.length)throw new Error("No rows prepared for save");const a={data:r},d=`${J}/quick_pp/database/projects/${k()}/wells/${encodeURIComponent(String(H()))}/data`,n=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(await n.text());const m=await n.json().catch(()=>null);s(ft,m&&m.message?String(m.message):"Porosity saved");try{window.dispatchEvent(new CustomEvent("qpp:data-updated",{detail:{projectId:k(),wellName:H(),kind:"porosity"}}))}catch{}}catch(e){console.warn("Save porosity error",e),s(ft,null),s(N,String(e?.message??e))}finally{s(vt,!1)}}function ve(){const e=t($),r=[];let i=0;for(const a of e){const d=Number(a.depth??a.DEPTH??NaN);if(isNaN(d))continue;const n=Number(a.nphi??a.NPHI??a.Nphi??NaN),m=Number(a.rhob??a.RHOB??a.Rhob??NaN);if(!isNaN(n)&&!isNaN(m)){const g=wt[i++]??{VSAND:null,VSILT:null,VCLAY:null},f=Math.min(Math.max(Number(g.VSAND??0),0),1),_=Math.min(Math.max(Number(g.VSILT??0),0),1),y=Math.min(Math.max(Number(g.VCLAY??0),0),1);r.push({depth:d,VSAND:f,VSILT:_,VCLAY:y})}}r.sort((a,d)=>a.depth-d.depth),s(Y,r)}function me(){const e=t($),r=[];let i=0;for(const a of e){const d=Number(a.depth??a.DEPTH??NaN);if(isNaN(d))continue;const n=Number(a.nphi??a.NPHI??a.Nphi??NaN),m=Number(a.rhob??a.RHOB??a.Rhob??NaN);if(!isNaN(n)&&!isNaN(m)){const g=bt[i++]??{PHIT:null,PHIE:null},f=Math.min(Math.max(Number(g.PHIT??0),0),1),_=g.PHIE!==void 0?Number(g.PHIE):g.PHIE??null,y=_!==null&&!isNaN(Number(_))?Math.min(Math.max(Number(_),0),1):null,T={depth:d,PHIT:f};y!==null&&(T.PHIE=y),r.push(T)}}r.sort((a,d)=>a.depth-d.depth),s(C,r),s(R,de())}const fe=oe.subscribe(e=>{e?.depthFilter&&s(D,{...e.depthFilter}),e?.zoneFilter&&s(pt,{...e.zoneFilter})});te(()=>{fe()}),V(()=>t(B),()=>{s(F,1-1.68*Math.tan((t(B)-90)*Math.PI/180))}),V(()=>t(Y),()=>{s(E,t(Y).map(e=>({x:e.depth,vclay:e.VCLAY,vsilt:e.VCLAY+e.VSILT,vsand:e.VCLAY+e.VSILT+e.VSAND})))}),V(()=>t(C),()=>{s(A,t(C).map(e=>({x:e.depth,y:e.PHIT})))}),V(()=>t(C),()=>{s(M,t(C).map(e=>({x:e.depth,y:e.PHIE})).filter(e=>e.y!==void 0&&e.y!==null&&!isNaN(Number(e.y))))}),V(()=>t(R),()=>{s(z,t(R).map(e=>({x:e.depth,y:e.CPORE})))}),V(()=>(t(yt),t(D),t(pt)),()=>{s($,(()=>{let e=t(yt)||[];return e=Ze(e,t(D)),e=Ge(e,t(pt)),e})())}),V(()=>(P(k()),P(H())),()=>{k()&&H()&&ne()}),V(()=>(t(et),t($),t(Z),t(G),t(K),t(Q),t(F),t(X),t(tt),t(B),t(D),t(pt)),()=>{t(et)&&(t($)||t(Z)!==void 0||t(G)!==void 0||t(K)!==void 0||t(Q)!==void 0||t(F)!==void 0||t(X)!==void 0||t(tt)!==void 0||t(B)!==void 0||t(D)||t(pt))&&ie()}),V(()=>(t(q),t(Y),t(D)),()=>{t(q)&&(t(Y)||t(D))&&se()}),V(()=>(t(W),t(C),t(R),t(D),t(st)),()=>{t(W)&&(t(C)||t(R)||t(D)||t(st)!==void 0)&&le()}),qe(),ee();var Lt=ha(),Bt=u(h(Lt),2);Ke(Bt,{});var ye=u(Bt,2);{var be=e=>{var r=ua(),i=h(r),a=h(i),d=u(h(a),2);U(d),v(a);var n=u(a,2),m=u(h(n),2);U(m),v(n);var c=u(n,2),g=u(h(c),2);U(g),v(c);var f=u(c,2),_=u(h(f),2);U(_),v(f);var y=u(f,2),T=u(h(y),2);U(T),v(y);var at=u(y,2),lt=u(h(at),2);U(lt),v(at);var gt=u(at,2),Yt=u(h(gt),2);U(Yt),v(gt),v(i);var qt=u(i,2);{var xe=o=>{var l=ta(),S=h(l);v(l),ct(()=>_t(S,`Error: ${t(N)??""}`)),x(o,l)};j(qt,o=>{t(N)&&o(xe)})}var Wt=u(qt,2),Mt=h(Wt),Tt=h(Mt),Ut=u(h(Tt),2),Ne=h(Ut);$t(Ne,o=>s(et,o),()=>t(et)),v(Ut),v(Tt);var Jt=u(Tt,4),Pt=h(Jt);Pt.__click=ce;var nt=u(Pt,2);nt.__click=ue;var _e=h(nt);{var we=o=>{var l=Ht("Saving...");x(o,l)},Pe=o=>{var l=Ht("Save Lithology");x(o,l)};j(_e,o=>{t(ht)?o(we):o(Pe,!1)})}v(nt);var Vt=u(nt,2),Se=h(Vt);{var Ie=o=>{var l=ea();$t(l,S=>s(q,S),()=>t(q)),x(o,l)},ke=o=>{var l=aa();x(o,l)};j(Se,o=>{t(Y),b(()=>t(Y).length>0)?o(Ie):o(ke,!1)})}v(Vt);var He=u(Vt,2);{var Ce=o=>{var l=oa(),S=h(l,!0);v(l),ct(()=>_t(S,t(mt))),x(o,l)};j(He,o=>{t(mt)&&o(Ce)})}v(Jt),v(Mt);var Zt=u(Mt,2),jt=u(h(Zt),2),St=h(jt);St.__click=pe;var dt=u(St,2);dt.__click=he;var Ee=h(dt);{var De=o=>{var l=Ht("Saving...");x(o,l)},Re=o=>{var l=Ht("Save Porosity");x(o,l)};j(Ee,o=>{t(vt)?o(De):o(Re,!1)})}v(dt);var Ot=u(dt,2),It=h(Ot);U(It);var Le=u(It,2);v(Ot);var At=u(Ot,2),Me=h(At);{var Te=o=>{var l=ra();$t(l,S=>s(W,S),()=>t(W)),x(o,l)},Ve=o=>{var l=ia();x(o,l)};j(Me,o=>{t(C),t(R),b(()=>t(C).length>0||t(R).length>0)?o(Te):o(Ve,!1)})}v(At);var je=u(At,2);{var Oe=o=>{var l=sa(),S=h(l,!0);v(l),ct(()=>_t(S,t(ft))),x(o,l)};j(je,o=>{t(ft)&&o(Oe)})}v(jt);var Gt=u(jt,2),Kt=h(Gt);{var Ae=o=>{const l=O(()=>(t(C),b(()=>t(C).map(L=>L.PHIT)))),S=O(()=>(P(t(l)),b(()=>t(l).reduce((L,rt)=>L+rt,0)/t(l).length))),xt=O(()=>(P(t(l)),b(()=>Math.min(...t(l))))),Nt=O(()=>(P(t(l)),b(()=>Math.max(...t(l)))));var ot=la(),Ft=u(h(ot));v(ot),ct((L,rt,zt)=>_t(Ft,` Avg: ${L??""} | Min: ${rt??""} | Max: ${zt??""} | Count: ${P(t(l)),b(()=>t(l).length)??""}`),[()=>(P(t(S)),b(()=>t(S).toFixed(3))),()=>(P(t(xt)),b(()=>t(xt).toFixed(3))),()=>(P(t(Nt)),b(()=>t(Nt).toFixed(3)))]),x(o,ot)},Fe=o=>{var l=na();x(o,l)};j(Kt,o=>{t(C),b(()=>t(C).length>0)?o(Ae):o(Fe,!1)})}var ze=u(Kt,2);{var $e=o=>{const l=O(()=>(t(R),b(()=>t(R).map(L=>L.CPORE)))),S=O(()=>(P(t(l)),b(()=>t(l).reduce((L,rt)=>L+rt,0)/t(l).length))),xt=O(()=>(P(t(l)),b(()=>Math.min(...t(l))))),Nt=O(()=>(P(t(l)),b(()=>Math.max(...t(l)))));var ot=da(),Ft=u(h(ot),3);v(ot),ct((L,rt,zt)=>_t(Ft,` Avg: ${L??""} | Min: ${rt??""} | Max: ${zt??""} | Count: ${P(t(l)),b(()=>t(l).length)??""}`),[()=>(P(t(S)),b(()=>t(S).toFixed(3))),()=>(P(t(xt)),b(()=>t(xt).toFixed(3))),()=>(P(t(Nt)),b(()=>t(Nt).toFixed(3)))]),x(o,ot)},Be=o=>{var l=ca();x(o,l)};j(ze,o=>{t(R),b(()=>t(R).length>0)?o($e):o(Be,!1)})}v(Gt),v(Zt),v(Wt),v(r),ct(()=>{Pt.disabled=t(w),kt(Pt,t(w)?"opacity:0.5; pointer-events:none;":""),nt.disabled=t(w)||t(ht),kt(nt,t(w)||t(ht)?"opacity:0.5; pointer-events:none;":""),St.disabled=t(w),kt(St,t(w)?"opacity:0.5; pointer-events:none;":""),dt.disabled=t(w)||t(vt),kt(dt,t(w)||t(vt)?"opacity:0.5; pointer-events:none;":""),It.disabled=t(w),We(Le,1,`text-sm cursor-pointer ${t(w)?"opacity-50":""}`)}),it(d,()=>t(Z),o=>s(Z,o)),it(m,()=>t(G),o=>s(G,o)),it(g,()=>t(K),o=>s(K,o)),it(_,()=>t(Q),o=>s(Q,o)),it(T,()=>t(X),o=>s(X,o)),it(lt,()=>t(tt),o=>s(tt,o)),it(Yt,()=>t(B),o=>s(B,o)),Ue(It,()=>t(st),o=>s(st,o)),x(e,r)},ge=e=>{var r=pa();x(e,r)};j(ye,e=>{H()?e(be):e(ge,!1)})}v(Lt),x(Ct,Lt),ae()}Ye(["click"]);var ma=I('<div slot="left"><!></div>');function _a(Ct,ut){Xt(ut,!1);let F=p(null),E=p(null);const A=oe.subscribe(M=>{s(F,M?.project??null),s(E,M?.selectedWell??null)});te(()=>A()),ee(),Qe(Ct,{get selectedWell(){return t(E)},get project(){return t(F)},$$slots:{left:(M,z)=>{var k=ma(),H=h(k);{let J=O(()=>t(F)?.project_id??""),D=O(()=>t(E)?.name??"");va(H,{get projectId(){return t(J)},get wellName(){return t(D)}})}v(k),x(M,k)}}}),ae()}export{_a as component,Na as universal};
