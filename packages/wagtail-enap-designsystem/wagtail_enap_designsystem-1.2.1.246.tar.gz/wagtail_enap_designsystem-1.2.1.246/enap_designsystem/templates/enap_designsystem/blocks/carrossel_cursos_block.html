{% load wagtailcore_tags %}
{% load static %}
{% load wagtailimages_tags %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.3.1/swiper-bundle.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.3.1/swiper-bundle.min.js"></script>

<div class="carrossel-cursos">
  <div class="swiper swiper-cursos-{{ id }}">
    <div class="swiper-wrapper">
      {% for card_block in value.cards %}
        <div class="swiper-slide">
          {% include_block card_block %}
        </div>
      {% endfor %}
    </div>
    
    <!-- Navegação e paginação -->

  </div>

  <div class="swiper-button-next"><img class="enap-carousel-btn-image" src="{% static 'enap_designsystem/icons/iconrig.svg' %}" alt="Passar pro lado direito"></div>
    <div class="swiper-button-prev"><img class="enap-carousel-btn-image" src="{% static 'enap_designsystem/icons/iconleft.svg' %}" alt="Passar pro lado esquerdo"></div>
    <div class="swiper-pagination"></div>
</div>

<style>
  .carrossel-cursos {
    position: relative;
    padding: 0 40px;
    margin: 30px 0;
    height: 400px;
  }

  .swiper-button-prev:after, .swiper-rtl .swiper-button-next:after{
    display: none;
  }

  .swiper-button-next:after, .swiper-rtl .swiper-button-prev:after{
    display: none;
  }

  .swiper{
    max-width: 1142px;
  }

  .swiper-button-next{
    right: 130px;
  }

  .swiper-button-prev{
    left: 130px;
  }
  
  .swiper-button-next,
  .swiper-button-prev {
    
  }
  
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    background-color: var(--highlight-color);
    color: white;
  }
  

</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Swiper('.swiper-cursos-{{ id }}', {
      slidesPerView: {{ value.slidesPerView_mobile }},
      spaceBetween: 20,
      loop: true,
      
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      
      breakpoints: {
        640: {
          slidesPerView: {{ value.slidesPerView_mobile }},
        },
        768: {
          slidesPerView: {{ value.slidesPerView_tablet }},
        },
        1024: {
          slidesPerView: {{ value.slidesPerView_desktop }},
        },
      },
      
      {% if value.auto_play %}
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      {% endif %}
    });
  });
</script>