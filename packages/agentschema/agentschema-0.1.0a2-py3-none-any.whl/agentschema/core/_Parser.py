##########################################
# WARNING: This is an auto-generated file.
# DO NOT EDIT THIS FILE DIRECTLY
# ANY EDITS WILL BE LOST
##########################################
from dataclasses import dataclass, field
from typing import Any, Callable, Optional


@dataclass
class Parser:
    """Template parser definition
    Attributes
    ----------
    kind : str
        Parser used to process the rendered template into API-compatible format
    options : Optional[dict[str, Any]]
        Options for the parser
    """

    kind: str = field(default="*")
    options: Optional[dict[str, Any]] = None

    @staticmethod
    def load(data: Any, pre_process: Optional[Callable[[Any], Any]] = None) -> "Parser":
        """Load a Parser instance.
        Args:
            data (Any): The data to load the instance from.
            pre_process (Optional[Callable[[Any], Any]]): Optional pre-processing function to apply to the data before loading.
        Returns:
            Parser: The loaded Parser instance.

        """

        if pre_process is not None:
            data = pre_process(data)
        # handle alternate representations
        if isinstance(data, str):
            data = {"kind": data}

        if not isinstance(data, dict):
            raise ValueError(f"Invalid data for Parser: {data}")

        # create new instance
        instance = Parser()
        if data is not None and "kind" in data:
            instance.kind = data["kind"]
        if data is not None and "options" in data:
            instance.options = data["options"]
        return instance
