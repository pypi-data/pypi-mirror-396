[Skip to content](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#start-of-content)

## Navigation Menu

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fvibeswithkk%2FZenith-dataplane%2Fpull%2F40)
- PlatformAI CODE CREATION[GitHub CopilotWrite better code with AI](https://github.com/features/copilot)[GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)[GitHub ModelsManage and compare prompts](https://github.com/features/models)[MCP RegistryNewIntegrate external tools](https://github.com/mcp)DEVELOPER WORKFLOWS[ActionsAutomate any workflow](https://github.com/features/actions)[CodespacesInstant dev environments](https://github.com/features/codespaces)[IssuesPlan and track work](https://github.com/features/issues)[Code ReviewManage code changes](https://github.com/features/code-review)APPLICATION SECURITY[GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)[Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)[Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)EXPLORE[Why GitHub](https://github.com/why-github)[Documentation](https://docs.github.com)[Blog](https://github.blog)[Changelog](https://github.blog/changelog)[Marketplace](https://github.com/marketplace)[View all features](https://github.com/features)
- AI CODE CREATION[GitHub CopilotWrite better code with AI](https://github.com/features/copilot)[GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)[GitHub ModelsManage and compare prompts](https://github.com/features/models)[MCP RegistryNewIntegrate external tools](https://github.com/mcp)
- [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
- [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
- [GitHub ModelsManage and compare prompts](https://github.com/features/models)
- [MCP RegistryNewIntegrate external tools](https://github.com/mcp)
- DEVELOPER WORKFLOWS[ActionsAutomate any workflow](https://github.com/features/actions)[CodespacesInstant dev environments](https://github.com/features/codespaces)[IssuesPlan and track work](https://github.com/features/issues)[Code ReviewManage code changes](https://github.com/features/code-review)
- [ActionsAutomate any workflow](https://github.com/features/actions)
- [CodespacesInstant dev environments](https://github.com/features/codespaces)
- [IssuesPlan and track work](https://github.com/features/issues)
- [Code ReviewManage code changes](https://github.com/features/code-review)
- APPLICATION SECURITY[GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)[Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)[Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
- [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
- [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
- [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
- EXPLORE[Why GitHub](https://github.com/why-github)[Documentation](https://docs.github.com)[Blog](https://github.blog)[Changelog](https://github.blog/changelog)[Marketplace](https://github.com/marketplace)
- [Why GitHub](https://github.com/why-github)
- [Documentation](https://docs.github.com)
- [Blog](https://github.blog)
- [Changelog](https://github.blog/changelog)
- [Marketplace](https://github.com/marketplace)

## Navigation Menu

- SolutionsBY COMPANY SIZE[Enterprises](https://github.com/enterprise)[Small and medium teams](https://github.com/team)[Startups](https://github.com/enterprise/startups)[Nonprofits](https://github.com/solutions/industry/nonprofits)BY USE CASE[App Modernization](https://github.com/solutions/use-case/app-modernization)[DevSecOps](https://github.com/solutions/use-case/devsecops)[DevOps](https://github.com/solutions/use-case/devops)[CI/CD](https://github.com/solutions/use-case/ci-cd)[View all use cases](https://github.com/solutions/use-case)BY INDUSTRY[Healthcare](https://github.com/solutions/industry/healthcare)[Financial services](https://github.com/solutions/industry/financial-services)[Manufacturing](https://github.com/solutions/industry/manufacturing)[Government](https://github.com/solutions/industry/government)[View all industries](https://github.com/solutions/industry)[View all solutions](https://github.com/solutions)
- BY COMPANY SIZE[Enterprises](https://github.com/enterprise)[Small and medium teams](https://github.com/team)[Startups](https://github.com/enterprise/startups)[Nonprofits](https://github.com/solutions/industry/nonprofits)
- [Enterprises](https://github.com/enterprise)
- [Small and medium teams](https://github.com/team)
- [Startups](https://github.com/enterprise/startups)
- [Nonprofits](https://github.com/solutions/industry/nonprofits)
- BY USE CASE[App Modernization](https://github.com/solutions/use-case/app-modernization)[DevSecOps](https://github.com/solutions/use-case/devsecops)[DevOps](https://github.com/solutions/use-case/devops)[CI/CD](https://github.com/solutions/use-case/ci-cd)[View all use cases](https://github.com/solutions/use-case)
- [App Modernization](https://github.com/solutions/use-case/app-modernization)
- [DevSecOps](https://github.com/solutions/use-case/devsecops)
- [DevOps](https://github.com/solutions/use-case/devops)
- [CI/CD](https://github.com/solutions/use-case/ci-cd)
- [View all use cases](https://github.com/solutions/use-case)
- BY INDUSTRY[Healthcare](https://github.com/solutions/industry/healthcare)[Financial services](https://github.com/solutions/industry/financial-services)[Manufacturing](https://github.com/solutions/industry/manufacturing)[Government](https://github.com/solutions/industry/government)[View all industries](https://github.com/solutions/industry)
- [Healthcare](https://github.com/solutions/industry/healthcare)
- [Financial services](https://github.com/solutions/industry/financial-services)
- [Manufacturing](https://github.com/solutions/industry/manufacturing)
- [Government](https://github.com/solutions/industry/government)
- [View all industries](https://github.com/solutions/industry)
- ResourcesEXPLORE BY TOPIC[AI](https://github.com/resources/articles?topic=ai)[Software Development](https://github.com/resources/articles?topic=software-development)[DevOps](https://github.com/resources/articles?topic=devops)[Security](https://github.com/resources/articles?topic=security)[View all topics](https://github.com/resources/articles)EXPLORE BY TYPE[Customer stories](https://github.com/customer-stories)[Events & webinars](https://github.com/resources/events)[Ebooks & reports](https://github.com/resources/whitepapers)[Business insights](https://github.com/solutions/executive-insights)[GitHub Skills](https://skills.github.com)SUPPORT & SERVICES[Documentation](https://docs.github.com)[Customer support](https://support.github.com)[Community forum](https://github.com/orgs/community/discussions)[Trust center](https://github.com/trust-center)[Partners](https://github.com/partners)
- EXPLORE BY TOPIC[AI](https://github.com/resources/articles?topic=ai)[Software Development](https://github.com/resources/articles?topic=software-development)[DevOps](https://github.com/resources/articles?topic=devops)[Security](https://github.com/resources/articles?topic=security)[View all topics](https://github.com/resources/articles)
- [AI](https://github.com/resources/articles?topic=ai)
- [Software Development](https://github.com/resources/articles?topic=software-development)
- [DevOps](https://github.com/resources/articles?topic=devops)
- [Security](https://github.com/resources/articles?topic=security)
- [View all topics](https://github.com/resources/articles)

## Navigation Menu

- EXPLORE BY TYPE[Customer stories](https://github.com/customer-stories)[Events & webinars](https://github.com/resources/events)[Ebooks & reports](https://github.com/resources/whitepapers)[Business insights](https://github.com/solutions/executive-insights)[GitHub Skills](https://skills.github.com)
- [Customer stories](https://github.com/customer-stories)
- [Events & webinars](https://github.com/resources/events)
- [Ebooks & reports](https://github.com/resources/whitepapers)
- [Business insights](https://github.com/solutions/executive-insights)
- [GitHub Skills](https://skills.github.com)
- SUPPORT & SERVICES[Documentation](https://docs.github.com)[Customer support](https://support.github.com)[Community forum](https://github.com/orgs/community/discussions)[Trust center](https://github.com/trust-center)[Partners](https://github.com/partners)
- [Documentation](https://docs.github.com)
- [Customer support](https://support.github.com)
- [Community forum](https://github.com/orgs/community/discussions)
- [Trust center](https://github.com/trust-center)
- [Partners](https://github.com/partners)
- Open SourceCOMMUNITY[GitHub SponsorsFund open source developers](https://github.com/sponsors)PROGRAMS[Security Lab](https://securitylab.github.com)[Maintainer Community](https://maintainers.github.com)[Accelerator](https://github.com/accelerator)[Archive Program](https://archiveprogram.github.com)REPOSITORIES[Topics](https://github.com/topics)[Trending](https://github.com/trending)[Collections](https://github.com/collections)
- COMMUNITY[GitHub SponsorsFund open source developers](https://github.com/sponsors)
- [GitHub SponsorsFund open source developers](https://github.com/sponsors)
- PROGRAMS[Security Lab](https://securitylab.github.com)[Maintainer Community](https://maintainers.github.com)[Accelerator](https://github.com/accelerator)[Archive Program](https://archiveprogram.github.com)
- [Security Lab](https://securitylab.github.com)
- [Maintainer Community](https://maintainers.github.com)
- [Accelerator](https://github.com/accelerator)
- [Archive Program](https://archiveprogram.github.com)
- REPOSITORIES[Topics](https://github.com/topics)[Trending](https://github.com/trending)[Collections](https://github.com/collections)
- [Topics](https://github.com/topics)
- [Trending](https://github.com/trending)
- [Collections](https://github.com/collections)
- EnterpriseENTERPRISE SOLUTIONS[Enterprise platformAI-powered developer platform](https://github.com/enterprise)AVAILABLE ADD-ONS[GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)[Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)[Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
- ENTERPRISE SOLUTIONS[Enterprise platformAI-powered developer platform](https://github.com/enterprise)
- [Enterprise platformAI-powered developer platform](https://github.com/enterprise)
- AVAILABLE ADD-ONS[GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)[Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)[Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
- [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
- [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
- [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
- [Pricing](https://github.com/pricing)
- AI CODE CREATION[GitHub CopilotWrite better code with AI](https://github.com/features/copilot)[GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)[GitHub ModelsManage and compare prompts](https://github.com/features/models)[MCP RegistryNewIntegrate external tools](https://github.com/mcp)
- [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
- [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
- [GitHub ModelsManage and compare prompts](https://github.com/features/models)
- [MCP RegistryNewIntegrate external tools](https://github.com/mcp)

## Navigation Menu

- DEVELOPER WORKFLOWS[ActionsAutomate any workflow](https://github.com/features/actions)[CodespacesInstant dev environments](https://github.com/features/codespaces)[IssuesPlan and track work](https://github.com/features/issues)[Code ReviewManage code changes](https://github.com/features/code-review)
- [ActionsAutomate any workflow](https://github.com/features/actions)
- [CodespacesInstant dev environments](https://github.com/features/codespaces)
- [IssuesPlan and track work](https://github.com/features/issues)
- [Code ReviewManage code changes](https://github.com/features/code-review)
- APPLICATION SECURITY[GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)[Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)[Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
- [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
- [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
- [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
- EXPLORE[Why GitHub](https://github.com/why-github)[Documentation](https://docs.github.com)[Blog](https://github.blog)[Changelog](https://github.blog/changelog)[Marketplace](https://github.com/marketplace)
- [Why GitHub](https://github.com/why-github)
- [Documentation](https://docs.github.com)
- [Blog](https://github.blog)
- [Changelog](https://github.blog/changelog)
- [Marketplace](https://github.com/marketplace)
- [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
- [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
- [GitHub ModelsManage and compare prompts](https://github.com/features/models)
- [MCP RegistryNewIntegrate external tools](https://github.com/mcp)
[GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
[GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
[GitHub ModelsManage and compare prompts](https://github.com/features/models)
[MCP RegistryNewIntegrate external tools](https://github.com/mcp)
- [ActionsAutomate any workflow](https://github.com/features/actions)
- [CodespacesInstant dev environments](https://github.com/features/codespaces)
- [IssuesPlan and track work](https://github.com/features/issues)
- [Code ReviewManage code changes](https://github.com/features/code-review)
[ActionsAutomate any workflow](https://github.com/features/actions)
[CodespacesInstant dev environments](https://github.com/features/codespaces)
[IssuesPlan and track work](https://github.com/features/issues)
[Code ReviewManage code changes](https://github.com/features/code-review)
- [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
- [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
- [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
[GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
[Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
[Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
- [Why GitHub](https://github.com/why-github)
- [Documentation](https://docs.github.com)
- [Blog](https://github.blog)
- [Changelog](https://github.blog/changelog)
- [Marketplace](https://github.com/marketplace)
[Why GitHub](https://github.com/why-github)
[Documentation](https://docs.github.com)
[Blog](https://github.blog)
[Changelog](https://github.blog/changelog)
[Marketplace](https://github.com/marketplace)
[View all features](https://github.com/features)
- BY COMPANY SIZE[Enterprises](https://github.com/enterprise)[Small and medium teams](https://github.com/team)[Startups](https://github.com/enterprise/startups)[Nonprofits](https://github.com/solutions/industry/nonprofits)
- [Enterprises](https://github.com/enterprise)
- [Small and medium teams](https://github.com/team)
- [Startups](https://github.com/enterprise/startups)
- [Nonprofits](https://github.com/solutions/industry/nonprofits)

## Navigation Menu

- BY USE CASE[App Modernization](https://github.com/solutions/use-case/app-modernization)[DevSecOps](https://github.com/solutions/use-case/devsecops)[DevOps](https://github.com/solutions/use-case/devops)[CI/CD](https://github.com/solutions/use-case/ci-cd)[View all use cases](https://github.com/solutions/use-case)
- [App Modernization](https://github.com/solutions/use-case/app-modernization)
- [DevSecOps](https://github.com/solutions/use-case/devsecops)
- [DevOps](https://github.com/solutions/use-case/devops)
- [CI/CD](https://github.com/solutions/use-case/ci-cd)
- [View all use cases](https://github.com/solutions/use-case)
- BY INDUSTRY[Healthcare](https://github.com/solutions/industry/healthcare)[Financial services](https://github.com/solutions/industry/financial-services)[Manufacturing](https://github.com/solutions/industry/manufacturing)[Government](https://github.com/solutions/industry/government)[View all industries](https://github.com/solutions/industry)
- [Healthcare](https://github.com/solutions/industry/healthcare)
- [Financial services](https://github.com/solutions/industry/financial-services)
- [Manufacturing](https://github.com/solutions/industry/manufacturing)
- [Government](https://github.com/solutions/industry/government)
- [View all industries](https://github.com/solutions/industry)
- [Enterprises](https://github.com/enterprise)
- [Small and medium teams](https://github.com/team)
- [Startups](https://github.com/enterprise/startups)
- [Nonprofits](https://github.com/solutions/industry/nonprofits)
[Enterprises](https://github.com/enterprise)
[Small and medium teams](https://github.com/team)
[Startups](https://github.com/enterprise/startups)
[Nonprofits](https://github.com/solutions/industry/nonprofits)
- [App Modernization](https://github.com/solutions/use-case/app-modernization)
- [DevSecOps](https://github.com/solutions/use-case/devsecops)
- [DevOps](https://github.com/solutions/use-case/devops)
- [CI/CD](https://github.com/solutions/use-case/ci-cd)
- [View all use cases](https://github.com/solutions/use-case)
[App Modernization](https://github.com/solutions/use-case/app-modernization)
[DevSecOps](https://github.com/solutions/use-case/devsecops)
[DevOps](https://github.com/solutions/use-case/devops)
[CI/CD](https://github.com/solutions/use-case/ci-cd)
[View all use cases](https://github.com/solutions/use-case)
- [Healthcare](https://github.com/solutions/industry/healthcare)
- [Financial services](https://github.com/solutions/industry/financial-services)
- [Manufacturing](https://github.com/solutions/industry/manufacturing)
- [Government](https://github.com/solutions/industry/government)
- [View all industries](https://github.com/solutions/industry)
[Healthcare](https://github.com/solutions/industry/healthcare)
[Financial services](https://github.com/solutions/industry/financial-services)
[Manufacturing](https://github.com/solutions/industry/manufacturing)
[Government](https://github.com/solutions/industry/government)
[View all industries](https://github.com/solutions/industry)
[View all solutions](https://github.com/solutions)
- EXPLORE BY TOPIC[AI](https://github.com/resources/articles?topic=ai)[Software Development](https://github.com/resources/articles?topic=software-development)[DevOps](https://github.com/resources/articles?topic=devops)[Security](https://github.com/resources/articles?topic=security)[View all topics](https://github.com/resources/articles)
- [AI](https://github.com/resources/articles?topic=ai)
- [Software Development](https://github.com/resources/articles?topic=software-development)
- [DevOps](https://github.com/resources/articles?topic=devops)
- [Security](https://github.com/resources/articles?topic=security)
- [View all topics](https://github.com/resources/articles)
- EXPLORE BY TYPE[Customer stories](https://github.com/customer-stories)[Events & webinars](https://github.com/resources/events)[Ebooks & reports](https://github.com/resources/whitepapers)[Business insights](https://github.com/solutions/executive-insights)[GitHub Skills](https://skills.github.com)
- [Customer stories](https://github.com/customer-stories)
- [Events & webinars](https://github.com/resources/events)
- [Ebooks & reports](https://github.com/resources/whitepapers)
- [Business insights](https://github.com/solutions/executive-insights)
- [GitHub Skills](https://skills.github.com)

## Navigation Menu

- SUPPORT & SERVICES[Documentation](https://docs.github.com)[Customer support](https://support.github.com)[Community forum](https://github.com/orgs/community/discussions)[Trust center](https://github.com/trust-center)[Partners](https://github.com/partners)
- [Documentation](https://docs.github.com)
- [Customer support](https://support.github.com)
- [Community forum](https://github.com/orgs/community/discussions)
- [Trust center](https://github.com/trust-center)
- [Partners](https://github.com/partners)
- [AI](https://github.com/resources/articles?topic=ai)
- [Software Development](https://github.com/resources/articles?topic=software-development)
- [DevOps](https://github.com/resources/articles?topic=devops)
- [Security](https://github.com/resources/articles?topic=security)
- [View all topics](https://github.com/resources/articles)
[AI](https://github.com/resources/articles?topic=ai)
[Software Development](https://github.com/resources/articles?topic=software-development)
[DevOps](https://github.com/resources/articles?topic=devops)
[Security](https://github.com/resources/articles?topic=security)
[View all topics](https://github.com/resources/articles)
- [Customer stories](https://github.com/customer-stories)
- [Events & webinars](https://github.com/resources/events)
- [Ebooks & reports](https://github.com/resources/whitepapers)
- [Business insights](https://github.com/solutions/executive-insights)
- [GitHub Skills](https://skills.github.com)
[Customer stories](https://github.com/customer-stories)
[Events & webinars](https://github.com/resources/events)
[Ebooks & reports](https://github.com/resources/whitepapers)
[Business insights](https://github.com/solutions/executive-insights)
[GitHub Skills](https://skills.github.com)
- [Documentation](https://docs.github.com)
- [Customer support](https://support.github.com)
- [Community forum](https://github.com/orgs/community/discussions)
- [Trust center](https://github.com/trust-center)
- [Partners](https://github.com/partners)
[Documentation](https://docs.github.com)
[Customer support](https://support.github.com)
[Community forum](https://github.com/orgs/community/discussions)
[Trust center](https://github.com/trust-center)
[Partners](https://github.com/partners)
- COMMUNITY[GitHub SponsorsFund open source developers](https://github.com/sponsors)
- [GitHub SponsorsFund open source developers](https://github.com/sponsors)
- PROGRAMS[Security Lab](https://securitylab.github.com)[Maintainer Community](https://maintainers.github.com)[Accelerator](https://github.com/accelerator)[Archive Program](https://archiveprogram.github.com)
- [Security Lab](https://securitylab.github.com)
- [Maintainer Community](https://maintainers.github.com)
- [Accelerator](https://github.com/accelerator)
- [Archive Program](https://archiveprogram.github.com)
- REPOSITORIES[Topics](https://github.com/topics)[Trending](https://github.com/trending)[Collections](https://github.com/collections)
- [Topics](https://github.com/topics)
- [Trending](https://github.com/trending)
- [Collections](https://github.com/collections)
- [GitHub SponsorsFund open source developers](https://github.com/sponsors)
[GitHub SponsorsFund open source developers](https://github.com/sponsors)
- [Security Lab](https://securitylab.github.com)
- [Maintainer Community](https://maintainers.github.com)
- [Accelerator](https://github.com/accelerator)
- [Archive Program](https://archiveprogram.github.com)
[Security Lab](https://securitylab.github.com)
[Maintainer Community](https://maintainers.github.com)
[Accelerator](https://github.com/accelerator)
[Archive Program](https://archiveprogram.github.com)
- [Topics](https://github.com/topics)
- [Trending](https://github.com/trending)
- [Collections](https://github.com/collections)
[Topics](https://github.com/topics)
[Trending](https://github.com/trending)
[Collections](https://github.com/collections)
- ENTERPRISE SOLUTIONS[Enterprise platformAI-powered developer platform](https://github.com/enterprise)
- [Enterprise platformAI-powered developer platform](https://github.com/enterprise)
- AVAILABLE ADD-ONS[GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)[Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)[Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)

## Navigation Menu

- [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
- [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
- [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
- [Enterprise platformAI-powered developer platform](https://github.com/enterprise)
[Enterprise platformAI-powered developer platform](https://github.com/enterprise)
- [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
- [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
- [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
[GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
[Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
[Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
[Pricing](https://github.com/pricing)

# Search code, repositories, users, issues, pull requests...
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback
We read every piece of feedback, and take your input very seriously.

## Use saved searches to filter your results more quickly

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).
[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fvibeswithkk%2FZenith-dataplane%2Fpull%2F40)
[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=vibeswithkk%2FZenith-dataplane)
[Reload](https://github.com/vibeswithkk/Zenith-dataplane/pull/40)
[Reload](https://github.com/vibeswithkk/Zenith-dataplane/pull/40)
[Reload](https://github.com/vibeswithkk/Zenith-dataplane/pull/40)
[vibeswithkk](https://github.com/vibeswithkk)
[Zenith-dataplane](https://github.com/vibeswithkk/Zenith-dataplane)
- 
            [Notifications](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)    You must be signed in to change notification settings


- 
          [Fork
    2](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)

- 

        [Star
          3](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)

[Notifications](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)
[Fork
    2](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)
[Star
          3](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane)
- 
  [Code](https://github.com/vibeswithkk/Zenith-dataplane)
- 
  [Issues
          2](https://github.com/vibeswithkk/Zenith-dataplane/issues)
- 
  [Pull requests
          5](https://github.com/vibeswithkk/Zenith-dataplane/pulls)
- 
  [Discussions](https://github.com/vibeswithkk/Zenith-dataplane/discussions)
- 
  [Actions](https://github.com/vibeswithkk/Zenith-dataplane/actions)
- 
  [Projects
          0](https://github.com/vibeswithkk/Zenith-dataplane/projects)
- https://github.com/vibeswithkk/Zenith-dataplane/security[Security](https://github.com/vibeswithkk/Zenith-dataplane/security)https://github.com/vibeswithkk/Zenith-dataplane/security
  https://github.com/vibeswithkk/Zenith-dataplane/security[Uh oh!](https://github.com/vibeswithkk/Zenith-dataplane/security)[There was an error while loading.](https://github.com/vibeswithkk/Zenith-dataplane/security)[Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).








- 
  [Insights](https://github.com/vibeswithkk/Zenith-dataplane/pulse)
[Code](https://github.com/vibeswithkk/Zenith-dataplane)
[Issues
          2](https://github.com/vibeswithkk/Zenith-dataplane/issues)
[Pull requests
          5](https://github.com/vibeswithkk/Zenith-dataplane/pulls)
[Discussions](https://github.com/vibeswithkk/Zenith-dataplane/discussions)
[Actions](https://github.com/vibeswithkk/Zenith-dataplane/actions)
[Projects
          0](https://github.com/vibeswithkk/Zenith-dataplane/projects)
[Security](https://github.com/vibeswithkk/Zenith-dataplane/security)
[Uh oh!](https://github.com/vibeswithkk/Zenith-dataplane/security)

### Uh oh!

[There was an error while loading.](https://github.com/vibeswithkk/Zenith-dataplane/security)[Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[Insights](https://github.com/vibeswithkk/Zenith-dataplane/pulse)
- 


    [Code](https://github.com/vibeswithkk/Zenith-dataplane)


- 


    [Issues](https://github.com/vibeswithkk/Zenith-dataplane/issues)


- 


    [Pull requests](https://github.com/vibeswithkk/Zenith-dataplane/pulls)


- 


    [Discussions](https://github.com/vibeswithkk/Zenith-dataplane/discussions)


- 


    [Actions](https://github.com/vibeswithkk/Zenith-dataplane/actions)


- 


    [Projects](https://github.com/vibeswithkk/Zenith-dataplane/projects)


- 


    [Security](https://github.com/vibeswithkk/Zenith-dataplane/security)


- 


    [Insights](https://github.com/vibeswithkk/Zenith-dataplane/pulse)


[Code](https://github.com/vibeswithkk/Zenith-dataplane)
[Issues](https://github.com/vibeswithkk/Zenith-dataplane/issues)
[Pull requests](https://github.com/vibeswithkk/Zenith-dataplane/pulls)
[Discussions](https://github.com/vibeswithkk/Zenith-dataplane/discussions)
[Actions](https://github.com/vibeswithkk/Zenith-dataplane/actions)
[Projects](https://github.com/vibeswithkk/Zenith-dataplane/projects)
[Security](https://github.com/vibeswithkk/Zenith-dataplane/security)
[Insights](https://github.com/vibeswithkk/Zenith-dataplane/pulse)

# feat(ffi): Add C++ NUMA backend with libnuma integration #40

Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
[Sign up for GitHub](https://github.com/signup?return_to=%2Fvibeswithkk%2FZenith-dataplane%2Fissues%2Fnew%2Fchoose)
By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and [privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.
Already on GitHub? [Sign in](https://github.com/login?return_to=%2Fvibeswithkk%2FZenith-dataplane%2Fissues%2Fnew%2Fchoose) to your account
[Jump to bottom](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issue-comment-box)
[Ryueee1](https://github.com/Ryueee1)
[vibeswithkk:main](https://github.com/vibeswithkk/Zenith-dataplane/tree/main)

### Are you sure you want to change the base?

[Ryueee1:main](https://github.com/Ryueee1/Zenith-dataplane/tree/main)

# [feat(ffi): Add C++ NUMA backend with libnuma integration](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#top) #40

[feat(ffi): Add C++ NUMA backend with libnuma integration](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#top)
[Ryueee1](https://github.com/Ryueee1)
[vibeswithkk:main](https://github.com/vibeswithkk/Zenith-dataplane/tree/main)
[Ryueee1:main](https://github.com/Ryueee1/Zenith-dataplane/tree/main)
[Conversation

      3](https://github.com/vibeswithkk/Zenith-dataplane/pull/40)
[Commits

      2](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits)
[Checks

  0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/checks)
[Files changed

          9](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files)

## Conversation

[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)
[Show hidden characters](https://github.com/vibeswithkk/Zenith-dataplane/pull/%7B%7B%20revealButtonHref%20%7D%7D)

### [Ryueee1](https://github.com/Ryueee1) commented [Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issue-3721614414) ‚Ä¢ edited by qodo-code-review bot Loading Uh oh! There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[Ryueee1](https://github.com/Ryueee1)
[Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issue-3721614414)

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

## Summary
Implements C++ NUMA backend as proposed in [#38](https://github.com/vibeswithkk/Zenith-dataplane/issues/38).

## Changes
- zenith_numa.h: C FFI header with 15+ NUMA functions
- numa_backend.cpp: libnuma C++ implementation with fallback stubs
- CMakeLists.txt: CMake build configuration
- build.rs: Rust build script with cmake/cc integration
- numa_ffi.rs: Safe Rust wrapper with NumaAllocator
- numa_test.cpp: Google Test unit tests

```
NumaAllocator
```

## Architecture
The code uses ZENITH_HAS_LIBNUMA macro for conditional compilation:

```
ZENITH_HAS_LIBNUMA
```

- Without libnuma: Uses fallback stubs (malloc/free) - IDE-friendly
- With libnuma: Full NUMA support when CMake detects libnuma
This allows development on systems without libnuma installed.

## Features
- NUMA-aware memory allocation (alloc_onnode, alloc_interleaved, alloc_local)
- Thread binding to NUMA nodes and CPUs
- Memory policies (set_preferred, set_interleave, set_membind)
- Topology queries (num_nodes, node_of_cpu, distances)

```
alloc_onnode
```


```
alloc_interleaved
```


```
alloc_local
```

## Usage
```
# Enable C++ NUMA backend cargo build -p zenith-runtime-cpu --features numa_cpp
```

## Dependencies
- libnuma-dev (Ubuntu/Debian: apt install libnuma-dev)
- cmake 3.16+
- C++17 compiler

```
apt install libnuma-dev
```

Closes [#38](https://github.com/vibeswithkk/Zenith-dataplane/issues/38)

### PR Type
Enhancement

### Description
- 
Add C++ NUMA backend with libnuma integration for memory locality

- 
Implement safe Rust FFI wrapper with NumaAllocator and topology queries

- 
Add CMake build system with conditional libnuma compilation support

- 
Include Google Test unit tests and comprehensive documentation

Add C++ NUMA backend with libnuma integration for memory locality
Implement safe Rust FFI wrapper with NumaAllocator and topology queries
Add CMake build system with conditional libnuma compilation support
Include Google Test unit tests and comprehensive documentation

### Diagram Walkthrough
```
flowchart LR A["Rust Code"] -->|"numa_cpp feature"| B["build.rs"] B -->|"CMake/cc"| C["C++ NUMA Backend"] C -->|"libnuma"| D["System NUMA"] C -->|"fallback stubs"| E["malloc/free"] C -->|"FFI"| F["zenith_numa.h"] F -->|"safe wrapper"| G["numa_ffi.rs"] G -->|"NumaAllocator"| A H["CMakeLists.txt"] -->|"configures"| C I["numa_test.cpp"] -->|"tests"| C
```

### File Walkthrough
```
Rust build script for C++ NUMA backend compilation
```

[+56/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-a289642fcffdcbb7b730d41256f331c80f1b4e44f1cec7470fda45e31f2ce4c9)

```
CMake configuration for NUMA backend build
```

[+152/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-bb9f82ecf9cf14fc4c80f900bfb00eaa3c111452882cd548dc21b2821d40e045)

```
Export numa_ffi module when feature enabled
```

[+4/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-1593af0f8bfc2b894ef7b084052f78e4c5675daa0c0cde4b48687aa6af2dcbf3)

```
Safe Rust wrapper for C++ NUMA backend FFI
```

[+353/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-eeefb7dbcb307ec0950c3b9319f6f7e28f8bd1c2c7e7ea0e28bf651f9035e70a)

```
Add numa_cpp feature and build dependencies
```

[+5/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-e67f4e5771b90aad11014c69afe6b1bdea9380ec0aabd5b650351fd31eb5ced1)

```
C FFI header with 15+ NUMA functions
```

[+225/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-5b36fb1af4fa25cac053ed180f6a565f5f23f33a4d12ff422200568bcf97d0e9)

```
C++ implementation with libnuma and fallback stubs
```

[+413/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aaf)

```
Google Test unit tests for NUMA backend
```

[+153/-0](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-97e2cbebd264b00e384becacb62d53f41e474fe78e12f30df87162479a2478af)

```
Documentation for NUMA backend and C++ integration
```

[+65/-36](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-6ec5e48eb696f5b8bdc1b0d9a3a68baa44886b5c90ee02b2e9a16dfd054b4cf2)
Sorry, something went wrong.

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[qodo-code-review](https://github.com/apps/qodo-code-review)
[Review effort 3/5](https://github.com/vibeswithkk/Zenith-dataplane/issues?q=state%3Aopen%20label%3A%22Review%20effort%203%2F5%22)
[Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#event-21517802911)

### [qodo-code-review](https://github.com/apps/qodo-code-review) bot commented [Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644579175) ‚Ä¢ edited Loading Uh oh! There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[qodo-code-review](https://github.com/apps/qodo-code-review)
[Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644579175)

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

## PR Compliance Guide üîç

Below is a summary of compliance checks for this PR:
Description: NUMA allocation functions zero-initialize the entire requested buffer with memset, which can cause significant predictable memory touching and potential performance denial-of-service if sizes are attacker-controlled through FFI boundaries. [numa_backend.cpp [100-149]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aafR100-R149)

```
void *zenith_numa_alloc_onnode(size_t size, int32_t node) { if (!g_numa_initialized) { return nullptr; } if (node < 0 || node >= numa_num_configured_nodes()) { return nullptr; } void *ptr = numa_alloc_onnode(size, node); if (ptr != nullptr) { // Touch the memory to ensure it's actually allocated on the node // (first-touch policy) memset(ptr, 0, size); } return ptr; } void *zenith_numa_alloc_interleaved(size_t size) { if (!g_numa_initialized) { ... (clipped 29 lines)
```

Description: The build script unconditionally links against 'numa' and 'pthread' even when falling back to cc without libnuma detection, which can cause unintended linkage to system libraries and build-time spoofing risks on systems lacking proper libnuma, requiring verification. [build.rs [31-56]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-a289642fcffdcbb7b730d41256f331c80f1b4e44f1cec7470fda45e31f2ce4c9R31-R56)

```
if use_cmake && cpp_dir.join("CMakeLists.txt").exists() { // Use CMake for building let dst = cmake::Config::new(&cpp_dir) .define("CMAKE_BUILD_TYPE", "Release") .define("BUILD_TESTS", "OFF") .build(); println!("cargo:rustc-link-search=native={}/lib", dst.display()); println!("cargo:rustc-link-lib=static=zenith_numa"); } else { // Fallback: Use cc crate for simple compilation println!("cargo:warning=CMake not available, using cc crate fallback"); cc::Build::new() .cpp(true) .file(cpp_dir.join("numa_backend.cpp")) .include(&ffi_dir) .flag_if_supported("-std=c++17") .flag_if_supported("-O3") .compile("zenith_numa"); } ... (clipped 5 lines)
```

[#38](https://github.com/vibeswithkk/Zenith-dataplane/issues/38)
Follow the [guide](https://qodo-merge-docs.qodo.ai/core-abilities/rag_context_enrichment/) to enable codebase context checks.
Objective: Ensure all identifiers clearly express their purpose and intent, making code self-documenting
Status: Passed
Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
Objective: To prevent the leakage of sensitive system information through error messages while providing sufficient detail for internal debugging.
Status: Passed
Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
Objective: To ensure logs are useful for debugging and auditing without exposing sensitive information like PII, PHI, or cardholder data.
Status: Passed
Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
Objective: To create a detailed and reliable record of critical system actions for security analysis and compliance.
Status: [No audit logs](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-eeefb7dbcb307ec0950c3b9319f6f7e28f8bd1c2c7e7ea0e28bf651f9035e70aR134-R206): New NUMA operations (initialization, thread binding, memory policy changes) are not logged, making it impossible to audit critical runtime-affecting actions.

```
/// /// Must be called before any other NUMA functions. #[cfg(feature = "numa_cpp")] pub fn init() -> NumaResult<()> { check_result(unsafe { ffi::zenith_numa_init() }) } /// Cleanup NUMA subsystem resources #[cfg(feature = "numa_cpp")] pub fn cleanup() { unsafe { ffi::zenith_numa_cleanup() } } /// Check if NUMA is available on this system #[cfg(feature = "numa_cpp")] pub fn is_available() -> bool { unsafe { ffi::zenith_numa_available() != 0 } } /// Get the number of NUMA nodes #[cfg(feature = "numa_cpp")] ... (clipped 52 lines)
```

## PR Compliance Guide üîç

Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
Objective: Ensure comprehensive error handling that provides meaningful context and graceful degradation
Status: [Init+validation gaps](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-eeefb7dbcb307ec0950c3b9319f6f7e28f8bd1c2c7e7ea0e28bf651f9035e70aR182-R212): Public APIs like bind_thread_to_node, set_preferred, and allocator methods call FFI without verifying initialization state or validating inputs beyond simple range checks, relying on backend errors without contextual reporting.

```
bind_thread_to_node
```


```
set_preferred
```


```
/// Bind the current thread to a NUMA node #[cfg(feature = "numa_cpp")] pub fn bind_thread_to_node(node: i32) -> NumaResult<()> { check_result(unsafe { ffi::zenith_numa_bind_thread_to_node(node) }) } /// Bind the current thread to a specific CPU #[cfg(feature = "numa_cpp")] pub fn bind_thread_to_cpu(cpu: i32) -> NumaResult<()> { check_result(unsafe { ffi::zenith_numa_bind_thread_to_cpu(cpu) }) } /// Unbind the current thread #[cfg(feature = "numa_cpp")] pub fn unbind_thread() -> NumaResult<()> { check_result(unsafe { ffi::zenith_numa_unbind_thread() }) } /// Set the preferred NUMA node for future allocations #[cfg(feature = "numa_cpp")] pub fn set_preferred(node: i32) -> NumaResult<()> { ... (clipped 10 lines)
```

Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
Objective: Ensure all data inputs are validated, sanitized, and handled securely to prevent vulnerabilities
Status: [Allocation checks](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aafR100-R148): FFI allocation functions return raw pointers and touch memory but do not enforce size constraints or null checks at the boundary in Rust for alloc_*, relying on callers‚Äô unsafe usage without additional validation.

```
alloc_*
```


```
void *zenith_numa_alloc_onnode(size_t size, int32_t node) { if (!g_numa_initialized) { return nullptr; } if (node < 0 || node >= numa_num_configured_nodes()) { return nullptr; } void *ptr = numa_alloc_onnode(size, node); if (ptr != nullptr) { // Touch the memory to ensure it's actually allocated on the node // (first-touch policy) memset(ptr, 0, size); } return ptr; } void *zenith_numa_alloc_interleaved(size_t size) { if (!g_numa_initialized) { ... (clipped 28 lines)
```

Learn more about managing compliance [generic rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options) or creating your own [custom rules](https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance)
-  Update 
Sorry, something went wrong.

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

### [qodo-code-review](https://github.com/apps/qodo-code-review) bot commented [Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644582030) ‚Ä¢ edited Loading Uh oh! There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[qodo-code-review](https://github.com/apps/qodo-code-review)
[Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644582030)

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

## PR Code Suggestions ‚ú®

Explore these optional code suggestions:
Instead of adding a C++ backend and FFI layer for NUMA operations, consider using a pure Rust crate like numa-rs. This would simplify the build process by removing the need for a C++ toolchain and CMake.

```
numa-rs
```

### Examples:

[zenith-runtime-cpu/build.rs [5-56]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-a289642fcffdcbb7b730d41256f331c80f1b4e44f1cec7470fda45e31f2ce4c9R5-R56)

```
fn main() { // Only build C++ backend if numa_cpp feature is enabled #[cfg(feature = "numa_cpp")] build_numa_backend(); // Re-run if these files change println!("cargo:rerun-if-changed=../ffi-bindings/cpp/numa_backend.cpp"); println!("cargo:rerun-if-changed=../ffi-bindings/zenith_numa.h"); println!("cargo:rerun-if-env-changed=ZENITH_NUMA_CPP"); } ... (clipped 42 lines)
```

[ffi-bindings/cpp/numa_backend.cpp [1-413]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aafR1-R413)

```
/** * Zenith NUMA Backend - C++ Implementation * * Native NUMA memory operations using libnuma for high-performance * ML data loading with optimal memory locality. * * Copyright 2025 Zenith Contributors * SPDX-License-Identifier: Apache-2.0 * * Build with libnuma: ... (clipped 403 lines)
```

### Solution Walkthrough:

#### Before:

```
// zenith-runtime-cpu/build.rs fn main() { #[cfg(feature = "numa_cpp")] build_numa_backend(); // Builds C++ code via cmake/cc } // ffi-bindings/cpp/numa_backend.cpp #include <numa.h> extern "C" { void* zenith_numa_alloc_onnode(size_t size, int32_t node) { return numa_alloc_onnode(size, node); } // ... other FFI functions } // zenith-runtime-cpu/src/numa_ffi.rs extern "C" { pub fn zenith_numa_alloc_onnode(size: usize, node: i32) -> *mut c_void; }
```


#### After:

```
// zenith-runtime-cpu/Cargo.toml [dependencies] numa-rs = "0.1" // Or a similar crate // zenith-runtime-cpu/src/numa.rs (new or renamed module) use numa_rs; pub fn alloc_on_node(size: usize, node: i32) -> Result<*mut u8, NumaError> { // Direct call to the Rust crate's functions numa_rs::allocate_on_node(size, node) .map_err(|_| NumaError::AllocFailed) } // ... other functions implemented using the Rust crate // build.rs is no longer needed for this feature.
```

__
Why: This is a valid, high-impact architectural suggestion that challenges the core approach of the PR. Using a pure-Rust crate would significantly simplify the build process and dependencies, which is a critical aspect of project maintainability, even though it contradicts the PR's stated goal of implementing a C++ backend.
Make the linking of libnuma and pthread in the build script conditional on the CMake build path to prevent build failures when using the fallback.

```
libnuma
```


```
pthread
```

[zenith-runtime-cpu/build.rs [53-55]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-a289642fcffdcbb7b730d41256f331c80f1b4e44f1cec7470fda45e31f2ce4c9R53-R55)

```
- // Link against libnuma and pthread - println!("cargo:rustc-link-lib=numa"); - println!("cargo:rustc-link-lib=pthread"); + // Link against libnuma and pthread if we used cmake + if use_cmake && cpp_dir.join("CMakeLists.txt").exists() { + println!("cargo:rustc-link-lib=numa"); + println!("cargo:rustc-link-lib=pthread"); + }
```

-  Apply / Chat 
__
Why: This suggestion correctly identifies a bug in the build script where unconditional linking would cause build failures in fallback scenarios, and the proposed fix is accurate.
Remove the automatic memset call from zenith_numa_alloc_onnode to avoid performance overhead and give the caller control over memory initialization.

```
memset
```


```
zenith_numa_alloc_onnode
```

[ffi-bindings/cpp/numa_backend.cpp [100-117]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aafR100-R117)

```
void *zenith_numa_alloc_onnode(size_t size, int32_t node) { if (!g_numa_initialized) { return nullptr; } if (node < 0 || node >= numa_num_configured_nodes()) { return nullptr; } - void *ptr = numa_alloc_onnode(size, node); - if (ptr != nullptr) { - // Touch the memory to ensure it's actually allocated on the node - // (first-touch policy) - memset(ptr, 0, size); - } - - return ptr; + // The caller is responsible for touching the memory to enforce page + // allocation on the target node (first-touch policy). + return numa_alloc_onnode(size, node); }
```

-  Apply / Chat 
__
Why: The suggestion correctly points out that automatic memset can be a performance bottleneck and proposes a valid design change to give callers more control, which is suitable for a high-performance library.

```
memset
```

Replace the manual creation of a bitmask in zenith_numa_unbind_thread with the more efficient numa_all_nodes_ptr global from libnuma.

```
zenith_numa_unbind_thread
```


```
numa_all_nodes_ptr
```


```
libnuma
```

[ffi-bindings/cpp/numa_backend.cpp [199-213]](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/files#diff-263989f508ec5c15c12f107fe3800ea35f25a8bbe87226e5c704e63969095aafR199-R213)

```
- // Reset to all nodes - struct bitmask *all_nodes = numa_allocate_nodemask(); - if (all_nodes == nullptr) { - return ZENITH_NUMA_ERR_ALLOC_FAILED; - } - - // Set all bits for all configured nodes - for (int i = 0; i < numa_num_configured_nodes(); i++) { - numa_bitmask_setbit(all_nodes, i); - } - - numa_run_on_node_mask(all_nodes); - numa_free_nodemask(all_nodes); - + // Reset to all nodes by using the pre-computed mask from libnuma + numa_run_on_node_mask(numa_all_nodes_ptr); return ZENITH_NUMA_OK;
```

-  Apply / Chat 
__
Why: The suggestion correctly identifies a more efficient and idiomatic way to unbind a thread using numa_all_nodes_ptr, improving performance and simplifying the code.

### Solution Walkthrough:
```
numa_all_nodes_ptr
```

-  Update 
Sorry, something went wrong.

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

### [vibeswithkk](https://github.com/vibeswithkk) commented [Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644588422)
[vibeswithkk](https://github.com/vibeswithkk)
[Dec 12, 2025](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#issuecomment-3644588422)
I'll re-evaluate it first, as it seems unlikely that someone could submit an issue and then submit a pull request. It's like I'm talking to LLM through an intermediary. I don't mind using LLM, but it would be better to re-evaluate and review it first.
Sorry, something went wrong.

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).
[Viuuvel](https://github.com/Viuuvel)
[December 12, 2025 10:27](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#commits-pushed-6026938)

```
[feat(ffi): Add C++ NUMA backend with libnuma integration](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/60269383cae79975c43fd6a1f1829bb806022ffb)
```

[feat(ffi): Add C++ NUMA backend with libnuma integration](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/60269383cae79975c43fd6a1f1829bb806022ffb)

```
[6026938](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/60269383cae79975c43fd6a1f1829bb806022ffb)
```

[6026938](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/60269383cae79975c43fd6a1f1829bb806022ffb)

```
- Add zenith_numa.h FFI header with 15+ NUMA functions - Add numa_backend.cpp C++ implementation using libnuma - Add CMakeLists.txt for CMake build support - Add build.rs for Rust-C++ integration - Add numa_ffi.rs safe Rust wrapper with NumaAllocator - Add numa_test.cpp Google Test unit tests - Add numa_cpp feature flag to Cargo.toml - Update ffi-bindings/README.md with NUMA docs Implements proposal from issue [vibeswithkk#38](https://github.com/vibeswithkk/Zenith-dataplane/issues/38)
```

[vibeswithkk#38](https://github.com/vibeswithkk/Zenith-dataplane/issues/38)

```
[fix(ffi): Use ZENITH_HAS_LIBNUMA macro for conditional libnuma compil‚Ä¶](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/2f0515a0752c90e21fcb7202a868575a7eb5d61a)
```

[fix(ffi): Use ZENITH_HAS_LIBNUMA macro for conditional libnuma compil‚Ä¶](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/2f0515a0752c90e21fcb7202a868575a7eb5d61a)

```
[2f0515a](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/2f0515a0752c90e21fcb7202a868575a7eb5d61a)
```

[2f0515a](https://github.com/vibeswithkk/Zenith-dataplane/pull/40/commits/2f0515a0752c90e21fcb7202a868575a7eb5d61a)

```
‚Ä¶ation - Changed from __linux__ check to ZENITH_HAS_LIBNUMA macro - By default, uses fallback stubs (IDE-friendly, no errors) - CMake defines ZENITH_HAS_LIBNUMA when libnuma is detected - Allows development on systems without libnuma installed
```

[vibeswithkk](https://github.com/vibeswithkk)
[force-pushed](https://github.com/vibeswithkk/Zenith-dataplane/compare/7772534d519abf7235845d369e66d3a9cb00b271..2f0515a0752c90e21fcb7202a868575a7eb5d61a)
[7772534](https://github.com/vibeswithkk/Zenith-dataplane/commit/7772534d519abf7235845d369e66d3a9cb00b271)

```
7772534
```

[2f0515a](https://github.com/vibeswithkk/Zenith-dataplane/commit/2f0515a0752c90e21fcb7202a868575a7eb5d61a)

```
2f0515a
```

[Compare](https://github.com/vibeswithkk/Zenith-dataplane/compare/7772534d519abf7235845d369e66d3a9cb00b271..2f0515a0752c90e21fcb7202a868575a7eb5d61a)
[December 12, 2025 03:28](https://github.com/vibeswithkk/Zenith-dataplane/pull/40#event-21518805886)
[Sign up for free](https://github.com/join?source=comment-repo)
[Sign in to comment](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fvibeswithkk%2FZenith-dataplane%2Fpull%2F40)

### Labels
[Review effort 3/5](https://github.com/vibeswithkk/Zenith-dataplane/issues?q=state%3Aopen%20label%3A%22Review%20effort%203%2F5%22)

### Development
Successfully merging this pull request may close these issues.
[feat: Add C++ Backends for ONNX Runtime and NUMA Optimizations](https://github.com/vibeswithkk/Zenith-dataplane/issues/38)

### Uh oh!
There was an error while loading. [Please reload this page](https://github.com/vibeswithkk/Zenith-dataplane/pull/40).

### Footer navigation

- 
            [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)

- 
            [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)

- 
            [Security](https://github.com/security)

- 
            [Status](https://www.githubstatus.com/)

- 
            [Community](https://github.community/)

- 
            [Docs](https://docs.github.com/)

- 
            [Contact](https://support.github.com?tags=dotcom-footer)

- 


       Manage cookies



- 


      Do not share my personal information



[Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
[Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
[Security](https://github.com/security)
[Status](https://www.githubstatus.com/)
[Community](https://github.community/)
[Docs](https://docs.github.com/)
[Contact](https://support.github.com?tags=dotcom-footer)