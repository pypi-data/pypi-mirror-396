---
version: v2
inputs:
  - git_repo: https://github.com/a2aproject/A2A.git
    ref: main
    subdir: specification/grpc
managed:
  enabled: true
plugins:
  # Generate python protobuf related code
  # Generates _pb2_slimrpc.py files

  # TODO: this should be downloaded from a released plugin version
  - local: ../../../target/release/protoc-slimrpc-plugin
    out: slima2a/types
    opt:
      - 'types_import=from a2a.grpc import a2a_pb2 as a2a__pb2'

  # Generates *_pb2.py files, one for each .proto
  #- remote: buf.build/protocolbuffers/python:v29.3
  #  out: slima2a/types
  # Generates *_pb2.pyi files.
  #- remote: buf.build/protocolbuffers/pyi:v31.1
  #  out: slima2a/types
