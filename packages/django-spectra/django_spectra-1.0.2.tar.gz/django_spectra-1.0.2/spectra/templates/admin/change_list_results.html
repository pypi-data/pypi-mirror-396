{% load i18n static %}
{% if result_hidden_fields %}
<div class="hiddenfields">{# DIV for HTML validation #}
{% for item in result_hidden_fields %}{{ item }}{% endfor %}
</div>
{% endif %}

{% if results %}
<div class="results">
<table id="result_list" class="table table-hover align-middle text-nowrap mb-0">
<thead class="bg-light-subtle">
<tr>
{% for header in result_headers %}
<th scope="col"{{ header.class_attrib }}>
   {% if header.sortable %}
   <div class="d-flex align-items-center justify-content-between">
       <div class="text">
           <a href="{{ header.url_primary }}" class="text-decoration-none fw-semibold">
               {{ header.text|capfirst }}
               {% if header.sort_priority > 0 %}
                   {% if header.ascending %}
                       <i class="ri-arrow-up-line ms-1"></i>
                   {% else %}
                       <i class="ri-arrow-down-line ms-1"></i>
                   {% endif %}
               {% endif %}
           </a>
       </div>
       {% if header.sort_priority > 0 %}
           <div class="sortoptions">
             {% if num_sorted_fields > 1 %}
                 <span class="badge bg-primary sortpriority" title="{% blocktranslate with priority_number=header.sort_priority %}Sorting priority: {{ priority_number }}{% endblocktranslate %}">{{ header.sort_priority }}</span>
             {% endif %}
           </div>
       {% endif %}
   </div>
   {% elif header.text %}
       <span class="fw-semibold">{{ header.text|capfirst }}</span>
   {% endif %}
</th>
{% endfor %}
</tr>
</thead>
<tbody>
{% for result in results %}
{% if result.form and result.form.non_field_errors %}
    <tr><td colspan="{{ result|length }}" class="bg-danger-subtle text-danger p-3">{{ result.form.non_field_errors }}</td></tr>
{% endif %}
<tr class="table-row">{% for item in result %}{{ item }}{% endfor %}</tr>
{% endfor %}
</tbody>
</table>
</div>
{% endif %}

