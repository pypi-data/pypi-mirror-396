{% load i18n %}
<div class="actions p-3 bg-light-subtle border-bottom">
  {% block actions %}
    <div class="d-flex align-items-center gap-3 flex-wrap">
    {% block actions-form %}
    <div class="d-flex align-items-center gap-2">
        {% for field in action_form %}
            {% if field.label %}
                <label class="form-label mb-0 fw-medium text-dark" for="{{ field.id_for_label }}">{{ field.label }}</label>
            {% endif %}
            {% if field.name == 'action' %}
                <select name="{{ field.name }}" id="{{ field.id_for_label }}" class="form-select form-select-sm" style="min-width: 200px;">
                    {% for value, text in field.field.choices %}
                        <option value="{{ value }}"{% if value == field.value %} selected{% endif %}>{{ text }}</option>
                    {% endfor %}
                </select>
            {% else %}
                {{ field }}
            {% endif %}
        {% endfor %}
        <input type="hidden" name="select_across" value="0" class="select-across">
    </div>
    {% endblock %}
    
    {% block actions-submit %}
    <button type="submit" class="btn btn-primary btn-sm" title="{% translate 'Run the selected action' %}" name="index" value="{{ action_index|default:0 }}">
        <i class="ri-play-circle-line me-1"></i>{% translate "Go" %}
    </button>
    {% endblock %}
    
    {% block actions-counter %}
    {% if actions_selection_counter %}
        <span class="action-counter text-muted small" data-actions-icnt="{{ cl.result_list|length }}">{{ selection_note }}</span>
        {% if cl.result_count != cl.result_list|length %}
        <span class="all d-none">{{ selection_note_all }}</span>
        <span class="question d-none">
            <a role="button" href="#" class="text-primary text-decoration-none small" title="{% translate 'Click here to select the objects across all pages' %}">
                {% blocktranslate with cl.result_count as total_count %}Select all {{ total_count }} {{ module_name }}{% endblocktranslate %}
            </a>
        </span>
        <span class="clear d-none">
            <a role="button" href="#" class="text-danger text-decoration-none small">
                <i class="ri-close-circle-line me-1"></i>{% translate "Clear selection" %}
            </a>
        </span>
        {% endif %}
    {% endif %}
    {% endblock %}
    </div>
  {% endblock %}
</div>
