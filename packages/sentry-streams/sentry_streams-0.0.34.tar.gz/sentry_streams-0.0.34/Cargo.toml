[package]
name = "rust_streams"
version = "0.1.0"
edition = "2021"
readme = "README.md"

[dependencies]
pyo3 = { version = "0.24.0" }
serde = { version = "1.0", features = ["derive"] }
sentry_arroyo = "2.35.0"
chrono = "0.4.40"
tracing = "0.1.40"
tracing-subscriber = "0.3.18"
ctrlc = "3.4.6"
rdkafka = { version = "0.37.0", features = ["cmake-build", "tracing"] }
anyhow = "1.0.98"
reqwest = "0.12.15"
tokio = { version = "1.45.0", features = ["macros", "rt-multi-thread"] }
log = "0.4.27"
serde_json = "1.0.141"
clap = { version = "4.5.45", features = ["derive"], optional = true }
gcp_auth = "0.12.2"
metrics = "0.24.0"
metrics-exporter-statsd = "0.9.0"

[lib]
name = "rust_streams"
crate-type = ["cdylib", "rlib"]

[[bin]]
name = "gcs-upload-test"
path = "src/bin/gcs-upload-test.rs"

[features]
extension-module = ["pyo3/extension-module"]
cli = ["dep:clap", "pyo3/auto-initialize"]

[dev-dependencies]
parking_lot = "0.12.1"
pyo3 = { version = "*", features = ["auto-initialize"] }

[build-dependencies]
pyo3-build-config = "*"
