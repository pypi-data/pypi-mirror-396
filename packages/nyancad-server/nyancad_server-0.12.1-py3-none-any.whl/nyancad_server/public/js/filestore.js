import { $APP, shadow$provide } from "./common.js";
var II=function(a){$APP.yi($APP.J(["Saving notebook to database"]));return $APP.Ri.s(FI,$APP.W,""+$APP.X.g(GI)+$APP.X.g(":")+"notebook.py",new $APP.V(null,2,[$APP.xw,a,HI,(new Date).toISOString()],null))},JI=function(){$APP.yi($APP.J(["Reading notebook from database"]));return $APP.Af($APP.n(FI),new $APP.T(null,2,5,$APP.U,[""+$APP.X.g(GI)+$APP.X.g(":")+"notebook.py",$APP.xw],null))},NI=function(){var a={saveFile:II,readFile:JI};window.__MARIMO_MOUNT_CONFIG__.config.save=$APP.ol(new $APP.V(null,3,
[KI,"after_delay",LI,2E3,MI,!0],null));return window.__MARIMO_MOUNT_CONFIG__.fileStores=$APP.ol(new $APP.T(null,1,5,$APP.U,[a],null))},LI=new $APP.O(null,"autosave_delay","autosave_delay",-540817600),MI=new $APP.O(null,"format_on_save","format_on_save",-218481126),HI=new $APP.O(null,"lastModified","lastModified",-1993155246),KI=new $APP.O(null,"autosave","autosave",-879866416);var OI=new URLSearchParams(window.location.search),PI=$APP.X,QI=PI.g,RI=OI.get("schem"),GI=""+QI.call(PI,$APP.m(RI)?RI:"myschem")+"$notebook",SI=$APP.Nm("schematics"),FI=$APP.an(SI,GI,$APP.Hl($APP.Q));$APP.Zm(SI,$APP.J([FI]));$APP.ja("nyancad.mosaic.filestore.init",NI);NI();