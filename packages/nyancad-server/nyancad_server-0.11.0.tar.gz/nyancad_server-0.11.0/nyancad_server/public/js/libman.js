import { $APP, shadow$provide } from "./common.js";
var bH=function(a,b){return a.query("models/name_search",b)},dH=function(a){var b=bH(cH,{startkey:a,endkey:""+$APP.X.g(a)+"￰",include_docs:!1,limit:10}),c=$APP.Jm(1);$APP.mm(function(){var d=function(){function f(g){var h=g[1];if(h===1){h=$APP.Cg;var l=$APP.Lm(b);g[7]=h;return $APP.Em(g,2,l)}if(h===2)return h=g[2],l=h instanceof $APP.fj,g[8]=h,g[9]=l,g[1]=$APP.m(l)?3:4,$APP.Z;if(h===3)return h=g[8],h=$APP.dj.g($APP.gj(h)),h=$APP.H.h(h,$APP.ej),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[9],g[2]=h,g[1]=
5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[8],h;return h===7?(h=g[8],g[2]=h,g[1]=8,$APP.Z):h===8?(h=g[7],h=$APP.Sm(h,g[2],$APP.Nw),$APP.Hm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}
var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Dm(e)});return c},eH=function(a){var b=cH,c=$APP.Jm(1);$APP.mm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h={selector:$APP.ol(a),limit:10},h=b.find(h),h=$APP.Lm(h),$APP.Em(g,2,h);if(h===2){h=g[2];var l=h instanceof $APP.fj;g[7]=h;g[8]=l;g[1]=
$APP.m(l)?3:4;return $APP.Z}if(h===3)return h=g[7],h=$APP.dj.g($APP.gj(h)),h=$APP.H.h(h,$APP.ej),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[8],g[2]=h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[7],h;return h===7?(h=g[7],g[2]=h,g[1]=8,$APP.Z):h===8?(h=$APP.Rm(g[2].docs),l=$APP.lf.g($APP.Wh($APP.Wm,$APP.Xd)),h=$APP.yf.i($APP.Cg,l,h),$APP.Hm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=
v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Dm(e)});return c},fH=function(a,b,c,d,e){var f=$APP.Hl($APP.n(c)),
g=$APP.Hl($APP.n(c)),h=$APP.ka(e);return function(l,p,q,t,v){$APP.Pe($APP.n(g),$APP.n(q))&&($APP.gf(f,$APP.n(q)),$APP.gf(g,$APP.n(q)));return new $APP.T(null,2,5,$APP.U,[l,$APP.W.j(p,$APP.Nw,function(){var x=$APP.n(f);return t.g?t.g(x):t.call(null,x)}(),$APP.J([$APP.yw,function(x){x=x.target.value;h.h?h.h(q,x):h.call(null,q,x);return v.h?v.h(f,x):v.call(null,f,x)}]))],null)}},gH=function(a,b,c,d,e,f,g){return new $APP.T(null,3,5,$APP.U,[$APP.Uz,new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,$APP.Ok.j($APP.J([new $APP.V(null,
1,[$APP.yl,"combobox-input"],null),a])),b,f,g],null),new $APP.T(null,3,5,$APP.U,[$APP.ax,new $APP.V(null,3,[$APP.yl,"combobox-select",$APP.Nw,$APP.n(c),$APP.yw,function(h){return $APP.gf(c,parseInt(h.target.value))}],null),$APP.Xh($APP.cf(function(h,l){return new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,2,[$APP.Hj,h,$APP.Nw,h],null),f.g?f.g(l):f.call(null,l)],null)},function(){var h=$APP.n(d);return e.g?e.g(h):e.call(null,h)}()))],null)],null)},hH=function(a){return $APP.gf($APP.dv,new $APP.T(null,
5,5,$APP.U,[$APP.Ly,new $APP.V(null,1,[$APP.Dz,function(b){console.log(b);b.preventDefault();b=b.target.elements.valuefield.value;$APP.B(b)&&(a.g?a.g(b):a.call(null,b));return $APP.gf($APP.dv,null)}],null),new $APP.T(null,2,5,$APP.U,[$APP.Qy,"Enter the name of the new schematic"],null),new $APP.T(null,2,5,$APP.U,[$APP.Qy,new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,3,[$APP.Ej,"valuefield",$APP.kA,"text",$APP.gy,!0],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.Qy,new $APP.T(null,3,5,
$APP.U,[$APP.iA,new $APP.V(null,1,[$APP.Ny,function(){return $APP.gf($APP.dv,null)}],null),"Cancel"],null),new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,2,[$APP.kA,"submit",$APP.Nw,"Ok"],null)],null)],null)],null))},iH=function(a,b,c){return $APP.gf($APP.fv,new $APP.V(null,3,[$APP.Tu,a,$APP.Uu,b,$APP.gv,c],null))},nH=function(a,b){var c=function(){var e=$APP.qd(a);return $APP.qB.g?$APP.qB.g(e):$APP.qB.call(null,e)}(),d=$APP.m(c)?a==null?null:$APP.yb(a):a;d=$APP.yf.h($APP.Q,$APP.cf(function(e,
f){return new $APP.T(null,2,5,$APP.U,["category."+$APP.X.g(e),f],null)},d));c=$APP.m(c)?$APP.W.i(d,$APP.kA,c):d;return $APP.B(b)?$APP.W.i(c,$APP.Ej,new $APP.V(null,1,["$regex","(?i)"+$APP.X.g(b)],null)):c},qH=function(a,b){var c=$APP.Jm(1);$APP.mm(function(){var d=function(){function f(g){var h=g[1];if(h===7)return h=nH(b,a),h=eH(h),$APP.Em(g,10,h);if(h===1)return h=$APP.gf(oH,!0),g[7]=h,g[2]=null,g[1]=2,$APP.Z;if(h===4){g[4]=$APP.D(g[4]);h=g[2];var l=$APP.gf(oH,!1),p=g[5];if($APP.m(p))throw p;g[8]=
l;g[2]=h;g[1]=3;return $APP.Z}if(h===15)return h=$APP.Um(cH,"models",10,$APP.Q),$APP.Em(g,18,h);if(h===13)return g[2]=g[2],g[1]=9,$APP.Z;if(h===6){g[4]=$APP.D(g[4]);h=g[2];g[5]=h;if(h instanceof Error)g[1]=5,g[5]=null;else throw h;return $APP.Z}return h===17?(g[2]=g[2],g[1]=13,$APP.Z):h===3?$APP.Hm(g,g[2]):h===12?(g[1]=15,$APP.Z):h===2?(g[4]=$APP.oe(4,g[4]),g[4]=$APP.oe(6,g[4]),h=$APP.B(b),g[1]=h?7:8,$APP.Z):h===11?(h=dH($APP.uj(a)),$APP.Em(g,14,h)):h===9?(h=$APP.gf(pH,g[2]),g[4]=$APP.D(g[4]),g[2]=
h,g[1]=4,$APP.Z):h===5?(l=console.error("Remote search error:",g[2]),h=$APP.gf(pH,$APP.Cg),g[9]=l,g[2]=h,g[1]=4,$APP.Z):h===14?(g[2]=g[2],g[1]=13,$APP.Z):h===16?(g[2]=null,g[1]=17,$APP.Z):h===10?(g[2]=g[2],g[1]=9,$APP.Z):h===18?(g[2]=g[2],g[1]=17,$APP.Z):h===8?(h=$APP.B(a),g[1]=h?11:12,$APP.Z):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,
$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Dm(e)});return c},sH=function(a){var b=cH.replicate.to(rH,{doc_ids:[a],live:!1});b.on("complete",function(){return console.log("Model replicated:",a)});
return b.on("error",function(c){return console.error("Replication error:",c)})},vH=function(){var a=$APP.n(tH),b=$APP.n(uH);a=nH(a,b);b=cH.replicate.to(rH,{selector:$APP.ol(a),live:!1});$APP.yi($APP.J([a]));b.on("complete",function(){return console.log("Filtered models replicated")});return b.on("error",function(c){return console.error("Replication error:",c)})},wH=function(a){var b=new URL("..",window.location);b.searchParams.append("schem",$APP.Xu(a));return b},xH=function(a){a=$APP.Oe(a);a=$APP.M(a,
$APP.gz);var b=$APP.Ru(a).transformPoint($APP.Vu(1,0));a=b.x;b=b.y;return Math.abs(a)>Math.abs(b)?a<0?$APP.bu:$APP.kv:b<0?$APP.uy:$APP.jv},yH=function(a,b){var c=$APP.Jm(1);$APP.mm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h=$APP.Um(rH,$APP.Xu(a),null,$APP.Q),$APP.Em(g,2,h);if(h===2){var l=g[2];h=$APP.tf(function(){return function(v){return $APP.H.h($APP.kA.g(v),"port")}}());var p=$APP.tf($APP.$e(function(){return function(v){return $APP.H.h($APP.mw.g(v),"text")}}())),q=
$APP.lf.g($APP.Wh(xH,$APP.Ej)),t=$APP.xv.i(h,p,q);h=$APP.Ri.s(b,$APP.zv,$APP.mx,function(){return function(){return $APP.Yd(t,function(v,x){var z=$APP.K(x,0,null);x=$APP.K(x,1,null);return $APP.zv.s(v,z,$APP.le,x)},new $APP.V(null,4,[$APP.jv,$APP.wf,$APP.uy,$APP.wf,$APP.kv,$APP.wf,$APP.bu,$APP.wf],null),$APP.yh(l))}}());return $APP.Hm(g,h)}return null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.P(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.B(p[4]))p[1]=
$APP.C(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.P(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null];p[0]=l;p[1]=1;return p}var l=null;l=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};l.m=h;l.g=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Dm(e)});return c},zH=function(a){return $APP.gf($APP.dv,new $APP.T(null,5,5,$APP.U,[$APP.Ly,new $APP.V(null,
1,[$APP.Dz,function(b){b.preventDefault();var c=b.target.elements.devicetype.value;b=b.target.elements.modelname.value;$APP.B(b)&&$APP.Gd($APP.qB,c)&&(a.h?a.h(c,b):a.call(null,c,b));return $APP.gf($APP.dv,null)}],null),new $APP.T(null,2,5,$APP.U,[$APP.Qy,"Enter the type and name of the new SPICE model"],null),new $APP.T(null,3,5,$APP.U,[$APP.Qy,new $APP.T(null,3,5,$APP.U,[$APP.ax,new $APP.V(null,3,[$APP.Ej,"devicetype",$APP.Al,"device-type",$APP.dw,"diode"],null),function(){return function d(c){return new $APP.se(null,
function(){for(;;){var e=$APP.B(c);if(e){if($APP.zd(e)){var f=$APP.gc(e),g=$APP.G(f),h=$APP.ve(g);a:{for(var l=0;;)if(l<g){var p=$APP.hd(f,l);h.add(new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,2,[$APP.Hj,p,$APP.Nw,p],null),p],null));l+=1}else{f=!0;break a}f=void 0}return f?$APP.Be($APP.De(h),d($APP.hc(e))):$APP.Be($APP.De(h),null)}h=$APP.C(e);return $APP.oe(new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,2,[$APP.Hj,h,$APP.Nw,h],null),h],null),d($APP.D(e)))}return null}},null,null)}($APP.Md($APP.Id,
$APP.qB))}()],null),new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,5,[$APP.Ej,"modelname",$APP.Al,"model-name",$APP.kA,"text",$APP.gy,!0,$APP.Lz,"Model name"],null)],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.Qy,new $APP.T(null,3,5,$APP.U,[$APP.iA,new $APP.V(null,2,[$APP.kA,"button",$APP.Ny,function(){return $APP.gf($APP.dv,null)}],null),"Cancel"],null),new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,2,[$APP.kA,"submit",$APP.Nw,"Create"],null)],null)],null)],null))},CH=function(a,b,c){a.preventDefault();
var d=$APP.M($APP.n(b),c);return iH(a.clientX,a.clientY,new $APP.T(null,3,5,$APP.U,[AH,$APP.Ha($APP.Az.g(d))?new $APP.T(null,3,5,$APP.U,[BH,new $APP.V(null,1,[$APP.Ny,function(){return window.open(wH(c),c)}],null),"edit"],null):null,new $APP.T(null,3,5,$APP.U,[BH,new $APP.V(null,1,[$APP.Ny,function(){return $APP.Ri.i(b,$APP.ck,c)}],null),"delete"],null)],null))},DH=function(a,b){return $APP.H.h($APP.bg(a,0,$APP.Jp.h($APP.G(a),$APP.G(b))),b)},FH=function(){var a=$APP.n(EH);return $APP.Ua(function(b,
c){$APP.K(c,0,null);c=$APP.K(c,1,null);var d=$APP.Ty.g(c);d=$APP.m(d)?d:$APP.wf;c=$APP.kA.h(c,"ckt");return $APP.yv(b,$APP.le.h(d,c),$APP.Eh)},$APP.Q,a)},JH=function(){return new $APP.T(null,2,5,$APP.U,[GH,$APP.B($APP.n(EH))?new $APP.T(null,3,5,$APP.U,[HH,$APP.wf,FH()],null):new $APP.T(null,2,5,$APP.U,[IH,"There aren't any models yet"],null)],null)},VH=function(a){var b=$APP.uf(function(c){var d=$APP.K(c,0,null),e=$APP.K(c,1,null);c=$APP.le.h;var f=$APP.Ty.g(e);c=c.call($APP.le,$APP.m(f)?f:$APP.wf,
$APP.kA.h(e,"ckt"));d=$APP.jd(e,$APP.Ej,d);d=$APP.uj(d);e=$APP.uj($APP.n(uH));d=d.indexOf(e)!=-1;return DH(c,$APP.n(tH))&&d},$APP.n(a));return new $APP.T(null,3,5,$APP.U,[KH,new $APP.T(null,3,5,$APP.U,[LH,new $APP.T(null,2,5,$APP.U,[MH,"Installed"],null),$APP.B(b)?new $APP.T(null,5,5,$APP.U,[$APP.kC,NH,$APP.Xh(function(){return function e(d){return new $APP.se(null,function(){for(;;){var f=$APP.B(d);if(f){if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);a:{for(var p=0;;)if(p<h){var q=$APP.hd(g,
p),t=$APP.K(q,0,null),v=$APP.K(q,1,null),x=$APP.Ha($APP.Az.g(v))?$APP.cC:$APP.bC;q=l;t=new $APP.T(null,3,5,$APP.U,[new $APP.T(null,4,5,$APP.U,[$APP.gA,new $APP.T(null,1,5,$APP.U,[x],null)," ",$APP.jd(v,$APP.Ej,t)],null),t,$APP.jd(v,$APP.Ej,t)],null);q.add(t);p+=1}else{g=!0;break a}g=void 0}return g?$APP.Be($APP.De(l),e($APP.hc(f))):$APP.Be($APP.De(l),null)}g=$APP.C(f);l=$APP.K(g,0,null);g=$APP.K(g,1,null);h=$APP.Ha($APP.Az.g(g))?$APP.cC:$APP.bC;return $APP.oe(new $APP.T(null,3,5,$APP.U,[new $APP.T(null,
4,5,$APP.U,[$APP.gA,new $APP.T(null,1,5,$APP.U,[h],null)," ",$APP.jd(g,$APP.Ej,l)],null),l,$APP.jd(g,$APP.Ej,l)],null),e($APP.D(f)))}return null}},null,null)}(b)}()),function(c){return $APP.Ha($APP.Af($APP.n(a),new $APP.T(null,2,5,$APP.U,[c,$APP.Az],null)))?function(){return window.open(wH(c))}:null},function(c){return function(d){return CH(d,a,c)}}],null):new $APP.T(null,2,5,$APP.U,[IH,"No installed models found"],null)],null),new $APP.T(null,3,5,$APP.U,[OH,new $APP.T(null,3,5,$APP.U,[PH,new $APP.T(null,
2,5,$APP.U,[MH,"Available"],null),$APP.B($APP.n(pH))?new $APP.T(null,4,5,$APP.U,[QH,new $APP.V(null,2,[$APP.Ny,function(){return vH()},$APP.tw,"Download all matching models"],null),new $APP.T(null,1,5,$APP.U,[$APP.eC],null),"Download All"],null):null],null),$APP.m($APP.n(oH))?new $APP.T(null,2,5,$APP.U,[RH,"Loading..."],null):$APP.B($APP.n(pH))?new $APP.T(null,2,5,$APP.U,[SH,$APP.Xh(function(){return function e(d){return new $APP.se(null,function(){for(;;){var f=$APP.B(d);if(f){var g=f;if($APP.zd(g)){var h=
$APP.gc(g),l=$APP.G(h),p=$APP.ve(l);return function(){for(var A=0;;)if(A<l){var F=$APP.hd(h,A),I=$APP.K(F,0,null),N=$APP.K(F,1,null),R=$APP.Ha($APP.Az.g(N)),Y=R?$APP.cC:$APP.bC;$APP.Ce(p,new $APP.T(null,6,5,$APP.U,[TH,new $APP.V(null,1,[$APP.Hj,I],null),new $APP.T(null,1,5,$APP.U,[Y],null)," ",$APP.jd(N,$APP.Ej,I),new $APP.T(null,3,5,$APP.U,[UH,new $APP.V(null,2,[$APP.Ny,function(la,qa,La,Za,Ba){return function(){return sH(Ba)}}(A,R,Y,F,I,N,h,l,p,g,f,b),$APP.tw,"Download this model"],null),new $APP.T(null,
1,5,$APP.U,[$APP.eC],null)],null)],null));A+=1}else return!0}()?$APP.Be($APP.De(p),e($APP.hc(g))):$APP.Be($APP.De(p),null)}var q=$APP.C(g),t=$APP.K(q,0,null),v=$APP.K(q,1,null),x=$APP.Ha($APP.Az.g(v)),z=x?$APP.cC:$APP.bC;return $APP.oe(new $APP.T(null,6,5,$APP.U,[TH,new $APP.V(null,1,[$APP.Hj,t],null),new $APP.T(null,1,5,$APP.U,[z],null)," ",$APP.jd(v,$APP.Ej,t),new $APP.T(null,3,5,$APP.U,[UH,new $APP.V(null,2,[$APP.Ny,function(A,F,I,N){return function(){return sH(N)}}(x,z,q,t,v,g,f,b),$APP.tw,"Download this model"],
null),new $APP.T(null,1,5,$APP.U,[$APP.eC],null)],null)],null),e($APP.D(g)))}return null}},null,null)}($APP.n(pH))}())],null):new $APP.T(null,2,5,$APP.U,[IH,"No remote models found"],null)],null)],null)},WH=function(a,b){var c=new $APP.T(null,2,5,$APP.U,[$APP.mx,b],null);return new $APP.T(null,3,5,$APP.U,[$APP.fA,new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,1,[$APP.Py,$APP.Kh(b)],null),$APP.Kh(b)],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,2,[$APP.Al,$APP.Kh(b),$APP.kA,"text"],
null),a,function(d){return $APP.sj(" ",$APP.Af(d,c))},function(d,e){return $APP.Ri.s(d,$APP.yv,c,$APP.xj(e,/[, ]+/,-1))}],null)],null)},XH=function(a){return new $APP.T(null,4,5,$APP.U,[$APP.fA,new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,1,[$APP.Py,"parameters"],null),"Names"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,3,[$APP.Al,"parameters",$APP.kA,"text",$APP.Lz,"resistance dtemp"],null),a,function(b){return $APP.sj(" ",$APP.lf.h($APP.Ej,$APP.jd(b,$APP.Yw,$APP.wf)))},
function(b,c){var d=$APP.xj(c,/[, ]+/,-1);return $APP.Ri.s(b,$APP.zv,$APP.Yw,function(e){return $APP.zf(function(f,g){return $APP.W.i(f,$APP.Ej,g)},$APP.rf.h(e,$APP.of($APP.Q)),d)})}],null),$APP.Xh(function(){return function d(c){return new $APP.se(null,function(){for(;;){var e=$APP.B(c);if(e){var f=e;if($APP.zd(f)){var g=$APP.gc(f),h=$APP.G(g),l=$APP.ve(h);return function(){for(var v=0;;)if(v<h){var x=$APP.hd(g,v),z=$APP.K(x,0,null),A=$APP.K(x,1,null);$APP.Ce(l,new $APP.T(null,4,5,$APP.U,[$APP.fA,
new $APP.V(null,1,[$APP.Hj,z],null),new $APP.T(null,2,5,$APP.U,[$APP.px,""+$APP.X.g($APP.Ej.h(A,""))+" tooltip"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,1,[$APP.kA,"text"],null),a,function(F,I,N){return function(R){return $APP.Bf(R,new $APP.T(null,3,5,$APP.U,[$APP.Yw,N,$APP.Zz],null),"")}}(v,x,z,A,g,h,l,f,e),function(F,I,N){return function(R,Y){return $APP.Ri.s(R,$APP.yv,new $APP.T(null,3,5,$APP.U,[$APP.Yw,N,$APP.Zz],null),Y)}}(v,x,z,A,g,h,l,f,e)],null)],null));v+=1}else return!0}()?
$APP.Be($APP.De(l),d($APP.hc(f))):$APP.Be($APP.De(l),null)}var p=$APP.C(f),q=$APP.K(p,0,null),t=$APP.K(p,1,null);return $APP.oe(new $APP.T(null,4,5,$APP.U,[$APP.fA,new $APP.V(null,1,[$APP.Hj,q],null),new $APP.T(null,2,5,$APP.U,[$APP.px,""+$APP.X.g($APP.Ej.h(t,""))+" tooltip"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,1,[$APP.kA,"text"],null),a,function(v,x){return function(z){return $APP.Bf(z,new $APP.T(null,3,5,$APP.U,[$APP.Yw,x,$APP.Zz],null),"")}}(p,q,t,f,e),function(v,x){return function(z,
A){return $APP.Ri.s(z,$APP.yv,new $APP.T(null,3,5,$APP.U,[$APP.Yw,x,$APP.Zz],null),A)}}(p,q,t,f,e)],null)],null),d($APP.D(f)))}return null}},null,null)}($APP.cf($APP.zk,$APP.jd($APP.n(a),$APP.Yw,$APP.wf)))}())],null)},cI=function(a){var b=$APP.Jl(a,new $APP.T(null,1,5,$APP.U,[$APP.n(NH)],null));a=$APP.Jl(YH,new $APP.T(null,1,5,$APP.U,[$APP.n(NH)],null));var c=$APP.Jl(a,new $APP.T(null,1,5,$APP.U,[ZH],null)),d=$APP.Jl(a,new $APP.T(null,1,5,$APP.U,[$H],null)),e=$APP.Jl(b,new $APP.T(null,2,5,$APP.U,
[$APP.Az,$APP.n(c)],null)),f=$APP.Jl(e,new $APP.T(null,1,5,$APP.U,[$APP.n(d)],null));$APP.B($APP.n(a))||$APP.gf(a,new $APP.V(null,2,[ZH,$APP.Hx,$H,0],null));return $APP.m($APP.n(NH))?new $APP.T(null,9,5,$APP.U,[$APP.Wv,new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,1,[$APP.Py,"model-name"],null),"Name"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,1,[$APP.Al,"model-name"],null),b,$APP.Ej,function(g,h){return $APP.Ri.s(g,$APP.W,$APP.Ej,h)}],null),new $APP.T(null,3,5,$APP.U,[$APP.px,
new $APP.V(null,2,[$APP.Py,"categories",$APP.tw,"Comma-seperated device categories"],null),"Categories"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,1,[$APP.Al,"categories"],null),b,function(g){g=$APP.Ty.g(g);return $APP.sj(" ",$APP.m(g)?g:$APP.wf)},function(g,h){return $APP.Ri.s(g,$APP.W,$APP.Ty,$APP.xj(h,/[, ]+/,-1))}],null),$APP.H.h($APP.kA.h($APP.n(b),"ckt"),"ckt")?new $APP.T(null,7,5,$APP.U,[$APP.fA,new $APP.T(null,2,5,$APP.U,[aI,"Port Configuration"],null),$APP.Ha($APP.Az.g($APP.n(b)))?
new $APP.T(null,3,5,$APP.U,[$APP.iA,new $APP.V(null,1,[$APP.Ny,function(){return yH($APP.n(NH),b)}],null),"Import from schematic"],null):null,new $APP.T(null,3,5,$APP.U,[WH,b,$APP.jv],null),new $APP.T(null,3,5,$APP.U,[WH,b,$APP.uy],null),new $APP.T(null,3,5,$APP.U,[WH,b,$APP.kv],null),new $APP.T(null,3,5,$APP.U,[WH,b,$APP.bu],null)],null):null,$APP.m($APP.Az.g($APP.n(b)))?new $APP.T(null,11,5,$APP.U,[$APP.fA,new $APP.T(null,2,5,$APP.U,[aI,"Template Configuration"],null),new $APP.T(null,3,5,$APP.U,
[$APP.px,new $APP.V(null,2,[$APP.Py,"device-type",$APP.tw,"Device type"],null),"Device Type"],null),new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,4,[$APP.Al,"device-type",$APP.kA,"text",$APP.yx,!0,$APP.Nw,$APP.kA.g($APP.n(b))],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,1,[$APP.Py,"language"],null),"Language"],null),new $APP.T(null,6,5,$APP.U,[$APP.ax,new $APP.V(null,4,[$APP.Al,"language",$APP.kA,"text",$APP.Nw,function(){var g=$APP.n(c);return $APP.m(g)?$APP.Kh(g):"spice"}(),
$APP.yw,function(g){return $APP.gf(c,$APP.ni.g(g.target.value))}],null),new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,1,[$APP.Nw,"spice"],null),"Spice"],null),new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,1,[$APP.Nw,"spectre"],null),"Spectre"],null),new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,1,[$APP.Nw,"verilog"],null),"Verilog"],null),new $APP.T(null,3,5,$APP.U,[$APP.Ay,new $APP.V(null,1,[$APP.Nw,"vhdl"],null),"VHDL"],null)],null),new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,
1,[$APP.Py,"implementation"],null),"Implementation"],null),new $APP.T(null,8,5,$APP.U,[gH,new $APP.V(null,1,[$APP.Al,"implementation"],null),f,d,e,function(g){return $APP.le.h($APP.B(g)?g:new $APP.T(null,1,5,$APP.U,[new $APP.V(null,1,[$APP.Ej,"default"],null)],null),new $APP.V(null,1,[$APP.Ej,"\x3cnew\x3e"],null))},function(g){return $APP.Ej.h(g,"default")},function(g,h){return $APP.Ri.s(g,$APP.W,$APP.Ej,h)}],null),new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,1,[$APP.Py,"template-code"],null),
"Code"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Wy,new $APP.V(null,2,[$APP.Al,"template-code",bI,8],null),f,$APP.jz,function(g,h){return $APP.Ri.s(g,$APP.W,$APP.jz,h)}],null),$APP.H.h($APP.n(c),$APP.Hx)?new $APP.T(null,3,5,$APP.U,[$APP.fA,new $APP.T(null,3,5,$APP.U,[$APP.px,new $APP.V(null,2,[$APP.Py,"use-x",$APP.tw,"Forces subcircuit instantiation even for other device types"],null),"Use X"],null),new $APP.T(null,2,5,$APP.U,[$APP.Px,new $APP.V(null,4,[$APP.kA,"checkbox",$APP.Al,"use-x",$APP.dA,
$APP.jd($APP.n(f),$APP.ky,!1),$APP.yw,function(g){return $APP.Ri.s(f,$APP.W,$APP.ky,g.target.checked)}],null)],null)],null):null],null):null,new $APP.T(null,2,5,$APP.U,[aI,"Parameters"],null),new $APP.T(null,2,5,$APP.U,[XH,b],null)],null):new $APP.T(null,2,5,$APP.U,[IH,"Select a model to edit its properties."],null)},gI=function(a){a=$APP.Jl(a,new $APP.T(null,1,5,$APP.U,[$APP.n(NH)],null));return new $APP.T(null,2,5,$APP.U,[dI,$APP.m($APP.n(NH))?$APP.Ha($APP.Az.g($APP.n(a)))?new $APP.T(null,3,5,$APP.U,
[$APP.fA,new $APP.T(null,4,5,$APP.U,[$APP.ww,new $APP.V(null,2,[$APP.Ny,function(){return window.open(wH($APP.n(NH)),$APP.n(NH))},$APP.tw,"Edit"],null),new $APP.T(null,1,5,$APP.U,[$APP.jC],null)," Edit"],null),$APP.m($APP.n(eI))?new $APP.T(null,3,5,$APP.U,[fI,new $APP.V(null,2,[$APP.gw,$APP.n(eI),$APP.kA,"image/svg+xml"],null),"Schematic preview"],null):new $APP.T(null,2,5,$APP.U,[IH,"No preview available. Use the snapshot button in the schematic editor to create one."],null)],null):new $APP.T(null,
2,5,$APP.U,[IH,"N/A"],null):new $APP.T(null,2,5,$APP.U,[IH,"Select a model to preview."],null)],null)},rI=function(){var a=$APP.m($APP.n(hI))?$APP.Sf($APP.Jh($APP.n(tH))):$APP.n(tH);return new $APP.T(null,3,5,$APP.U,[$APP.fA,new $APP.T(null,4,5,$APP.U,[iI,new $APP.T(null,3,5,$APP.U,[jI,new $APP.T(null,4,5,$APP.U,[$APP.ww,new $APP.V(null,1,[$APP.Ny,function(){return hH(function(b){var c="models:"+$APP.X.g(""+$APP.X.g($APP.cj()));return $APP.Ri.s(EH,$APP.W,c,new $APP.V(null,3,[$APP.Ej,b,$APP.kA,"ckt",
$APP.Ty,a],null))})}],null),new $APP.T(null,1,5,$APP.U,[$APP.dC],null),"Add schematic"],null),new $APP.T(null,4,5,$APP.U,[$APP.iA,new $APP.V(null,1,[$APP.Ny,function(){return zH(function(b,c){var d="models:"+$APP.X.g(""+$APP.X.g($APP.cj()));return $APP.Ri.s(EH,$APP.W,d,new $APP.V(null,4,[$APP.Ej,c,$APP.kA,b,$APP.Ty,a,$APP.Az,new $APP.V(null,4,[$APP.Hx,$APP.wf,kI,$APP.wf,lI,$APP.wf,mI,$APP.wf],null)],null))})}],null),new $APP.T(null,1,5,$APP.U,[$APP.dC],null),"Add SPICE model"],null)],null),new $APP.T(null,
3,5,$APP.U,[nI,new $APP.T(null,3,5,$APP.U,[oI,"Models: ",$APP.B($APP.n(tH))?$APP.sj("/",$APP.n(tH)):"All models"],null),new $APP.T(null,6,5,$APP.U,[fH,$APP.Px,new $APP.V(null,3,[$APP.kA,"text",$APP.Lz,"Filter models...",$APP.yl,"filter-input"],null),uH,$APP.Xd,$APP.gf],null)],null),new $APP.T(null,2,5,$APP.U,[VH,EH],null)],null),new $APP.T(null,4,5,$APP.U,[pI,new $APP.T(null,2,5,$APP.U,[gI,EH],null),new $APP.T(null,2,5,$APP.U,[qI,"Model Properties"],null),new $APP.T(null,2,5,$APP.U,[cI,EH],null)],
null)],null)},vI=function(){return new $APP.T(null,5,5,$APP.U,[$APP.fA,new $APP.T(null,3,5,$APP.U,[sI,new $APP.T(null,3,5,$APP.U,[tI,new $APP.T(null,2,5,$APP.U,[$APP.qy,"Libraries"],null),$APP.m($APP.n(uI))?new $APP.T(null,3,5,$APP.U,[$APP.Ow,new $APP.V(null,1,[$APP.tw,"saving changes"],null),new $APP.T(null,1,5,$APP.U,[$APP.fC],null)],null):new $APP.T(null,3,5,$APP.U,[$APP.Zy,new $APP.V(null,1,[$APP.tw,"changes saved"],null),new $APP.T(null,1,5,$APP.U,[$APP.gC],null)],null)],null),new $APP.T(null,
1,5,$APP.U,[JH],null)],null),new $APP.T(null,1,5,$APP.U,[rI],null),new $APP.T(null,1,5,$APP.U,[$APP.lv],null),new $APP.T(null,1,5,$APP.U,[$APP.ev],null)],null)},wI=function(){window.name="libman";document.onclick=function(){return $APP.Ri.s($APP.fv,$APP.W,$APP.gv,null)};return $APP.Ol(new $APP.T(null,1,5,$APP.U,[vI],null),document.querySelector(".mosaic-app.mosaic-libman"))},iI=new $APP.O(null,"div.schsel","div.schsel",-1209283060),GH=new $APP.O(null,"div.cellsel","div.cellsel",-277762551),fI=new $APP.O(null,
"object","object",1474613949),UH=new $APP.O(null,"button.download-btn","button.download-btn",393799271),nI=new $APP.O(null,"div.models-header","div.models-header",663084968),jI=new $APP.O(null,"div.addbuttons","div.addbuttons",-579122699),PH=new $APP.O(null,"div.section-header-with-button","div.section-header-with-button",-1496927002),ZH=new $APP.O(null,"lang","lang",-1819677104),bI=new $APP.O(null,"rows","rows",850049680),QH=new $APP.O(null,"button.download-btn.all","button.download-btn.all",1621055522),
$H=new $APP.O(null,"impl","impl",1677848700),xI=new $APP.O(null,"on-toggle","on-toggle",-695538774),MH=new $APP.O(null,"h4.section-header","h4.section-header",-1932630550),SH=new $APP.O(null,"div.remote-models","div.remote-models",1057366884),qI=new $APP.O(null,"h3","h3",2067611163),oI=new $APP.O(null,"h2","h2",-372662728),aI=new $APP.O(null,"h4","h4",2004862993),LH=new $APP.O(null,"div.installed-section","div.installed-section",1048260336),pI=new $APP.O(null,"div.proppane","div.proppane",-1332639267),
yI=new $APP.O("nyancad.mosaic.libman","preview-loader","nyancad.mosaic.libman/preview-loader",-817072560),OH=new $APP.O(null,"div.available-section","div.available-section",845121981),KH=new $APP.O(null,"div.schematics","div.schematics",908542795),IH=new $APP.O(null,"div.empty","div.empty",47401225),lI=new $APP.O(null,"verilog","verilog",-637374307),BH=new $APP.O(null,"li","li",723558921),zI=new $APP.O("nyancad.mosaic.libman","remote-search","nyancad.mosaic.libman/remote-search",962545358),dI=new $APP.O(null,
"div.preview","div.preview",-1882273840),AH=new $APP.O(null,"ul","ul",-1349521403),AI=new $APP.O(null,"preview.svg","preview.svg",367345699),BI=new $APP.O(null,"open","open",-1763596448),CI=new $APP.O(null,"div.detailbody","div.detailbody",-1679946259),kI=new $APP.O(null,"spectre","spectre",-2121928684),DI=new $APP.O(null,"details.tree","details.tree",-1643409151),mI=new $APP.O(null,"vhdl","vhdl",2122312874),tI=new $APP.O(null,"div.libhead","div.libhead",1365032704),sI=new $APP.O(null,"div.libraries",
"div.libraries",704668226),RH=new $APP.O(null,"div.loading-spinner","div.loading-spinner",404753947),EI=new $APP.O("nyancad.mosaic.libman","remote-search-category","nyancad.mosaic.libman/remote-search-category",-216653617),TH=new $APP.O(null,"label.remote-model","label.remote-model",2141806916);var rH=$APP.Nm("schematics"),cH=$APP.Nm(""+$APP.X.g("https://api.nyancad.com/")+"models"),EH=$APP.an(rH,"models",$APP.Hl($APP.Q));$APP.hf(EH.cache,function(a){var b=$APP.Un($APP.Mx,a);return b?b:console.log($APP.Hi.j($APP.J([a])),$APP.Qn($APP.Mx,a))});$APP.Zm(rH,$APP.J([EH]));
var tH=$APP.Hl($APP.wf),NH=$APP.Hl(null),uI=$APP.Hl(!1),uH=$APP.Hl(""),YH=$APP.Hl($APP.Q),eI=$APP.Hl(null),pH=$APP.Hl($APP.Q),oH=$APP.Hl(!1),hI=$APP.Il(function(){var a=$APP.qd($APP.n(tH));return $APP.qB.g?$APP.qB.g(a):$APP.qB.call(null,a)});
$APP.Di(NH,yI,function(a,b,c,d){if($APP.m(d)){var e=$APP.Jm(1);$APP.mm(function(){var f=function(){function h(l){var p=l[1];if(p===7)return p=l[7],l[2]=p,l[1]=8,$APP.Z;if(p===1){var q=""+$APP.X.g($APP.Xu(d))+"$snapshots";p=""+$APP.X.g(q)+$APP.X.g(":");q=""+$APP.X.g(q)+$APP.X.g(":")+"￰";p=$APP.Om(rH,{include_docs:!0,attachments:!0,binary:!0,endkey:p,startkey:q,descending:!0,limit:1});p=$APP.Lm(p);return $APP.Em(l,2,p)}if(p===4)return l[2]=l[8],l[1]=5,$APP.Z;if(p===6)throw p=l[7],p;return p===3?(p=
l[7],p=$APP.dj.g($APP.gj(p)),p=$APP.H.h(p,$APP.ej),l[2]=p,l[1]=5,$APP.Z):p===2?(p=l[2],q=p instanceof $APP.fj,l[7]=p,l[8]=q,l[1]=$APP.m(q)?3:4,$APP.Z):p===11?$APP.Hm(l,l[2]):p===9?(p=URL.createObjectURL(l[9]),p=$APP.gf(eI,p),l[2]=p,l[1]=11,$APP.Z):p===5?(l[1]=$APP.m(l[2])?6:7,$APP.Z):p===10?(p=$APP.gf(eI,null),l[2]=p,l[1]=11,$APP.Z):p===8?(p=$APP.Rm(l[2].rows),p=$APP.Af(p,new $APP.T(null,5,5,$APP.U,[0,$APP.Tm,$APP.Uw,AI,$APP.gw],null)),l[9]=p,l[1]=$APP.m(p)?9:10,$APP.Z):null}return function(){function l(t){for(;;){a:{try{for(;;){var v=
h(t);if(!$APP.P(v,$APP.Z)){var x=v;break a}}}catch(z){x=z;t[2]=x;if($APP.B(t[4]))t[1]=$APP.C(t[4]);else throw x;x=$APP.Z;break a}x=void 0}if(!$APP.P(x,$APP.Z))return x}}function p(){var t=[null,null,null,null,null,null,null,null,null,null];t[0]=q;t[1]=1;return t}var q=null;q=function(t){switch(arguments.length){case 0:return p.call(this);case 1:return l.call(this,t)}throw Error("Invalid arity: "+arguments.length);};q.m=p;q.g=l;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Dm(g)});
return e}return $APP.gf(eI,null)});$APP.Di(uH,zI,function(a,b,c,d){return qH(d,$APP.n(tH))});$APP.Di(tH,EI,function(a,b,c,d){return qH($APP.n(uH),d)});qH($APP.n(uH),$APP.n(tH));
var HH=function HH(a,b){return new $APP.T(null,2,5,$APP.U,[$APP.fA,$APP.Xh(function(){return function f(e){return new $APP.se(null,function(){for(;;){var g=$APP.B(e);if(g){var h=g;if($APP.zd(h)){var l=$APP.gc(h),p=$APP.G(l),q=$APP.ve(p);return function(){for(var A=0;;)if(A<p){var F=$APP.hd(l,A),I=$APP.K(F,0,null),N=$APP.K(F,1,null),R=$APP.le.h(a,I);$APP.Ce(q,new $APP.T(null,4,5,$APP.U,[DI,new $APP.V(null,4,[$APP.Hj,R,$APP.yl,R,BI,DH($APP.n(tH),R),xI,function(Y,la){return function(qa){qa.stopPropagation();
return $APP.m(qa.target.open)?$APP.gf(tH,la):DH($APP.n(tH),la)?$APP.gf(tH,la==null?null:$APP.yb(la)):null}}(A,R,F,I,N,l,p,q,h,g)],null),new $APP.T(null,2,5,$APP.U,[$APP.yy,I],null),$APP.B(N)?new $APP.T(null,2,5,$APP.U,[CI,new $APP.T(null,3,5,$APP.U,[HH,R,N],null)],null):null],null));A+=1}else return!0}()?$APP.Be($APP.De(q),f($APP.hc(h))):$APP.Be($APP.De(q),null)}var t=$APP.C(h),v=$APP.K(t,0,null),x=$APP.K(t,1,null),z=$APP.le.h(a,v);return $APP.oe(new $APP.T(null,4,5,$APP.U,[DI,new $APP.V(null,4,[$APP.Hj,
z,$APP.yl,z,BI,DH($APP.n(tH),z),xI,function(A){return function(F){F.stopPropagation();return $APP.m(F.target.open)?$APP.gf(tH,A):DH($APP.n(tH),A)?$APP.gf(tH,A==null?null:$APP.yb(A)):null}}(z,t,v,x,h,g)],null),new $APP.T(null,2,5,$APP.U,[$APP.yy,v],null),$APP.B(x)?new $APP.T(null,2,5,$APP.U,[CI,new $APP.T(null,3,5,$APP.U,[HH,z,x],null)],null):null],null),f($APP.D(h)))}return null}},null,null)}(b)}())],null)};$APP.ja("nyancad.mosaic.libman.init",wI);wI();