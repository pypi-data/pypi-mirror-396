# ✅ 项目设置检查清单

> 按顺序检查每一项，确保项目能正常运行

---

## 📋 环境检查

### ☑️ Python 环境

```bash
# 运行这个命令
python --version
```

- [ ] 能看到版本号（如 `Python 3.10.11`）
- [ ] 版本号 >= 3.10
- [ ] 如果失败，尝试 `python3 --version`

---

### ☑️ pip 工具

```bash
# 运行这个命令
pip --version
```

- [ ] 能看到版本号（如 `pip 23.2.1`）
- [ ] 如果失败，尝试 `pip3 --version`

---

## 📦 项目安装

### ☑️ 虚拟环境

```bash
# 检查是否有 venv 文件夹
dir venv
```

- [ ] 项目目录中有 `venv` 文件夹
- [ ] 如果没有，运行 `python -m venv venv`

---

### ☑️ 虚拟环境激活

```bash
# Windows
venv\Scripts\activate
```

**检查点：**
- [ ] 命令提示符前面出现 `(venv)`
- [ ] 例如：`(venv) D:\work\my-project\douyin_to_notion>`

---

### ☑️ 依赖安装

```bash
# 激活虚拟环境后运行
pip list
```

**必须看到这些包：**
- [ ] mcp
- [ ] httpx
- [ ] python-dotenv

**如果没有，运行：**
```bash
pip install -e .
```

---

## 🔑 配置检查

### ☑️ 环境变量文件

**检查文件是否存在：**
- [ ] 项目根目录有 `.env` 文件（注意前面的点）
- [ ] 不是 `env.example`，而是 `.env`

**打开 `.env` 文件，检查内容：**
```env
DOUBAO_API_KEY=你的实际密钥
```

- [ ] `DOUBAO_API_KEY` 后面是真实的 API Key
- [ ] 不是 `your_api_key_here`
- [ ] API Key 前后没有空格或引号

---

### ☑️ 豆包 API Key

**验证 API Key：**

1. 登录 https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey
2. 确认 API Key 存在且有效
3. 检查账户余额是否充足

- [ ] API Key 有效
- [ ] 账户有余额

---

## 🧪 功能测试

### ☑️ 链接提取测试

```bash
python test_example.py
```

**应该看到：**
```
✓ 口令文本提取成功：https://v.douyin.com/DGHl69ciWp4/
✓ 纯链接提取成功：https://v.douyin.com/DGHl69ciWp4/
```

- [ ] 测试 1 通过
- [ ] 链接提取成功

---

### ☑️ 视频解析测试

**在测试脚本提示时输入 `y`**

**应该看到：**
```
✓ 视频 URL 获取成功
✓ 视频信息获取成功
```

- [ ] 能获取视频 URL
- [ ] 能获取视频信息（时长、尺寸、作者等）

---

## 🎯 Cursor 集成

### ☑️ MCP 配置文件

**打开 Cursor 设置 → MCP 配置**

- [ ] 找到了 MCP 配置选项
- [ ] 添加了服务器配置

**配置内容检查：**
```json
{
  "mcpServers": {
    "douyin-analyzer": {
      "command": "python",
      "args": ["-m", "src"],
      "env": {
        "DOUBAO_API_KEY": "你的API密钥"
      },
      "cwd": "D:\\work\\my-project\\douyin_to_notion"
    }
  }
}
```

- [ ] `DOUBAO_API_KEY` 填写了真实密钥
- [ ] `cwd` 路径正确（使用双反斜杠 `\\`）
- [ ] `command` 是 `"python"`
- [ ] `args` 是 `["-m", "src"]`

---

### ☑️ Cursor 重启

- [ ] 保存了配置文件
- [ ] 完全关闭了 Cursor
- [ ] 重新打开了 Cursor

---

### ☑️ 功能测试

**在 Cursor 中输入：**
```
分析这个抖音视频：https://v.douyin.com/DGHl69ciWp4/
```

**预期结果：**
- [ ] AI 开始调用工具
- [ ] 显示"成功提取链接"
- [ ] 显示"成功获取视频 URL"
- [ ] 返回视频分析结果

---

## 🎊 完成状态

### 全部通过 ✅

**恭喜！你可以：**
- ✅ 在命令行中运行测试
- ✅ 在 Cursor 中使用服务
- ✅ 分析抖音视频内容

---

### 部分失败 ⚠️

**如果某些项目失败：**

1. **查看具体错误信息**
   - 截图或复制错误内容
   
2. **查阅故障排除**
   - 参考 [新手指南.md](新手指南.md) 第 6 章
   - 参考 [调试步骤.md](调试步骤.md)
   
3. **寻求帮助**
   - 提供完整的错误信息
   - 说明哪一步失败了

---

## 🔍 快速诊断命令

```bash
# 1. 检查 Python
python --version

# 2. 检查位置
cd D:\work\my-project\douyin_to_notion
dir

# 3. 激活环境
venv\Scripts\activate

# 4. 检查包
pip list | findstr "mcp httpx dotenv"

# 5. 测试环境变量
python -c "from dotenv import load_dotenv; import os; load_dotenv(); print('API Key:', 'OK' if os.getenv('DOUBAO_API_KEY') else 'NOT FOUND')"

# 6. 运行测试
python test_example.py
```

---

## 📞 获取帮助

如果检查清单无法解决问题：

1. **记录失败的步骤**
   - 哪个检查项失败了？
   - 完整的错误信息是什么？

2. **查看文档**
   - [新手指南.md](新手指南.md) - 详细教程
   - [README.md](README.md) - 完整文档
   - [调试步骤.md](调试步骤.md) - 快速调试

3. **提交 Issue**
   - 提供系统信息（Windows 版本、Python 版本）
   - 提供错误信息
   - 说明已尝试的解决方法

---

**祝你顺利完成设置！** 🚀


