# 更新日志

## v1.0.1 - 2024-12-12

### 🐛 重要修复
- **修复 PyPI 安装后无法使用的问题** ⭐ 关键修复
  - 添加 `console_scripts` 入口点
  - 添加 `run()` 函数作为同步入口
  - 现在可以直接使用命令 `douyin-mcp-server` 运行

### 📝 配置变更
- **Cursor/Cherry Studio 配置更新**
  - 旧配置：`"command": "python", "args": ["-m", "src"]`
  - **新配置**：`"command": "douyin-mcp-server"`（更简单）

### 🎯 用户影响
- 从 PyPI 安装的用户必须使用新配置
- 源码安装的用户两种方式都可以

---

## v1.0.0 - 2024-12-12

### 🎉 首次发布（已撤回）
由于包结构问题，v1.0.0 无法正常使用，请使用 v1.0.1

---

## v1.0.3 - 2024-12-12（开发版本）

### 🚀 PyPI 发布准备
- **添加 PyPI 发布支持**
  - 更新 `pyproject.toml`，添加完整的项目元数据
  - 添加关键词和分类标签
  - 配置项目 URL 链接
  
- **新增文件**
  - `LICENSE` - MIT 开源许可证
  - `MANIFEST.in` - 包含文件配置
  - `PyPI发布指南.md` - 完整的发布教程
  - `用户安装使用指南.md` - 用户友好的安装说明
  - `publish.bat` / `publish.sh` - 一键发布脚本
  - `.github/workflows/publish-to-pypi.yml` - 自动发布配置
  - `GitHub自动发布配置.md` - GitHub Actions 配置指南

### 📝 文档更新
- README.md 添加 PyPI 安装说明
- 区分 PyPI 用户和源码开发者的使用方式
- 添加更新和卸载说明

### 🎯 用户体验
- **一条命令安装**：`pip install douyin-mcp-server`
- 无需下载源码
- 自动依赖管理
- 简化 Cursor 配置

---

## v1.0.2 - 2024-12-12

### 🎓 新增新手指南
- **新增文件：`新手指南.md`** - 零基础 Python 完全教程
  - 详细的环境检查步骤
  - 图文并茂的安装说明
  - 完整的故障排除指南
  - 6 大常见问题及解决方案
  
- **新增文件：`调试步骤.md`** - 5 分钟快速调试
  - 4 步快速运行指南
  - 常见错误快速解决
  - 命令速查表
  
- **新增文件：`检查清单.md`** - 项目设置检查清单
  - 系统化的检查流程
  - 每个步骤的验证方法
  - 快速诊断命令

### 📝 文档改进
- README.md 添加新手指南入口
- QUICKSTART.md 添加新手提示
- PROJECT_SUMMARY.md 更新文档列表

### 🎯 目标用户
专门为 **Python 初学者** 提供友好的入门体验

---

## v1.0.1 - 2024-12-12

### 🎉 新增功能
- **完整的抖音 API JSON 解析支持**
  - 正确解析 `data.video.bit_rate` 数组结构
  - 自动选择最小码率视频（优化传输速度）
  - 完整的响应状态码检查

### 🔧 改进
- **抖音 API 客户端增强** (`src/douyin_api.py`)
  - 新增 `get_video_info()` 方法，获取完整视频信息（作者、时长、尺寸等）
  - 改进 `get_video_url()` 方法，支持完整的 JSON 结构解析
  - 更详细的错误提示信息

### 📝 文档更新
- 在 README.md 中添加了抖音 API 响应结构说明
- 在 PROJECT_SUMMARY.md 中更新了实现细节
- 新增 CHANGELOG.md 记录版本变更

### 🐛 修复
- 修复了视频 URL 提取逻辑，确保能正确解析实际的 API 响应

---

## v1.0.0 - 2024-12-12

### 🎉 初始版本发布

#### 核心功能
- ✅ 抖音链接提取（支持口令格式）
- ✅ 抖音视频解析 API 集成
- ✅ 豆包视频理解 API 集成
- ✅ 结构化内容分析（描述、大纲、步骤）
- ✅ MCP 协议支持（Cursor/VSCode 集成）

#### 项目结构
- 完整的模块化代码结构
- 配置文件和环境变量管理
- 一键安装脚本（Windows/macOS/Linux）
- 完整的文档（README、快速开始指南、配置说明）

#### 技术特性
- 异步 API 调用
- 完善的错误处理
- 智能提示词设计
- 多种视频类型支持（教程类/其他类型）

