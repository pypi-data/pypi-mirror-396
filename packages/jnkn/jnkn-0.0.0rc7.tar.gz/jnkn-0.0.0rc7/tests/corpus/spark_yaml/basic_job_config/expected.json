{
  "description": "Basic spark.yml job configuration",
  "jobs": [
    {
      "name": "daily_user_metrics",
      "schedule": "0 6 * * *",
      "entry_point": "jobs/daily_user_metrics.py"
    }
  ],
  "dependencies": [
    {"from": "daily_user_metrics", "to": "upstream_data_ingestion"},
    {"from": "daily_user_metrics", "to": "dim_users_refresh"}
  ],
  "env_vars": [
    {"name": "PROD_DATABASE_HOST", "reference_type": "variable_substitution"},
    {"name": "DATABASE_HOST"},
    {"name": "DATABASE_PORT"},
    {"name": "OUTPUT_PATH"}
  ],
  "tables_read": [
    {"name": "warehouse.dim_users"},
    {"name": "warehouse.fact_events"}
  ],
  "tables_written": [
    {"name": "warehouse.daily_user_metrics"},
    {"name": "reporting.summary"}
  ]
}
