{
  "description": "Basic Kubernetes Deployment with EnvVars, Secrets, and ConfigMaps",
  "resources": [
    {"id": "k8s:production/deployment/payment-service", "name": "payment-service", "type": "infra_resource"},
    {"id": "env:DB_HOST", "name": "DB_HOST", "type": "env_var"},
    {"id": "env:API_KEY", "name": "API_KEY", "type": "env_var"},
    {"id": "k8s:production/secret/app-secrets", "name": "app-secrets", "type": "secret"},
    {"id": "k8s:production/configmap/app-config", "name": "app-config", "type": "config_key"}
  ],
  "edges": [
    {"source": "k8s:production/deployment/payment-service", "target": "env:DB_HOST", "type": "provides"},
    {"source": "k8s:production/deployment/payment-service", "target": "env:API_KEY", "type": "provides"},
    {"source": "env:API_KEY", "target": "k8s:production/secret/app-secrets", "type": "reads"},
    {"source": "k8s:production/deployment/payment-service", "target": "k8s:production/configmap/app-config", "type": "reads"}
  ]
}
