.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

=============
AI OCA Bridge
=============

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:c702d03816331f686ec7f037a5bbef08e513f54645bfdb51d11b15bcd5db77f2
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fai-lightgray.png?logo=github
    :target: https://github.com/OCA/ai/tree/18.0/ai_oca_bridge
    :alt: OCA/ai
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/ai-18-0/ai-18-0-ai_oca_bridge
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/ai&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module is used to create a bridge between Odoo and other AI systems
like n8n.

**Table of contents**

.. contents::
   :local:

Use Cases / Context
===================

Right now, there are 2 different approaches for AI integration with
Odoo:

1. Make everything inside Odoo.
2. Make it using other tools and integrate Odoo with these tools.

IMO, it would be better to make use of option 2 for different reasons:

- Odoo server is intended as a transactional system. AI systems requires
  other kind of characteristics
- Everything changes too fast. I am not confident that Odoo can keep the
  pace in this topic
- There are OSS tools that fills the gap perfectly and are created just
  for this topic.

Anyway, OCA is open to everyone and we don't intend to force an
opinionated way of doing. For this reason, we have this module, that can
be used as Bridge with AI systems.

Configuration
=============

As an administrator access ``AI Bridge\AI Bridge``.

Create a new bridge. Define the name, model, url and configuration.

In order to improve the view of the AI configuration, use groups and
domain to set better filters.

Payload Configuration
---------------------

On the external system, you will receive a POST payload. The data
included will be the following:

General
~~~~~~~

- \_odoo: Standard data to identify the Odoo Database
- \_model: Model of the related object
- \_id: Id of the related object
- \_response_url: Url to call with the response in case of async calls

Record Payload
~~~~~~~~~~~~~~

Adds a new item called record with all the fields.

Asynchronous and synchronous calls
----------------------------------

The new system allows asynchronous and synchronous calls. Asynchronous
calls makes sense when the task to be processed don't need to be
immediate. For example, reviewing an invoice and leave a comment with
the result. The same would happen with a chat message. We expect that
the system will leave time to the AI to answer and Odoo's user can do
other things.

Meanwhile, Synchronous calls will froze odoo system and wait for an
answer. This makes sense when we expect some feedback from odoo user. It
makes sense, when we open an action for example.

In the synchronous call, the result is processed when the AI system
answers on the webhook. On the other hand, it will be processed
automatically on the synchronous call.

Result processing
-----------------

With the answers of the system we expect to do something about it. We
have the following options:

No processing
~~~~~~~~~~~~~

In this case, the result will do nothing

Post a Message
~~~~~~~~~~~~~~

We will post a message on the original thread of the system. The thread
is computed by a function, so it can be overriden in future modules. It
expects the keyword arguments of the ``message_post`` function.

Action
~~~~~~

It expects to launch an action on the user interface. It only makes
sense on synchronous calls.

It expects an action item with the following parameters:

- action: xmlid of the action
- context: Context to pass to the action (not required)
- res_id: Id of the resource (not required)

Usage
=====

Use the bolt widget in the chatter to execute the different AI options.

The options will be filtered according to the configuration.

Known issues / Roadmap
======================

- Define examples to use and import
- Allow child fields. Right now, only first level fields are accepted.
- Information popover is not working properly when there is large data.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/ai/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/ai/issues/new?body=module:%20ai_oca_bridge%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Dixmit

Contributors
------------

- `Dixmit <https://www.dixmit.com>`__

  - Enric Tobella

- `Sygel Technology <https://www.sygel.es>`__

  - Valent√≠n Vinagre

- `Binhex <https://www.binhex.cloud/>`__

  - Ariel Barreiros
  - Adria Hortoneda

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/ai <https://github.com/OCA/ai/tree/18.0/ai_oca_bridge>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
