#
# mirror-dedupe.conf : Ubuntu mirror synchronisation with global deduplication
#
# Copyright (c) 2025 Tim Hosking
# Email: tim@mungerware.com
# Website: https://github.com/munger
# Licence: MIT
#

# Root directory under which all mirrored repositories are stored
repo_root: /srv/mirror/repos

# Global architectures mask. Use 'all' or '*' for no restriction, or a list
# like ['amd64', 'arm64'] to force all mirrors to only fetch those arches.
architectures: all

# Buffer size for SHA256 hashing (default: 1048576 / 1MB)
buffer_size: 1048576

# Number of concurrent downloads (default: 10)
parallel_downloads: 10

# Timeout in seconds for curl downloads (default: 900 / 15 min)
curl_timeout: 900

# Number of retry attempts for failed downloads (default: 3)
max_retries: 3

# Print progress every N files (default: 1000)
progress_interval: 1000

# If set to true, disable deduplication and hardlinking.
# mirror-dedupe will act as a plain mirror and skip the dedupe phase.
# Useful when the mirror is on a filesystem without hardlink support
# (e.g. some NFS setups) or spans multiple volumes via mounts/symlinks.
#no_hardlinks: true
