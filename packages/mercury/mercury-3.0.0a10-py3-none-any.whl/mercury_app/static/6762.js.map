{"version":3,"file":"6762.bundle.js","mappings":"sIAEIA,EAAI,EAAQ,OAEdC,EAAQ,EAAaD,EAAEE,WACDF,EAAEG,W,yLCS1B,MAIaC,EAAY,mBAEZC,EAAmB,CAC5B,aACA,oBACA,0BAKG,MAAMC,UAAqB,EAAAC,OAI9B,WAAAC,CAAYC,GACRC,QACAC,KAAKC,SAAW,KAChBD,KAAKE,SArBK,mBAsBVF,KAAKE,SAAS,cACdF,KAAKG,UAAYL,EAAQM,SACzBJ,KAAKK,WAAaP,EAAQO,YAAc,EAAAC,cAC5C,CACA,CAAC,EAAAC,SAASC,UACN,MAAO,IAAM,EAAAD,SAASE,YAAYT,KACtC,CAIA,iBAAMU,CAAYC,GACd,MAAM,UAAEC,SAAoB,+FAC5B,IAAIC,EAEJ,GAAInB,EAAiBoB,QAAQd,KAAKG,YAAc,EAAG,CAE/C,MAAMY,GAASJ,EAAME,KAAKb,KAAKG,YAAc,IACxCa,OACAC,MAAM,MACXJ,EAAOK,KAAKC,MAAM,IAAIJ,EAAMK,KAAK,QACrC,MAEIP,EAAQF,EAAME,KAAKb,KAAKG,YAAc,CAAC,EAE3C,MAAMkB,EAAYV,EAAMU,SAASrB,KAAKG,YAAc,CAAC,EAIrD,OAHsB,OAAlBH,KAAKC,WACLD,KAAKC,UAAW,OAAWD,KAAKsB,OAE7B,IAAIC,QAAQ,CAACC,EAASC,KACzBzB,KAAKC,SAASyB,OAAO,gBAAoBd,EAAW,CAAEC,KAAMA,EAAMQ,SAAUA,EAAUhB,WAAYL,KAAKK,WAAYsB,aAAc,IAAMH,QAE/I,CAIA,cAAAI,CAAeC,GAEP7B,KAAKC,WACLD,KAAKC,SAAS6B,UACd9B,KAAKC,SAAW,KAExB,EAKG,MAAM8B,EAAkB,CAC3BC,MAAM,EACNC,UAAW,CAACxC,KAAcC,GAC1BwC,eAAgBpC,GAAW,IAAIH,EAAaG,IA+BhD,EA7BmB,CACf,CACIqC,GAAI,qCACJC,YAAa,kCACbL,kBACAM,KAAM,EACNC,SAAU,OACVC,6BAA8B,CAC1BC,KAAM,OAENC,gBAAiB,OACjBC,UAAW,CAAC,OAAQ,WAAY,WAChCC,WAAY,CAAC,UAGrB,CACIR,GAAI,2CACJC,YAAa,uCACbL,kBACAM,KAAM,EACNC,SAAU,SACVC,6BAA8B,CAC1BC,KAAM,YACNC,gBAAiB,QACjBC,UAAW,CAAC,QAAS,UACrBC,WAAY,CAAC,QAAS,Y","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/react-dom/client.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/json-extension/lib/index.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/**\n * @packageDocumentation\n * @module json-extension\n */\nimport { Printing } from '@jupyterlab/apputils';\nimport { nullTranslator } from '@jupyterlab/translation';\nimport { Widget } from '@lumino/widgets';\nimport * as React from 'react';\nimport { createRoot } from 'react-dom/client';\n/**\n * The CSS class to add to the JSON Widget.\n */\nconst CSS_CLASS = 'jp-RenderedJSON';\n/**\n * The MIME type for JSON.\n */\nexport const MIME_TYPE = 'application/json';\n// NOTE: not standardized yet\nexport const MIME_TYPES_JSONL = [\n    'text/jsonl',\n    'application/jsonl',\n    'application/json-lines'\n];\n/**\n * A renderer for JSON data.\n */\nexport class RenderedJSON extends Widget {\n    /**\n     * Create a new widget for rendering JSON.\n     */\n    constructor(options) {\n        super();\n        this._rootDOM = null;\n        this.addClass(CSS_CLASS);\n        this.addClass('CodeMirror');\n        this._mimeType = options.mimeType;\n        this.translator = options.translator || nullTranslator;\n    }\n    [Printing.symbol]() {\n        return () => Printing.printWidget(this);\n    }\n    /**\n     * Render JSON into this widget's node.\n     */\n    async renderModel(model) {\n        const { Component } = await import('./component');\n        let data;\n        // handle if json-lines format\n        if (MIME_TYPES_JSONL.indexOf(this._mimeType) >= 0) {\n            // convert into proper json\n            const lines = (model.data[this._mimeType] || '')\n                .trim()\n                .split(/\\n/);\n            data = JSON.parse(`[${lines.join(',')}]`);\n        }\n        else {\n            data = (model.data[this._mimeType] || {});\n        }\n        const metadata = (model.metadata[this._mimeType] || {});\n        if (this._rootDOM === null) {\n            this._rootDOM = createRoot(this.node);\n        }\n        return new Promise((resolve, reject) => {\n            this._rootDOM.render(React.createElement(Component, { data: data, metadata: metadata, translator: this.translator, forwardedRef: () => resolve() }));\n        });\n    }\n    /**\n     * Called before the widget is detached from the DOM.\n     */\n    onBeforeDetach(msg) {\n        // Unmount the component so it can tear down.\n        if (this._rootDOM) {\n            this._rootDOM.unmount();\n            this._rootDOM = null;\n        }\n    }\n}\n/**\n * A mime renderer factory for JSON data.\n */\nexport const rendererFactory = {\n    safe: true,\n    mimeTypes: [MIME_TYPE, ...MIME_TYPES_JSONL],\n    createRenderer: options => new RenderedJSON(options)\n};\nconst extensions = [\n    {\n        id: '@jupyterlab/json-extension:factory',\n        description: 'Adds renderer for JSON content.',\n        rendererFactory,\n        rank: 0,\n        dataType: 'json',\n        documentWidgetFactoryOptions: {\n            name: 'JSON',\n            // TODO: how to translate label of the factory?\n            primaryFileType: 'json',\n            fileTypes: ['json', 'notebook', 'geojson'],\n            defaultFor: ['json']\n        }\n    },\n    {\n        id: '@jupyterlab/json-lines-extension:factory',\n        description: 'Adds renderer for JSONLines content.',\n        rendererFactory,\n        rank: 0,\n        dataType: 'string',\n        documentWidgetFactoryOptions: {\n            name: 'JSONLines',\n            primaryFileType: 'jsonl',\n            fileTypes: ['jsonl', 'ndjson'],\n            defaultFor: ['jsonl', 'ndjson']\n        }\n    }\n];\nexport default extensions;\n//# sourceMappingURL=index.js.map"],"names":["m","exports","createRoot","hydrateRoot","MIME_TYPE","MIME_TYPES_JSONL","RenderedJSON","Widget","constructor","options","super","this","_rootDOM","addClass","_mimeType","mimeType","translator","nullTranslator","Printing","symbol","printWidget","renderModel","model","Component","data","indexOf","lines","trim","split","JSON","parse","join","metadata","node","Promise","resolve","reject","render","forwardedRef","onBeforeDetach","msg","unmount","rendererFactory","safe","mimeTypes","createRenderer","id","description","rank","dataType","documentWidgetFactoryOptions","name","primaryFileType","fileTypes","defaultFor"],"ignoreList":[],"sourceRoot":""}