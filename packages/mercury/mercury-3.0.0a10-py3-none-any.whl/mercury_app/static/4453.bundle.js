"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4453],{44453:(e,t,a)=>{a.r(t),a.d(t,{MathJaxTypesetter:()=>o,default:()=>l});var n,s=a(25884),i=a(75862),r=a(43834);!function(e){e.copy="mathjax:clipboard",e.scale="mathjax:scale"}(n||(n={}));class o{constructor(){this._initialized=!1}async _ensureInitialized(){this._initialized||(this._mathDocument=await c.ensureMathDocument(),this._initialized=!0)}async mathDocument(){return await this._ensureInitialized(),this._mathDocument}async typeset(e){try{await this._ensureInitialized()}catch(e){return void console.error(e)}this._mathDocument.options.elements=[e],this._mathDocument.clear().render(),delete this._mathDocument.options.elements,c.hardenAnchorLinks(e)}}const l={id:"@jupyterlab/mathjax-extension:plugin",description:"Provides the LaTeX mathematical expression interpreter.",provides:i.ILatexTypesetter,optional:[r.ITranslator],activate:(e,t)=>{const a=(null!=t?t:r.nullTranslator).load("jupyterlab"),s=new o;return e.commands.addCommand(n.copy,{execute:async()=>{const e=(await s.mathDocument()).outputJax;await navigator.clipboard.writeText(e.math.math)},label:a.__("MathJax Copy Latex"),describedBy:{args:{type:"object",properties:{}}}}),e.commands.addCommand(n.scale,{execute:async e=>{const t=await s.mathDocument(),a=e.scale||1;t.outputJax.options.scale=a,t.rerender();for(const e of t.math){const t=e.typesetRoot;t&&c.hardenAnchorLinks(t)}},label:e=>a.__("Mathjax Scale ")+(e.scale?`x${e.scale}`:a.__("Reset")),describedBy:{args:{type:"object",properties:{scale:{type:"number",description:a.__("The scale factor for MathJax rendering")}}}}}),s},autoStart:!0};var c;!function(e){let t=null;e.ensureMathDocument=async function(){if(!t){t=new s.PromiseDelegate,Promise.all([a.e(8329),a.e(769),a.e(1684)]).then(a.t.bind(a,76922,23));const[{mathjax:e},{CHTML:n},{TeX:i},{TeXFont:r},{AllPackages:o},{SafeHandler:l},{HTMLHandler:c},{browserAdaptor:h},{AssistiveMmlHandler:d}]=await Promise.all([a.e(1915).then(a.bind(a,91915)),Promise.all([a.e(8329),a.e(2591),a.e(5445),a.e(1878)]).then(a.t.bind(a,31878,23)),Promise.all([a.e(8329),a.e(769),a.e(5153),a.e(9324)]).then(a.t.bind(a,59324,23)),Promise.all([a.e(5445),a.e(9657)]).then(a.t.bind(a,45445,23)),Promise.all([a.e(8329),a.e(769),a.e(5153),a.e(7577)]).then(a.bind(a,47577)),a.e(352).then(a.t.bind(a,50352,23)),Promise.all([a.e(8329),a.e(2591),a.e(5229),a.e(8029)]).then(a.t.bind(a,28029,23)),a.e(2420).then(a.bind(a,62420)),Promise.all([a.e(8329),a.e(2591),a.e(5229),a.e(5243)]).then(a.t.bind(a,35243,23))]);e.handlers.register(d(l(new c(h()))));class u extends r{}u.defaultFonts={};const m=new n({font:new u}),p=new i({packages:o.concat("require"),inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0}),_=e.document(window.document,{InputJax:p,OutputJax:m});t.resolve(_)}return t.promise},e.hardenAnchorLinks=function(e){e.querySelectorAll(".MathJax a").forEach(e=>{const t=(e.rel||"").split(/\s+/).filter(e=>e.length>0);t.includes("noopener")||t.push("noopener"),e.rel=t.join(" "),"_blank"!==e.target&&(e.target="_blank")})}}(c||(c={}))}}]);
//# sourceMappingURL=4453.js.map