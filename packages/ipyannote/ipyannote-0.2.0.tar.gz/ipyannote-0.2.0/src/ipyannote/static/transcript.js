var f=n=>{let i=parseInt(n.slice(1),16),t=i>>16&255,l=i>>8&255,o=i&255;return .2126*t+.7152*l+.0722*o>128};function u({model:n,el:i}){let t=document.createElement("div");t.tabIndex=-1;let l=n.get("height");t.style.height=l,t.style.overflowY="auto";function o(){let s={...n.get("labels")},a=n.get("transcript");for(;t.firstChild;)t.removeChild(t.firstChild);a.forEach(e=>{let r=document.createElement("div");r.textContent=e.text,r.setAttribute("data-start",e.start.toString()),r.setAttribute("data-end",e.end.toString());let c=e.speaker,d=s[c]?s[c]:"#ffffff";r.style.backgroundColor=d,r.style.color=f(d)?"#000000":"#ffffff",t.appendChild(r),r.addEventListener("click",()=>{n.set("current_time",e.start),n.save_changes()})})}function g(){console.log("current time changed");let s=n.get("current_time");console.log(s);let a=t.querySelectorAll("div");console.log(a),a.forEach(e=>{let r=parseFloat(e.getAttribute("data-start")||"0"),c=parseFloat(e.getAttribute("data-end")||"0");console.log(r,c),s>=r&&s<=c?(e.classList.add("active"),e.scrollIntoView({behavior:"smooth",block:"center"}),console.log("active")):e.classList.remove("active")})}return n.on("change:transcript",o),o(),n.on("change:current_time",g),i.classList.add("ipyannote","ipyannote-transcript"),i.appendChild(t),()=>{}}var m={render:u};export{m as default};
