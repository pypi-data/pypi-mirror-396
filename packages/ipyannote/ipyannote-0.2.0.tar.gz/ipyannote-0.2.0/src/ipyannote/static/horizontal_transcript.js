var p=n=>{let i=parseInt(n.slice(1),16),t=i>>16&255,c=i>>8&255,l=i&255;return .2126*t+.7152*c+.0722*l>128};function g({model:n,el:i}){let t=document.createElement("div");t.tabIndex=-1,t.classList.add("horizontal-displayer"),t.style.height="50px",t.style.width=n.get("width"),t.style.overflowX="auto";function c(){let s={...n.get("labels")},a=n.get("transcript");for(;t.firstChild;)t.removeChild(t.firstChild);a.forEach(r=>{let e=document.createElement("div");e.textContent=r.text,e.style.whiteSpace="nowrap",e.setAttribute("data-start",r.start.toString()),e.setAttribute("data-end",r.end.toString()),e.title="Go to segment start",e.classList.add("transcript-segment");let o=r.speaker,f=s[o]?s[o]:"#ffffff";e.style.backgroundColor=f,e.style.color=p(f)?"#000000":"#ffffff",t.appendChild(e),e.addEventListener("click",()=>{n.set("current_time",r.start),n.save_changes()})})}function l(s,a){let e=s.offsetLeft-a.offsetLeft+s.offsetWidth/2-a.clientWidth/2;a.scrollTo({left:e,behavior:"smooth"})}function d(){let s=n.get("current_time");t.querySelectorAll("div").forEach(r=>{let e=parseFloat(r.getAttribute("data-start")||"0"),o=parseFloat(r.getAttribute("data-end")||"0");s>=e&&s<o?(r.classList.add("active"),l(r,t)):r.classList.remove("active")})}return n.on("change:transcript",c),c(),n.on("change:current_time",d),n.on("change:labels",c),n.on("change:width",()=>{t.style.width=n.get("width")}),i.classList.add("ipyannote","ipyannote-transcript"),i.appendChild(t),()=>{}}var b={render:g};export{b as default};
