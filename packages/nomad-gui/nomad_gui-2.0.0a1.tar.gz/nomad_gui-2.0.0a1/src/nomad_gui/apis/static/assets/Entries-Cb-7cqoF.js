import{r as s,j as e,q as i,s as n,H as h,ad as j}from"./material-react-table-B5vcPysv.js";import{b as y,c as g,f as b,L as o,D as C,j as _,e as v}from"./index-Ch6wx3XL.js";import{P as T}from"./ProcessStatus-Bdvktp4U.js";import{R as D}from"./RoutingTable-BBWeRvTz.js";import{V as I,C as S}from"./CopyToClipboard-pq4dp3BD.js";import{D as R}from"./Datetime-C5IF8FhX.js";import{T as l,I as k}from"./Id-DVcvTkpi.js";import"./@mapbox/rehype-prism-vXukC30A.js";import"./msw-CLcXU_4U.js";import"./ControlledDataTable-DvZXjuQB.js";import"./useLocalState-DdvWN1Wu.js";function z(){const{navigate:c,url:a}=y(),r=g(),{isPage:u}=b(),m=s.useMemo(()=>Object.entries(r).filter(([t])=>t!=="m_response").map(([,t])=>t),[r]),p=s.useMemo(()=>[{accessorKey:"mainfile_path",header:"Mainfile",grow:!0,Cell:({cell:t})=>e.jsx(l,{value:t.getValue(),fullWidth:!0})},{accessorKey:"entry_type",header:"Type",enableSorting:!1,size:150,Cell:({row:t})=>e.jsx(l,{value:t.original?.metadata?.entry_type,fullWidth:!0})},{accessorKey:"entry_id",header:"ID",enableSorting:!1,size:150,Cell:({cell:t})=>e.jsxs(I,{value:t.getValue(),fullWidth:!0,children:[e.jsx(k,{}),e.jsx(S,{})]})},{accessorKey:"entry_create_time",header:"Create Time",enableSorting:!0,size:200,Cell:({cell:t})=>e.jsx(R,{value:t.getValue(),variant:"datetime"})},{accessorKey:"process_status",header:"Status",size:120,center:!0,Cell:({row:t})=>e.jsx(T,{entity:t.original,variant:"icon"})}],[]),d=s.useCallback(t=>[e.jsx(i,{component:o,to:a({path:t.entry_id}),children:e.jsx(n,{children:"Open entry"})},"open"),e.jsx(i,{component:o,to:a({path:["../files",t.mainfile_path]}),children:e.jsx(n,{children:"Open file"})},"open")],[a]),x=s.useCallback(()=>e.jsx(e.Fragment,{children:e.jsx(h,{onClick:()=>confirm("Delete"),color:"inherit",children:e.jsx(C,{})})}),[]);return e.jsx(D,{paginationType:"page",onRowClick:t=>{_(t.entry_id!==void 0,"entry_id for table row must be defined");const f=u?t.entry_id:`${t.entry_id}/archive`;c({path:f})},columns:p,data:m,rowContextMenuItems:d,toolbarSelectActions:x})}function q(){return e.jsxs(e.Fragment,{children:[e.jsx(v,{rightActions:e.jsx(j,{sx:{width:400},size:"small",label:"Search or filter entries",variant:"outlined"})}),e.jsx(z,{})]})}export{q as default};
