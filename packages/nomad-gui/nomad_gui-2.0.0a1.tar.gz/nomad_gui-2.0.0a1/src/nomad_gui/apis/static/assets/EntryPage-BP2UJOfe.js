import{b as m,j as e,r as S,D as I}from"./material-react-table-B5vcPysv.js";import{u as w,N as V}from"./useRecent-nqDOCkEd.js";import{N as j}from"./NavItem-BloxgtRl.js";import{b as _,o as N,j as P,U as D,c as u,f as R,P as C,L as b,O as E,q as H,k as M}from"./index-Ch6wx3XL.js";import{N as O,U as A}from"./UploadNavAbout-Cae-sT3_.js";import{T as U}from"./TreeNav-CeQ_zFqb.js";import{P as z}from"./ProcessStatus-Bdvktp4U.js";import{V as k,C as T}from"./CopyToClipboard-pq4dp3BD.js";import{I as q}from"./Id-DVcvTkpi.js";import"./@mapbox/rehype-prism-vXukC30A.js";import"./msw-CLcXU_4U.js";import"./Visibility-D5hmS0H8.js";import"./useDataForRoute-CHohu-wJ.js";import"./useLocalState-DdvWN1Wu.js";const L=m(e.jsx("path",{d:"M15 4v2h3v12h-3v2h5V4zM4 20h5v-2H6V6h3V4H4z"}),"DataArray"),g=m(e.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"}),"DataObjectOutlined"),Q=m(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-7-2h2V7h-4v2h2z"}),"LooksOneOutlined");function p(t,s){const a=t.m_def;return P(a!==void 0,"The section definition is missing in the API data."),a.all_sub_sections[s]!==void 0}function v(t){const s=t?.m_def;return s===void 0?!1:Object.keys(t).filter(a=>!a.startsWith("m_")&&s.all_sub_sections[a]!==void 0).length>0}function f(t,s,a){const o=t.m_def.all_properties[s]||{},r=o.m_def==="Quantity",l=o.m_def==="SubSection"&&!o.repeats,c=o.m_def===void 0,h=o.m_def==="SubSection"&&o.repeats;let i;if(r)i=e.jsx(Q,{});else if(l)i=e.jsx(g,{});else if(h)i=e.jsx(L,{});else if(c)i=e.jsx(D,{});else throw new Error("Impossible state.");const d={variant:"treeNode",icon:i,alignWithExpandIcons:!0};if(r||c)return{...d,expandable:!1,disabled:c};if(l)return{...d,getChildProps:f,filterChildKeys:p,expandable:v};if(h)return{...d,expandable:!0,getChildProps:(G,x,y)=>({...d,getChildProps:f,filterChildKeys:p,expandable:v,icon:e.jsx(g,{}),label:x,path:`${y}[${x}]`})};throw new Error("Impossible state.")}function W({...t}){const{fullMatch:s,index:a}=_(),n=s.length===a+2&&s[a+1]?.path==="archive",o=S.useMemo(()=>({...N}),[]);return e.jsx(U,{highlighted:t.selected&&n,path:"archive",variant:"menuItem",icon:void 0,request:o,expandable:v,getChildProps:f,filterChildKeys:p,...t})}function $(){const t=u(),{mainfile_path:s,entry_id:a}=t;return e.jsxs(O,{label:"entry",title:s,children:[e.jsxs(k,{value:a,children:[e.jsx(q,{abbreviated:!0}),e.jsx(T,{})]}),e.jsx("div",{style:{flexGrow:1}}),e.jsx(z,{entity:t,variant:"icon"})]})}function re(){const{url:t,fullMatch:s,index:a}=_(),n=s[a+1]?.path,o=n===""?"overview":n,{entry_id:r,mainfile_path:l}=u(H),{upload_id:c}=u(M),{isPage:h,pageVariant:i}=R();return w("upload",c,{[r]:{url:t(),selectUrl:t({path:"archive"}),id:r,name:l}}),e.jsx(C,{variant:i,fullwidth:!0,navigation:e.jsxs(V,{children:[e.jsx(j,{label:"projects",component:b,to:t({path:"../../../../uploads"})}),e.jsx(I,{}),e.jsx(A,{}),e.jsx($,{}),h&&e.jsx(j,{label:"entry overview",selected:o==="overview",highlighted:o==="overview",component:b,to:t({path:""})}),e.jsx(W,{label:"data",expanded:o!=="archive"?!1:void 0,selected:o==="archive"})]}),children:e.jsx(E,{})})}export{re as default};
