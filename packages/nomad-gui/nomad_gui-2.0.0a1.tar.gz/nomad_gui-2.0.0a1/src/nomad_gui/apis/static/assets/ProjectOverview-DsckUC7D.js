import{r as l,j as e,k as v,aX as a,B as f}from"./material-react-table-CoLKVKmx.js";import{bZ as P,b_ as m,V as j,T as p,ac as c,a4 as n,b$ as b,u,as as E}from"./index-Bzcp6Isa.js";import{u as R}from"./usePermissions-Bdw0R7fc.js";import{P as _,a as A,b as D}from"./ProjectFiles-B0vIXN8x.js";import"./rehype-prism-plus-Ct2a49xA.js";import"./msw-DptHyBtO.js";import"./plotly.js-dist-min-Bl-VrBG9.js";import"./EntryContext-Jf9Y8HEC.js";import"./HDF5FileViewer-D_N5c1d_.js";import"./react-pdf-DpFbUMwK.js";import"./ErrorBoundary-Br5Se2a5.js";import"./useTools-CYTbsw--.js";import"./Download-BLwTLAkE.js";import"./ProjectFilesNav-CnWlrwzm.js";function I({data:t}){c(t.main_author!==void 0,"project main_author is required"),c(t.coauthors!==void 0,"project coauthors are required");const r=[t.main_author,...t.coauthors];return e.jsx(j,{value:r.map(s=>s.name).join(", "),label:"Authors",fullWidth:!0,children:e.jsx(p,{})})}function g(){const t=P(m),r=l.useMemo(()=>t||{},[t]);return t===void 0?null:e.jsx(v,{sx:{py:1.5,px:2},children:e.jsxs(a,{container:!0,rowSpacing:2,columnSpacing:2,children:[e.jsx(a,{size:6,children:e.jsx(j,{value:r.upload_name,label:"Project name",fullWidth:!0,children:e.jsx(p,{})})}),e.jsx(a,{size:6,children:e.jsx(I,{data:r})})]})})}function C(){const t=n(b),r=u(),{reload:s}=u(),i=n(m).process_status,d=r.fullMatch[2].params.projectId,x=Object.keys(t).includes("README.md"),{canWrite:h}=R();return l.useEffect(()=>{if(i==="PENDING"){const o=setInterval(()=>{s()},1e3);return()=>clearInterval(o)}},[i,s]),e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Project overview"}),e.jsx(f,{sx:{mb:4},children:e.jsx(g,{})}),e.jsx(_,{projectId:d,canWrite:h}),e.jsx(A,{data:t,navigatePath:o=>["files",o]}),x&&e.jsx(D,{file:"README.md",sx:{mt:4}})]})}export{C as default};
