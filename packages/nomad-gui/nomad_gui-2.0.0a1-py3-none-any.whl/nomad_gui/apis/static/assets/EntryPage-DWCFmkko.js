import{r as d,j as e,S as v,T as D,ac as u}from"./material-react-table-CoLKVKmx.js";import{e as N,c as U,g as $}from"./utils-CmKUqYYA.js";import{c as T,V as l,T as m,C as p,u as E,N as x,I as S,D as M,a as B,b as V,P as W,O as A,d as R,L as k}from"./index-Bzcp6Isa.js";import{u as G}from"./useSearch-D2fIhQzc.js";import{N as f,P as I,a as F}from"./ProjectNavAbout-BAkLlqdj.js";import{e as H}from"./EntryContext-Jf9Y8HEC.js";import"./rehype-prism-plus-Ct2a49xA.js";import"./msw-DptHyBtO.js";import"./plotly.js-dist-min-Bl-VrBG9.js";import"./Boolean-Di5N5gPt.js";const Y="catalysis",O="Catalysis",X={"quantities:any":["results.properties.catalytic"]},Q={type:"container",editable:!1,children:[{type:"container",title:"Material",md:6,children:[{type:"quantity",property:"results/material/chemical_formula_iupac",md:6},{type:"quantity",property:"results/material/chemical_formula_reduced",md:6},{type:"quantity",property:"results/material/chemical_formula_hill",md:6},{type:"quantity",property:"results/material/chemical_formula_descriptive",md:6},{type:"quantity",property:"results/material/elements",direction:"horizontal",md:6},{type:"quantity",property:"results/material/n_elements",md:6}]},{type:"container",md:6,sm:12,title:"Catalytic reaction",children:[{type:"quantity",property:"data/name",sm:12},{type:"quantity",property:"data/reaction_name",sm:12},{type:"quantity",property:"data/reaction_type",direction:"horizontal",sm:12}]},{type:"condition",query:{"quantities:any":["data.figures"]},children:[{type:"plot",title:"Temperature",property:"data/figures",sm:12,md:6,sx:{height:"600px"}}]},{type:"condition",query:{"quantities:any":["workflow2"]},children:[{type:"container",sm:12,md:6,sx:{height:"600px"},title:"Workflow",children:[{type:"workflow"}]}]}]},J={id:Y,label:O,query:X,overview:Q},K="default",Z="Default",ee={},te={type:"container",editable:!1,children:[{type:"condition",query:{"quantities:any":["results.material.topology"]},children:[{type:"material",title:"Material",md:7,sx:{height:"650px"}}]},{type:"condition",query:{"quantities:any":["data"]},children:[{type:"sub_section",property:"data",editable:!0,title:"Data",lg:10}]},{type:"condition",query:{"quantities:any":["data.figures"]},children:[{type:"plot",property:"data/figures",title:"Plots",lg:10}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment","results.properties.electronic.dos_electronic","results.properties.electronic.dos_electronic_new","results.properties.electronic.band_gap"]},children:[{type:"container",title:"Electronic properties",children:[{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment"]},children:[{type:"band_structure_electronic",title:"Band structure",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment"]},children:[{type:"brillouin_zone_electronic",title:"Brillouin zone",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.dos_electronic","results.properties.electronic.dos_electronic_new"]},children:[{type:"dos_electronic",title:"Density of states",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_gap"]},children:[{type:"table",title:"Band gap",property:"results/properties/electronic/band_gap",columns:[{label:"Channel",type:"quantity",property:"index"},{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"eV"},{label:"Label",type:"quantity",property:"provenance/label"}],md:"grow",sx:{height:"348px"}}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon","results.properties.vibrational.dos_phonon","results.properties.vibrational.heat_capacity_constant_volume","results.properties.vibrational.energy_free_helmholtz"]},children:[{type:"container",title:"Vibrational properties",md:12,children:[{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon"]},children:[{type:"band_structure_vibrational",title:"Phonon Band structure",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon.reciprocal_cell"]},children:[{type:"brillouin_zone_vibrational",title:"Brillouin zone",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.dos_phonon"]},children:[{type:"dos_vibrational",title:"Phonon Density of States",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.heat_capacity_constant_volume"]},children:[{type:"heat_capacity",title:"Heat Capacity at Constant Volume",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.energy_free_helmholtz"]},children:[{type:"helmholtz_free_energy",title:"Helmholtz Free Energy",md:12,lg:6,xl:6,sx:{height:"450px"}}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.geometry_optimization.energies"]},children:[{type:"container",title:"Geometry Optimization",children:[{type:"geometry_optimization",title:"Energy convergence",sx:{height:"500px"}},{type:"container",title:"Convergence results",children:[{type:"quantity",property:"results/properties/geometry_optimization/final_energy_difference",sm:4,displayUnit:"eV"},{type:"quantity",property:"results/properties/geometry_optimization/final_displacement_maximum",sm:4,displayUnit:"angstrom"},{type:"quantity",property:"results/properties/geometry_optimization/final_force_maximum",sm:4,displayUnit:"a_u_force"}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.thermodynamic.trajectory"]},children:[{type:"container",title:"Thermodynamic properties",children:[{type:"trajectories",title:"Trajectory",sx:{height:"600px"}},{type:"container",title:"Molecular dynamics",children:[{type:"quantity",property:"results/properties/thermodynamic/trajectory/0/provenance/molecular_dynamics/time_step",sm:4,displayUnit:"fs"},{type:"quantity",property:"results/properties/thermodynamic/trajectory/0/provenance/molecular_dynamics/ensemble_type",sm:4}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.mechanical.energy_volume_curve","results.properties.mechanical.bulk_modulus","results.properties.mechanical.shear_modulus"]},children:[{type:"container",title:"Mechanical properties",children:[{type:"energy_volume_curve",title:"Energy volume curve",lg:12,sx:{height:"610px"}},{type:"condition",query:{"quantities:any":["results.properties.mechanical.bulk_modulus"]},children:[{type:"table",title:"Bulk modulus",property:"results/properties/mechanical/bulk_modulus",columns:[{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"GPa"}],md:12,lg:"grow",sx:{height:"610px"}}]},{type:"condition",query:{"quantities:any":["results.properties.mechanical.shear_modulus"]},children:[{type:"table",title:"Shear modulus",property:"results/properties/mechanical/shear_modulus",columns:[{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"GPa"}],md:12,lg:"grow",sx:{height:"610px"}}]}]}]},{type:"condition",query:{"quantities:any":["workflow2"]},children:[{type:"container",title:"Workflow",children:[{type:"workflow",md:12,sx:{height:"600px"}}]}]}]},re={id:K,label:Z,query:ee,overview:te},ie="nexus",ne="NeXus",oe={"sections:any":["pynxtools.nomad.schema.Root"]},ae={type:"container",editable:!1,children:[{type:"container",title:"Material",md:6,children:[{type:"quantity",property:"results/material/chemical_formula_iupac",md:6},{type:"quantity",property:"results/material/chemical_formula_reduced",md:6},{type:"quantity",property:"results/material/chemical_formula_hill",md:6},{type:"quantity",property:"results/material/chemical_formula_descriptive",md:6},{type:"quantity",property:"results/material/elements",direction:"horizontal",md:6},{type:"quantity",property:"results/material/n_elements",md:6}]},{type:"container",title:"NeXus Entry",md:6,children:[{type:"quantity",property:"data/ENTRY/0/definition__field",md:6},{type:"quantity",property:"data/ENTRY/0/definition___version",md:6},{type:"quantity",property:"data/ENTRY/0/title__field",md:12},{type:"quantity",property:"data/ENTRY/0/start_time__field",md:6},{type:"quantity",property:"data/ENTRY/0/end_time__field",md:6}]},{type:"hdf5",property:"metadata/mainfile",title:"NeXus HDF5",md:12,sx:{height:"700px"}}]},se={id:ie,label:ne,query:oe,overview:ae},le="simulation",pe="Simulation",ce={"quantities:any":["results.method.simulation.program_name"]},ye={type:"container",editable:!1,children:[{type:"condition",query:{"quantities:any":["results.material.topology"]},children:[{type:"material",title:"Material",md:7,sx:{height:"650px"}}]},{type:"condition",query:{"quantities:any":["results.method.simulation"]},children:[{type:"container",title:"Method",md:5,sx:{height:"650px"},children:[{type:"container",title:"Program",children:[{type:"quantity",property:"results/method/simulation/program_name",sm:6},{type:"quantity",property:"results/method/simulation/program_version",sm:6}]},{type:"condition",query:{"quantities:any":["results.method.simulation.dft"]},children:[{type:"container",title:"DFT",children:[{type:"quantity",property:"results/method/simulation/dft/dft_type",sm:6},{type:"quantity",property:"results/method/simulation/dft/basis_set_type",sm:6},{type:"quantity",property:"results/method/simulation/dft/core_electron_treatment",sm:6},{type:"quantity",property:"results/method/simulation/dft/jacobs_ladder",sm:6},{type:"quantity",property:"results/method/simulation/dft/xc_functional_names",direction:"horizontal"}]}]},{type:"condition",query:{"quantities:any":["results.properties.thermodynamic.trajectory"]},children:[{type:"container",title:"Molecular dynamics",children:[{type:"quantity",property:"workflow2/method/thermodynamic_ensemble",sm:5},{type:"quantity",property:"workflow2/method/integration_timestep",sm:7,displayUnit:"fs"},{type:"quantity",property:"workflow2/method/thermostat_parameters/0/thermostat_type",sm:4},{type:"quantity",property:"workflow2/method/thermostat_parameters/0/reference_temperature",sm:4},{type:"quantity",property:"workflow2/method/thermostat_parameters/0/coupling_constant",label:"Thermostat coupling constant",sm:4,displayUnit:"fs"},{type:"quantity",property:"workflow2/method/barostat_parameters/0/barostat_type",sm:12},{type:"quantity",property:"workflow2/method/barostat_parameters/0/reference_pressure",sm:6,displayUnit:"GPa"},{type:"quantity",property:"workflow2/method/barostat_parameters/0/coupling_constant",label:"Barostat coupling constant",sm:6,displayUnit:"fs"}]}]},{type:"condition",query:{"quantities:any":["results.properties.geometry_optimization"]},children:[{type:"container",title:"Geometry optimization",children:[{type:"quantity",property:"workflow2/method/type"},{type:"quantity",property:"workflow2/method/convergence_tolerance_energy_difference",displayUnit:"eV"},{type:"quantity",property:"workflow2/method/convergence_tolerance_displacement_maximum",displayUnit:"angstrom"}]}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment","results.properties.electronic.dos_electronic","results.properties.electronic.dos_electronic_new","results.properties.electronic.band_gap"]},children:[{type:"container",title:"Electronic properties",children:[{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment"]},children:[{type:"band_structure_electronic",title:"Band structure",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_structure_electronic.segment"]},children:[{type:"brillouin_zone_electronic",title:"Brillouin zone",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.dos_electronic","results.properties.electronic.dos_electronic_new"]},children:[{type:"dos_electronic",title:"Density of states",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.electronic.band_gap"]},children:[{type:"table",title:"Band gap",property:"results/properties/electronic/band_gap",columns:[{label:"Channel",type:"quantity",property:"index"},{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"eV"},{label:"Label",type:"quantity",property:"provenance/label"}],md:"grow",sx:{height:"348px"}}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon","results.properties.vibrational.dos_phonon","results.properties.vibrational.heat_capacity_constant_volume","results.properties.vibrational.energy_free_helmholtz"]},children:[{type:"container",title:"Vibrational properties",md:12,children:[{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon"]},children:[{type:"band_structure_vibrational",title:"Phonon Band structure",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.band_structure_phonon.reciprocal_cell"]},children:[{type:"brillouin_zone_vibrational",title:"Brillouin zone",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.dos_phonon"]},children:[{type:"dos_vibrational",title:"Phonon Density of States",md:12,lg:6,xl:3,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.heat_capacity_constant_volume"]},children:[{type:"heat_capacity",title:"Heat Capacity at Constant Volume",md:12,lg:6,xl:6,sx:{height:"450px"}}]},{type:"condition",query:{"quantities:any":["results.properties.vibrational.energy_free_helmholtz"]},children:[{type:"helmholtz_free_energy",title:"Helmholtz Free Energy",md:12,lg:6,xl:6,sx:{height:"450px"}}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.geometry_optimization.energies"]},children:[{type:"container",title:"Geometry Optimization",children:[{type:"geometry_optimization",title:"Energy convergence",sx:{height:"500px"}},{type:"container",title:"Convergence results",children:[{type:"quantity",property:"results/properties/geometry_optimization/final_energy_difference",sm:4,displayUnit:"eV"},{type:"quantity",property:"results/properties/geometry_optimization/final_displacement_maximum",sm:4,displayUnit:"angstrom"},{type:"quantity",property:"results/properties/geometry_optimization/final_force_maximum",sm:4,displayUnit:"a_u_force"}]}]}]},{type:"condition",query:{"quantities:any":["results.properties.thermodynamic.trajectory"]},children:[{type:"container",title:"Thermodynamic properties",children:[{type:"trajectories",title:"Trajectory",sx:{height:"600px"}}]}]},{type:"condition",query:{"quantities:any":["results.properties.mechanical.energy_volume_curve","results.properties.mechanical.bulk_modulus","results.properties.mechanical.shear_modulus"]},children:[{type:"container",title:"Mechanical properties",children:[{type:"energy_volume_curve",title:"Energy volume curve",lg:12,sx:{height:"610px"}},{type:"condition",query:{"quantities:any":["results.properties.mechanical.bulk_modulus"]},children:[{type:"table",title:"Bulk modulus",property:"results/properties/mechanical/bulk_modulus",columns:[{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"GPa"}],md:12,lg:"grow",sx:{height:"610px"}}]},{type:"condition",query:{"quantities:any":["results.properties.mechanical.shear_modulus"]},children:[{type:"table",title:"Shear modulus",property:"results/properties/mechanical/shear_modulus",columns:[{type:"quantity",property:"type"},{type:"quantity",property:"value",displayUnit:"GPa"}],md:12,lg:"grow",sx:{height:"610px"}}]}]}]},{type:"condition",query:{"quantities:any":["workflow2"]},children:[{type:"container",title:"Workflow",children:[{type:"workflow",md:12,sx:{height:"600px"}}]}]}]},ue={id:le,label:pe,query:ce,overview:ye},de="solar_cell",me="Solar cell",he={"sections:any":["nomad.datamodel.results.SolarCell"]},_e={type:"container",editable:!1,children:[{type:"condition",query:{"quantities:any":["results.material.topology"]},children:[{type:"material",title:"Material",md:7,sx:{height:"650px"}}]},{type:"plot",title:"Device structure",property:"data/figures",md:5,sx:{height:"650px"}},{type:"container",title:"Solar cell properties",sx:{height:"330px"},children:[{type:"quantity",property:"results/properties/optoelectronic/solar_cell/efficiency",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/fill_factor",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/open_circuit_voltage",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/short_circuit_current_density",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/illumination_intensity",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/device_area",sm:3},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/device_architecture",sm:6},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/absorber",sm:6},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/absorber_fabrication",sm:6},{type:"quantity",property:"results/properties/optoelectronic/solar_cell/device_stack",direction:"horizontal",sm:12}]}]},xe={id:de,label:me,query:he,overview:_e};function ge(t,r){const o=t.find(a=>N(a.query,r));return(o?[o]:[]).sort((a,n)=>a.priority-n.priority).map(a=>{const n=T(a);return n.overview=U(n.overview,r),n})}const qe=()=>d.useMemo(()=>[ue,J,se,xe,re],[]);function be({datasets:t}){return e.jsx(f,{label:"Datasets",children:e.jsx(v,{sx:{width:"100%"},children:t?t.map(r=>e.jsx(ve,{dataset:r},r.dataset_id)):e.jsx(D,{children:"no datasets"})})})}function ve({dataset:t}){return e.jsx(e.Fragment,{children:e.jsxs(l,{value:t.dataset_name,label:"Dataset name",fullWidth:!0,children:[e.jsx(m,{}),e.jsx(p,{})]})})}function fe({...t}){const{navigate:r}=E(),o=0,h=d.useCallback(()=>{r({path:"archive",search:{}})},[r]);return e.jsx(x,{expanded:!1,selected:t.selected,highlighted:t.selected,onSelect:h,expandable:!0,label:"archive",sx:{"&>.NavItem-button":{paddingLeft:void 0},"&.NavItem-root":{position:"relative"},...o>0}})}function we({entry:t}){return e.jsx(f,{label:"entry",title:"",children:e.jsxs(v,{sx:{width:"100%"},children:[e.jsxs(l,{value:t.entry_id,label:"Entry ID",fullWidth:!0,children:[e.jsx(S,{}),e.jsx(p,{})]}),e.jsxs(l,{value:t.entry_type,label:"Entry type",fullWidth:!0,children:[e.jsx(m,{}),e.jsx(p,{})]})]})})}function je({entry:t}){return e.jsx(f,{label:"Processing",title:"",children:e.jsxs(v,{sx:{width:"100%"},children:[e.jsxs(l,{value:t.mainfile,label:"Mainfile",fullWidth:!0,children:[e.jsx(m,{displayStringProps:{ellipsis:"left"}}),e.jsx(p,{})]}),e.jsxs(l,{value:t.last_processing_time,label:"Last processing time",fullWidth:!0,children:[e.jsx(M,{variant:"datetime"}),e.jsx(p,{})]}),e.jsxs(l,{value:t.nomad_version,label:"Processing version",fullWidth:!0,children:[e.jsx(m,{}),e.jsx(p,{})]}),e.jsxs(l,{value:t.parser_name,label:"Parser name",fullWidth:!0,children:[e.jsx(m,{}),e.jsx(p,{})]})]})})}function Te(){const t=B(),{url:r,params:o,fullMatch:h,index:a}=E(),n=h[a+1]?.path,c=n===""?"overview":n.startsWith("archive")?"archive":n,{preview:w}=G(),{pageVariant:P,isPage:L}=V(),g=qe(),[q,j]=d.useState(),z=d.useCallback(b=>{j(s=>{if(!s)return s;const y=s.matchingLayouts.find(_=>_.id===b);return y?{...s,layout:y}:s})},[]);if(d.useEffect(()=>{if(!t)return;const b=$();async function s(){if(!t)return;const{data:y}=await t.get(`entries/${o.entryId}?${b.exclude.map(C=>`exclude=${C}`).join("&")}`),_=ge(g,y);j({index:y,layout:_[0],matchingLayouts:_,setLayout:z,layouts:g,preview:w})}s()},[t,o.entryId,g,z,w]),!q)return null;const i=q.index;return e.jsx(W,{variant:P,maxWidth:"1400px",navigation:e.jsxs(R,{children:[e.jsxs(x,{container:!0,expandable:!0,expanded:!0,sx:{mx:1},children:[L&&e.jsx(x,{label:"overview",selected:c==="overview",highlighted:c==="overview",component:k,to:r({path:""})}),e.jsx(fe,{label:"archive",expanded:c!=="archive"?!1:void 0,selected:c==="archive"}),e.jsx(x,{label:"logs",selected:c==="logs",highlighted:c==="logs",component:k,to:r({path:"logs"})})]}),e.jsx(u,{}),e.jsx(we,{entry:i}),e.jsx(u,{}),e.jsx(je,{entry:i}),e.jsx(u,{}),e.jsx(I,{project:{published:i.published,with_embargo:i.with_embargo}}),e.jsx(u,{}),e.jsx(F,{project:{upload_id:i.upload_id,upload_name:i.upload_name,upload_create_time:i.upload_create_time,process_status:i.process_status}}),i.datasets?.length?e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsx(be,{datasets:i.datasets})]}):null]}),children:e.jsx(H.Provider,{value:q,children:e.jsx(A,{})})})}export{Te as default};
