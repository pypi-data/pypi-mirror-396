import{r,j as e,S as j,ba as f,a5 as g,v as y,k as T,l as D,T as c}from"./material-react-table-CoLKVKmx.js";import{aR as C,aS as b,a as w,aT as S,aU as v,aV as A,aW as _,aX as I,as as M}from"./index-Bzcp6Isa.js";import"./rehype-prism-plus-Ct2a49xA.js";import"./msw-DptHyBtO.js";import"./plotly.js-dist-min-Bl-VrBG9.js";function d(t){return Math.trunc(+C(t)/1e3)}function V(t,i,a){return b(t,-1,a)}function E({sx:t}){const[i,a]=r.useState(),[n,l]=r.useState(new Date),p=w(),u=S?.services?.app_token_max_expires_in??2880*60;let o;o=V(v(new Date,u)),A(o)||(o=void 0),r.useEffect(()=>{if(!n)return;const s=_(n),k=d(s)-d(new Date);p?.appToken(k).then(m=>a(m.app_token)).catch(()=>{a(void 0)})},[p,n]);const x=s=>s&&l(new Date(s)),h=()=>i&&navigator.clipboard.writeText(i);return e.jsx(e.Fragment,{children:e.jsxs(j,{direction:"row",alignItems:"center",gap:1,sx:t,children:[e.jsx(f,{disablePast:!0,maxDate:o,value:n,format:"yyyy-MM-dd",onChange:x}),e.jsx(g,{title:"Copy token to clipboard",children:e.jsx(y,{sx:{height:"fit-contents"},onClick:h,children:e.jsx(I,{})})})]})})}function F(){return e.jsx(T,{children:e.jsxs(D,{children:[e.jsx(c,{variant:"h2",children:"App Token"}),e.jsx(c,{children:"A script/app can interact with NOMAD using your account via an app token."}),e.jsx(c,{children:"Change the expiration date below and click on the button to copy the app token to your clipboard."}),e.jsx(E,{sx:{mt:1}})]})})}function L(){return e.jsxs(e.Fragment,{children:[e.jsx(M,{children:"Tokens"}),e.jsx(F,{})]})}export{F as AppTokenCard,L as default};
