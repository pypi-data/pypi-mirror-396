import{j as e,r as s,B as d,ad as h}from"./material-react-table-B5vcPysv.js";import{u as x,L as y}from"./Layout-BXOkDqUB.js";import{a as E}from"./PropertyEditor-CLt9e0xI.js";import{B as f,F as l}from"./index-Ch6wx3XL.js";function j(o,t){return function(r){return e.jsx(E,{...t,children:e.jsx(o,{...r})})}}function i({children:o,toolKey:t,sx:a}){const{registerTool:r,unregisterTool:n}=f();return s.useEffect(()=>(r(t,e.jsx(d,{sx:a,children:o})),()=>n(t)),[r,n,t,o,a]),""}function g({layoutRef:o,onLayoutChange:t}){const[a,r]=s.useState(void 0),n=s.useCallback(u=>{r(u.target.value);try{const c=JSON.parse(u.target.value);t?.(c)}catch{}},[r,t]);return e.jsx(h,{hiddenLabel:!0,variant:"filled",multiline:!0,fullWidth:!0,value:a||JSON.stringify(o.current,null,2),onChange:n})}function m({onLayoutChange:o,layout:t}){const{changeStack:a}=x(),r=s.useRef(t);return e.jsxs(e.Fragment,{children:[t&&e.jsx(i,{toolKey:"layout",children:e.jsx(l,{value:t})}),t&&e.jsx(i,{toolKey:"layout-editor",children:e.jsx(g,{layoutRef:r,onLayoutChange:o})}),e.jsx(i,{toolKey:"changes",children:e.jsx(l,{value:a})})]})}const D=j(function({layout:t}){const[a,r]=s.useState(void 0),n=s.useCallback(u=>{r(u)},[r]);return e.jsxs(e.Fragment,{children:[e.jsx(m,{onLayoutChange:n,layout:t}),e.jsx(y,{layout:a||t})]})},{message:"Error in EntryDataEditor"});export{D as E};
