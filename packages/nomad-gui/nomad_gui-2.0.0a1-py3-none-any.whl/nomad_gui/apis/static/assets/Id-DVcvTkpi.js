import{r as s,j as c,v as S,aw as G,av as J,a4 as N,aZ as Q,B as z,T as U,a6 as X,a_ as W,I as Y}from"./material-react-table-B5vcPysv.js";import{a as E,b as $}from"./useLocalState-DdvWN1Wu.js";import{ar as ee,as as B,ao as te,ap as ne,j as re,at as D}from"./index-Ch6wx3XL.js";function oe(e,t){t===void 0&&(t=0);var n=s.useRef(!1),r=s.useRef(),a=s.useRef(e),o=s.useCallback(function(){return n.current},[]),l=s.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,a.current()},t)},[t]),i=s.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return s.useEffect(function(){a.current=e},[e]),s.useEffect(function(){return l(),i},[t]),[o,i,l]}function se(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=oe(e,t),a=r[0],o=r[1],l=r[2];return s.useEffect(l,n),[a,o]}var ae=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=ee({width:B?window.innerWidth:e,height:B?window.innerHeight:t}),r=n[0],a=n[1];return s.useEffect(function(){if(B){var o=function(){a({width:window.innerWidth,height:window.innerHeight})};return te(window,"resize",o),function(){ne(window,"resize",o)}}},[]),r};const V=s.createContext({});function j(e){return{...s.useContext(V),...e}}function ie({propagate:e=!1,children:t,...n}){const r=j(n),a=e?r:n;return c.jsx(V.Provider,{value:a,children:t})}const le=S(G)(({theme:e})=>({display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"nowrap",textOverflow:"ellipsis",overflow:"visible","& div:first-of-type":{marginLeft:e.spacing(1)},"& .MuiChip-root":{marginTop:2,marginLeft:e.spacing(.5)},"& .MuiIconButton-root":{}}));function H({...e}){const{children:t,label:n,helperText:r,focused:a,labelActions:o,fullWidth:l,error:i,edit:d,...u}=e;return c.jsxs(J,{fullWidth:l,variant:"standard",error:i,focused:a,size:"small",...u,children:[n&&c.jsxs(le,{shrink:!0,htmlFor:"input",children:[n,o]}),c.jsx(N,{direction:"row",width:"100%",children:t}),(d||i)&&r&&c.jsx(Q,{children:r})]})}function ce(e){const{editable:t,edit:n,onEditChange:r,error:a,helperText:o,onError:l,focused:i,onFocus:d,onBlur:u,...w}=j(e),[x,v]=E(t?n===void 0?!0:n:!1,{onChange:r}),[f,m]=E(a?o:void 0,{onChange:h=>{l?.(h)}}),[C,g]=E(!1),I=s.useCallback(h=>{g(!0),d?.(h)},[d,g]),P=s.useCallback(h=>{g(!1),u?.(h)},[u,g]);return{...w,editable:t,edit:x,onEditChange:v,error:!!f,helperText:f||o,onError:m,focused:C,onBlur:P,onFocus:I}}function ve({children:e,showLabel:t=!1,...n}){const{label:r,labelActions:a,focused:o,helperText:l,...i}=ce(n),d={fullWidth:i.fullWidth,edit:i.edit,error:i.error,helperText:l,focused:o},u={...i};return t?(d.label=r,d.labelActions=a):(u.label=r,u.labelActions=a),c.jsx(ie,{...u,children:c.jsx(H,{...d,children:e})})}function ue({ellipsis:e="right",placeholder:t="",tooltip:n,sx:r={},endAdornment:a,children:o,...l}){const i=s.useRef(null),[d,u]=s.useState(!1),w=ae();s.useLayoutEffect(()=>{const f=i.current;re(f!==null,"Typography ref has to be set"),u(f.clientWidth<f.scrollWidth||f.clientHeight<f.scrollHeight)},[w.width,w.height,u,i]);const x=o===""||o===void 0,v=c.jsxs(z,{sx:{display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:1,alignItems:"center",width:"100%",...r},children:[c.jsx(U,{ref:i,noWrap:!0,...l,sx:{...x&&{color:"text.disabled"},overflow:"hidden",textOverflow:"ellipsis",...e==="left"&&{direction:"rtl",textAlign:"left","&::before":{content:'"â€Ž"'}}},children:x?t:o}),a&&c.jsx(z,{sx:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},children:a})]});return n||d?c.jsx(X,{title:n||o,children:v}):v}const de={standard:W,h1:S(W)(({theme:e})=>({color:e.palette.primary.main,...D.typography.h1,lineHeight:"1em"})),h2:S(W)(({theme:e})=>({color:e.palette.primary.main,...D.typography.h2,lineHeight:"1em"}))};function fe({variant:e="standard",displayValue:t,displayStringProps:n,inputRef:r,inputProps:a,submitOnTypingDelay:o=500,sx:l,table:i,...d}){const{edit:u,editable:w,error:x,onChange:v,placeholder:f,value:m,fullWidth:C,onBlur:g,onFocus:I,onInputChange:P,onSubmit:h,label:T,labelActions:O,actions:R}=j(d),A=u===void 0?w:u,y=$(m),[k,L,F]=E(m,{onChange:P}),K=s.useCallback(p=>{L(p.target.value)},[L]),b=s.useCallback(()=>{const p=F.current;F.current!==y.current&&v?.(p===""?void 0:p),h?.(p||"")},[F,y,v,h]),M=s.useCallback(p=>{b(),g?.(p)},[g,b]),_=s.useCallback(p=>{p.key==="Enter"&&b()},[b]);se(()=>{o>=0&&k!==y.current&&b()},o<=0?28:o,[k,y,b]);const Z=i?Y:de[e],q=A?c.jsx(Z,{value:k||"",onChange:K,placeholder:f,onKeyDown:_,fullWidth:C,sx:l,size:"small",endAdornment:R,inputRef:r,...a}):c.jsx(ue,{variant:e==="standard"?"body1":e,placeholder:f,tooltip:t&&m,...n,sx:{marginTop:T?2:0,padding:"4px 0 4px",...l},color:x?"error":"text.primary",endAdornment:R,children:t||m||""});return c.jsx(H,{variant:A?"filled":"standard",fullWidth:C,hiddenLabel:T===void 0,error:x,onBlur:M,onFocus:I,size:"small",margin:"none",label:T,labelActions:O,children:q})}function ge({abbreviated:e,...t}){const{value:n}=j(t),r=e?n?.substring(0,8):n;return c.jsx(fe,{...t,displayValue:r,displayStringProps:{variant:"monospace"}})}export{ve as C,ue as D,ge as I,ie as P,fe as T,H as V,se as a,V as p,j as u};
