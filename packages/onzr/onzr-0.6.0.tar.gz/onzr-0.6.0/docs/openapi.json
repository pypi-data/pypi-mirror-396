{"openapi": "3.1.0", "info": {"title": "Onzr", "version": "0.1.0"}, "paths": {"/queue/": {"get": {"summary": "Queue List", "description": "List queue tracks.", "operationId": "queue_list_queue__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QueuedTracks"}}}}}}, "post": {"summary": "Queue Add", "description": "Add tracks to queue given their identifiers.", "operationId": "queue_add_queue__post", "requestBody": {"content": {"application/json": {"schema": {"items": {"type": "integer"}, "type": "array", "title": "Track Ids"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ServerMessage"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Queue Clear", "description": "Clear tracks queue.", "operationId": "queue_clear_queue__delete", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ServerState"}}}}}}}, "/queue/{rank}/stream": {"get": {"summary": "Stream Track", "description": "Stream Deezer track given its identifer.", "operationId": "stream_track_queue__rank__stream_get", "parameters": [{"name": "rank", "in": "path", "required": true, "schema": {"type": "integer", "title": "Track queue rank"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/now": {"get": {"summary": "Now Playing", "description": "Get info about current track.", "operationId": "now_playing_now_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayingState"}}}}}}}, "/play": {"post": {"summary": "Play", "description": "Start playing current queue.", "operationId": "play_play_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayQueryParams"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayerControl"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/pause": {"post": {"summary": "Pause", "description": "Pause/resume playing.", "operationId": "pause_pause_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayerControl"}}}}}}}, "/stop": {"post": {"summary": "Stop", "description": "Stop playing.", "operationId": "stop_stop_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayerControl"}}}}}}}, "/next": {"post": {"summary": "Next", "description": "Play next track in queue.", "operationId": "next_next_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayerControl"}}}}}}}, "/previous": {"post": {"summary": "Previous", "description": "Play previous track in queue.", "operationId": "previous_previous_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlayerControl"}}}}}}}, "/state": {"get": {"summary": "State", "description": "Server state.", "operationId": "state_state_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ServerState"}}}}}}}, "/ping": {"get": {"summary": "Ping", "description": "Server ping.", "operationId": "ping_ping_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "PlayQueryParams": {"properties": {"rank": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Rank"}}, "type": "object", "title": "PlayQueryParams", "description": "Play endpoint parameters."}, "PlayerControl": {"properties": {"action": {"type": "string", "title": "Action"}, "state": {"$ref": "#/components/schemas/ServerState"}}, "type": "object", "required": ["action", "state"], "title": "PlayerControl", "description": "Player controls."}, "PlayerState": {"properties": {"state": {"type": "string", "title": "State"}, "length": {"type": "integer", "title": "Length", "default": 0}, "time": {"type": "integer", "title": "Time", "default": 0}, "position": {"type": "number", "title": "Position", "default": 0.0}}, "type": "object", "required": ["state"], "title": "PlayerState", "description": "Detailled player state."}, "PlayingState": {"properties": {"player": {"$ref": "#/components/schemas/PlayerState"}, "track": {"anyOf": [{"$ref": "#/components/schemas/TrackShort"}, {"type": "null"}]}}, "type": "object", "required": ["player"], "title": "PlayingState", "description": "Playing player state."}, "QueueState": {"properties": {"playing": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Playing"}, "queued": {"type": "integer", "title": "Queued"}}, "type": "object", "required": ["playing", "queued"], "title": "QueueState", "description": "Queue state."}, "QueuedTrack": {"properties": {"current": {"type": "boolean", "title": "Current"}, "position": {"type": "integer", "title": "Position"}, "track": {"$ref": "#/components/schemas/TrackShort"}}, "type": "object", "required": ["current", "position", "track"], "title": "QueuedTrack", "description": "Queued track."}, "QueuedTracks": {"properties": {"playing": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Playing"}, "tracks": {"items": {"$ref": "#/components/schemas/QueuedTrack"}, "type": "array", "title": "Tracks"}}, "type": "object", "required": ["playing", "tracks"], "title": "QueuedTracks", "description": "Queued Tracks list."}, "ServerMessage": {"properties": {"message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["message"], "title": "ServerMessage", "description": "Generic server message."}, "ServerState": {"properties": {"player": {"type": "string", "title": "Player"}, "queue": {"$ref": "#/components/schemas/QueueState"}}, "type": "object", "required": ["player", "queue"], "title": "ServerState", "description": "Onzr server state."}, "TrackShort": {"properties": {"id": {"type": "integer", "title": "Id"}, "title": {"type": "string", "title": "Title"}, "album": {"type": "string", "title": "Album"}, "artist": {"type": "string", "title": "Artist"}, "release_date": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Release Date"}}, "type": "object", "required": ["id", "title", "album", "artist"], "title": "TrackShort", "description": "A small model to represent a Track."}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}
