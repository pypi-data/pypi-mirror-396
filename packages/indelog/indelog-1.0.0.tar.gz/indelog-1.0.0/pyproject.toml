# Define project metadata and tool configurations according to PEP 621.

[build-system]
requires = [
    "setuptools>=61.0.0",
    "wheel"
]
build-backend = "setuptools.build_meta"


# PROJECT METADATA
[project]
name = "indelog"
version = "1.0.0"
description = "An extension of the standard logging package with indentation, severity coloring, default formatting and saving, trace level."
keywords = ["logging", "indentation", "tracing"]
readme = "README.md"
authors = [
    {name = "Peter Gee", email = "petergee302@gmail.com"}
]
license = {text = "MIT"}
requires-python = ">=3.10"

# Core application dependencies (installed via 'pip install .')
dependencies = []

[project.optional-dependencies]
# Dependencies only needed for development, testing, and linting
dev = [
    "pyright",      # Linter
    "pytest",       # Test Executor
]
publish = [
    "setuptools",   # setup
    "build",        # build tar.gz and wheel binaries
    "twine",        # upload
]

# TOOL CONFIGURATION

[tool.pyright]
include = ["src", "tests", "examples"]
exclude = ["**/*.egg-info", "**/__pycache__"]

pythonPlatform   = "Linux"
typeCheckingMode = "standard"
pythonVersion    = "3.10"
useLibraryCodeForTypes             = true
reportMissingImports               = true
reportImportCycles                 = "error"
reportUnusedClass                  = "error"
reportUnusedFunction               = "error"
reportUnusedVariable               = "error"
reportUnusedExpression             = "error"
reportIncompatibleVariableOverride = "error"
reportDuplicateImport              = "error"
reportPossiblyUnboundVariable      = "error"
reportUntypedBaseClass             = "warning"
reportPrivateUsage                 = "warning"
reportUnnecessaryIsInstance        = "warning"
reportUnnecessaryCast              = "warning"
reportUnnecessaryComparison        = "warning"
reportAssertAlwaysTrue             = "warning"
reportImplicitStringConcatenation  = "warning"
reportUnnecessaryTypeIgnoreComment = "warning"


[tool.pytest.ini_options]
minversion = "7.0"
addopts = [
    "--strict-markers", # Warn about unknown markers
    "--strict-config",  # Warn about unknown configuration options
    "--verbose",
    "--doctest-modules",
    "--ignore=scripts"
]
testpaths = ["tests"]
python_files = "test_*.py"
