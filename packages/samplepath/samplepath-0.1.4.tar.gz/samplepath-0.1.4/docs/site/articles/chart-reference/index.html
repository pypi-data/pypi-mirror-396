<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Chart Reference</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

    html {
      box-sizing: border-box;
      font-size: 100%;
    }

    *, *:before, *:after {
      box-sizing: inherit;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: Nunito, Arial, sans-serif;
      font-size: 1.1rem;
      line-height: 1.75;
      background: #fff;
      color: #111;

      /* Remove Pandoc's injected width restrictions */
      max-width: none !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
    }

    .wrapper {
      display: flex;
      justify-content: center;
    }

    #page {
      max-width: 880px;
      width: 100%;
      padding: 2rem 1rem;
    }

    h1, h2, h3, h4 {
      font-weight: bold;
      margin-top: 2rem;
      margin-bottom: 1rem;
      line-height: 1.4;
    }

    p {
      margin: 1.25rem 0;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 2rem auto;
    }

    pre {
      background: #f8f8f8;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 6px;
    }

    code {
      font-family: SFMono-Regular, Consolas, monospace;
      background: #f5f5f5;
      padding: 0.2em 0.4em;
      border-radius: 4px;
    }

    blockquote {
      margin: 2rem 0;
      padding-left: 1rem;
      border-left: 4px solid #ddd;
      color: #666;
      font-style: italic;
    }

    .subtitle, .author, .date {
      color: #666;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      text-align: center;
    }

    nav#TOC {
      margin: 2rem 0;
      padding: 1rem;
      border: 1px solid #eee;
      background: #fafafa;
      overflow-x: auto;
    }

    figure {
      margin: 2rem auto;
      text-align: center;
    }

    figure img {
      width: 100%;
      height: auto;
      display: block;
      margin: 2rem auto;
    }

    figcaption {
      font-size: 0.9em;
      color: #555;
      margin-top: 0.75rem;
    }

    header#title-block-header {
      text-align: center;
    }

    #presence-link {
      margin: 3rem auto 0;
      padding: 1.25rem 1rem 1.5rem;
      text-align: center;
      font-size: 0.95rem;
      color: #444;
      border-top: 1px solid #e5e7ea;
      background: #f9f9f9;
      border-radius: 8px 8px 0 0;
    }

    #presence-link a {
      text-decoration: none;
      color: #222;
      font-weight: 600;
    }

    #presence-link a:hover {
      text-decoration: underline;
    }

    .site-nav {
      margin: 0 auto 2rem;
      padding: 0.75rem 1rem;
      background: #f6f7f8;
      border: 1px solid #e5e7ea;
      border-radius: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem 1.25rem;
      justify-content: center;
      font-size: 0.98rem;
    }

    .site-nav a {
      color: #222;
      text-decoration: none;
      font-weight: 600;
      padding: 0.2rem 0.35rem;
    }

    .site-nav a:hover {
      text-decoration: underline;
    }


    @media screen and (min-width: 1024px) {
      body {
        font-size: 1.15rem;
      }

      #page {
        padding: 3rem 2rem;
      }
    }

  </style>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
  <div class="wrapper">
    <div id="page">
      <nav class="site-nav" aria-label="Primary">
        <a href="https://samplepath.pcalc.org/index.html">Home</a>
        <a href="https://samplepath.pcalc.org/articles/package-overview/index.html">Package Overview</a>
        <a href="https://samplepath.pcalc.org/articles/cli/index.html">Command Line</a>
        <a href="https://samplepath.pcalc.org/articles/chart-reference/index.html">Chart Reference</a>
        <a href="https://samplepath.pcalc.org/examples/README.html">Examples</a>
      </nav>
                  <header id="title-block-header">
        <h1 class="title"><strong>Chart Reference</strong></h1>

        <p class="author"><p><a href="https://github.com/presence-calculus/samplepath"><em>The
Samplepath Analysis Toolkit</em></a></p></p>

              </header>
                  <div class="header-image">
        <img src="../../assets/sample_path_flow_metrics.png" alt="Header image"/>
      </div>
                  <nav id="TOC" role="doc-toc">
        <h2 id="toc-title">Contents</h2>
        <ul>
        <li><a href="#what-is-sample-path-analysis"
        id="toc-what-is-sample-path-analysis">1 What is Sample Path
        Analysis?</a>
        <ul>
        <li><a href="#the-charts." id="toc-the-charts.">1.1 The
        charts.</a></li>
        </ul></li>
        <li><a href="#a-worked-example" id="toc-a-worked-example">2 A
        Worked Example</a></li>
        <li><a href="#sample-path-flow-metrics"
        id="toc-sample-path-flow-metrics">3 Sample Path Flow Metrics</a>
        <ul>
        <li><a href="#the-core-calculations-for-littles-law"
        id="toc-the-core-calculations-for-littles-law">3.1 The Core
        Calculations for Little’s Law</a></li>
        <li><a href="#summary-chart" id="toc-summary-chart">3.2 Summary
        chart</a></li>
        <li><a href="#component-metrics" id="toc-component-metrics">3.3
        Component metrics</a>
        <ul>
        <li><a href="#the-sample-path-nt"
        id="toc-the-sample-path-nt">The sample path <span
        class="math inline">\(N(t)\)</span></a></li>
        <li><a href="#the-area-under-the-sample-path"
        id="toc-the-area-under-the-sample-path">The area under the
        sample path</a></li>
        <li><a href="#lt-time-average-of-nt"
        id="toc-lt-time-average-of-nt"><span
        class="math inline">\(L(T)\)</span>: Time average of <span
        class="math inline">\(N(t)\)</span></a></li>
        <li><a href="#lambdat-cumulative-arrival-rate"
        id="toc-lambdat-cumulative-arrival-rate"><span
        class="math inline">\(\Lambda(T)\)</span>: Cumulative arrival
        rate</a></li>
        <li><a href="#wt-average-residence-time"
        id="toc-wt-average-residence-time"><span
        class="math inline">\(w(T)\)</span>: Average residence
        time</a></li>
        </ul></li>
        <li><a href="#the-finite-version-of-littles-law"
        id="toc-the-finite-version-of-littles-law">3.4 The finite
        version of Little’s Law</a></li>
        </ul></li>
        </ul>
      </nav>
            <blockquote>
            <blockquote>
            <p><strong>Note: <em>This document is a work in progress.
            This note will be removed when all the charts produced by
            the analysis are documented</em></strong>.</p>
            </blockquote>
            </blockquote>
            <h1 id="what-is-sample-path-analysis">1 What is Sample Path
            Analysis?</h1>
            <p>Sample path analysis is a <em>deterministic</em> analysis
            that can be run on any observed flow process history. It
            lets us reason about the dynamics and stability of flow
            processes over the long run, and in real-time.</p>
            <p>We use sample path analysis to determine whether a
            process is stable, and if not what the causes of instability
            are, and what needs to be done to move the process towards
            operationally acceptable range of stability.</p>
            <p><strong>Please see our technical note</strong>: <a
            href="../../articles/not-statistics">Sample path analysis is
            not a statistical technique.</a></p>
            <h2 id="the-charts.">1.1 The charts.</h2>
            <p>The results of the analysis are a collection of charts
            that are written to an output directory.</p>
            <p>For input <code>events.csv</code>, output is organized as
            follows:</p>
            <div class="sourceCode" id="cb1"><pre
            class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>output-dir<span class="op">&gt;</span>/</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> events/</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">└──</span> <span class="op">&lt;</span>scenario<span class="op">&gt;</span>/                 <span class="co"># e.g., latest</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">├──</span> input/                  <span class="co"># a snapshot  of the input csv data</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">├──</span> core/                   <span class="co"># core flow metrics &amp; tables</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">├──</span> convergence/            <span class="co"># convergence vs divergence</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">├──</span> stability/              <span class="co"># boundedness and existence of limits</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="ex">├──</span> advanced/               <span class="co"># optional deep-dive charts</span></span></code></pre></div>
            <p>This reference describes every chart produced by the
            <code>samplepath</code> CLI, grouped by chart type.</p>
            <h1 id="a-worked-example">2 A Worked Example</h1>
            <p>The example charts in this reference and the underlying
            narrative are discussed in our post <a
            href="https://www.polaris-flow-dispatch.com/i/172332418/sample-path-analysis-a-worked-example">Little’s
            Law in a Complex Adaptive System</a></p>
            <p>The example charts in each section below are drawn from
            the Polaris scenario <a
            href="https://github.com/presence-calculus/samplepath/tree/main/examples/polaris/flow-of-work/complete-stories-outliers-removed">completed-stories-outliers-removed</a>.</p>
            <p>Note: All calculations are done in <em>continuous
            time</em> and all charts report time accumulations in
            hours.</p>
            <h1 id="sample-path-flow-metrics">3 Sample Path Flow
            Metrics</h1>
            <p>Time series charts showing the core functions that govern
            the long run dynamics of a <a
            href="https://www.polaris-flow-dispatch.com/i/172332418/flow-processes">flow
            process</a>.</p>
            <blockquote>
            <p>To keep things grounded think of the csv file that you
            are providing as input to the analysis as the flow process
            under analysis.</p>
            <p>The current version of the library only analyzes binary
            flow processes - where start and end dates represent
            arrivals/departures events, the effect we are measuring is
            the presence or absence of items in the process, and the
            sample path represents the <strong>counting
            process</strong>: the number of items present in the process
            at any moment in time (aka the WIP).</p>
            <p>As we will note along the way, <strong>every
            concept</strong> in this document generalizes even for the
            much more general forms of flow processes once you plug in a
            different sample path. In particular, the set of outputs
            produced by sample path analysis are
            <strong>identical</strong> even after generalization!</p>
            <p>This is why this set of charts is the
            <strong>foundation</strong> of flow process dynamics.</p>
            </blockquote>
            <p><strong>Conventions</strong></p>
            <ul>
            <li><p>All charts are defined over a finite observation
            horizon of length <span
            class="math inline">\(T_{\max}\)</span>.</p></li>
            <li><p>Lower-case <span class="math inline">\(t\)</span> is
            a parameter denoting <em>instantaneous</em> time.</p>
            <p>Functions of <span class="math inline">\(t\)</span> (such
            as <span class="math inline">\(N(t)\)</span>) denote sample
            paths: the values of some measurable property of a process
            at a specific moment <span class="math inline">\(t \in
            [0,\,T_{\max}]\)</span>.</p></li>
            <li><p>Upper-case <span class="math inline">\(T\)</span> is
            a <em>prefix parameter</em>: a scalar value that determines
            a <em>time interval</em> <span
            class="math inline">\([0,\,T]\)</span>.</p>
            <p>Functions of <span class="math inline">\(T\)</span> (such
            as <span class="math inline">\(L(T)\)</span>, <span
            class="math inline">\(\Lambda(T)\)</span>, and <span
            class="math inline">\(w(T)\)</span> below) are
            <em>functionals</em>: functions that take a sample path as
            input and compute a scalar value from the behavior of that
            function over that interval <span
            class="math inline">\([0,T]\)</span>. Here <span
            class="math inline">\(T\)</span> can range over any value in
            the observation window <span
            class="math inline">\((0,\,T_{\max}]\)</span>.</p>
            <p>These functionals are purely deterministic, pathwise
            calculations (definite integrals in our case) and should not
            be confused with statistical aggregates.</p></li>
            </ul>
            <h2 id="the-core-calculations-for-littles-law">3.1 The Core
            Calculations for Little’s Law</h2>
            <p>The input to the analysis is a sample path <span
            class="math inline">\(N(t)\)</span>.</p>
            <p>There are four core functionals:</p>
            <ul>
            <li><span class="math inline">\(H(T)\)</span>: the area
            under the sample path over <span
            class="math inline">\([0,T]\)</span>.</li>
            <li><span class="math inline">\(L(T)\)</span>: the time
            average of <span class="math inline">\(N(t)\)</span>,
            defined as <span
            class="math inline">\(L(T)=\frac{H(T)}{T}\)</span>.</li>
            <li><span class="math inline">\(\Lambda(T)\)</span>: the
            cumulative arrival rate, defined as <span
            class="math inline">\(\Lambda(T)=\frac{A(T)}{T}\)</span>.</li>
            <li><span class="math inline">\(w(T)\)</span>: the average
            residence time, defined as <span
            class="math inline">\(w(T)=\frac{H(T)}{A(T)}\)</span>.</li>
            </ul>
            <p>From these definitions it follows that</p>
            <p><span class="math display">\[
            L(T) = \frac{H(T)}{T}
                 = \frac{A(T)}{T}.\frac{H(T)}{A(T)}.
            \]</span></p>
            <p>Equivalently,</p>
            <p><span class="math display">\[
            L(T) = \Lambda(T).w(T).
            \]</span></p>
            <p>This is the finite version of Little’s Law.</p>
            <p>It is a <em>deterministic identity</em> that holds for
            every finite observation window <span
            class="math inline">\([0,T]\)</span> with <span
            class="math inline">\(0 &lt; T &lt; \infty\)</span> and
            <span class="math inline">\(A(T) &gt; 0\)</span>. This
            implies that the three component functions <em>always</em>
            evolve in a way that preserves the identity.</p>
            <p>The finite version of Little’s Law is thus a
            <em>deterministic constraint</em> that governs the global
            dynamics of <em>any</em> flow process, <em>even ones that
            operate in complex adaptive systems</em>. It is the
            foundation for adapting Little’s Law for use in complex
            systems.</p>
            <blockquote>
            <p><strong>Note</strong>: As we discuss in the <a
            href="https://www.polaris-flow-dispatch.com/p/the-many-faces-of-littles-law">Many
            Faces of Little’s Law</a>, while the <span
            class="math inline">\(L=\lambda.W\)</span> form of Little’s
            Law is incredibly powerful in operations management, much
            more can be unlocked once we consider the general <span
            class="math inline">\(H=\lambda.G\)</span> form of Little’s
            Law.</p>
            <p>The current version of the library does not provide the
            representations needed to <em>compute sample paths</em> for
            this general form of the law. But the key thing to note is
            that the analysis of this general form and all the charts we
            see here depend only on the <em>shape of the sample
            path</em>.</p>
            <p>Thus what is missing are the sample path construction
            algorithms that lie upstream of this analysis and the
            algorithms to compute the necessary functionals for <span
            class="math inline">\(H(T)\)</span>. Once we provide this.
            the charts we produce are exactly the same for both forms of
            the law. This is why this set of charts is a very powerful
            tool to reason about flow dynamics.</p>
            <p>So while it is easier to relate to these concepts
            expressed in terms of familiar ideas like WIP,
            Arrivals/Departure and Residence Time, all these concepts
            have natural generalizations when viewed from the lens of
            the general <span class="math inline">\(H=\lambda.G\)</span>
            form.</p>
            <p>This is the generalization we provide in <a
            href="https://docs.pcalc.org/articles/intro-to-presence-calculus/">The
            Presence Calculus</a>.</p>
            </blockquote>
            <h2 id="summary-chart">3.2 Summary chart</h2>
            <p>This chart can be found at the top level under
            <code>&lt;scenario&gt;/</code></p>
            <table>
            <colgroup>
            <col style="width: 13%" />
            <col style="width: 37%" />
            <col style="width: 49%" />
            </colgroup>
            <thead>
            <tr>
            <th>File</th>
            <th>What it shows</th>
            <th>What it means</th>
            </tr>
            </thead>
            <tbody>
            <tr>
            <td><code>sample_path_flow_metrics.png</code></td>
            <td>Four-panel vertical stack: <code>N(t)</code>,
            <code>L(T)</code>, <code>Λ(T)</code>, <code>w(T)</code> over
            the same time axis.</td>
            <td>One-glance view of the core finite-window Little’s Law
            metrics and how they co-evolve along the sample path.</td>
            </tr>
            </tbody>
            </table>
            <figure>
            <img src="images/sample_path_flow_metrics.png"
            alt="Fig 1. Sample Path Flow Metrics" />
            <figcaption aria-hidden="true">Fig 1. Sample Path Flow
            Metrics</figcaption>
            </figure>
            <p>In this chart the main thing to pay attention to are the
            <em>relationships</em> between the <em>changes</em> in each
            of these component charts over time.</p>
            <ul>
            <li>At any point in time review whether <span
            class="math inline">\(L(T)\)</span> the time average of
            <span class="math inline">\(N(t)\)</span> is changing or
            flat.</li>
            <li>If it is changing then the finite version of Little’s
            Law tells us that this must be because at least one of <span
            class="math inline">\(\Lambda(T)\)</span> or <span
            class="math inline">\(w(T)\)</span> changed.</li>
            </ul>
            <p>It means that these are the <em>only</em> possible
            explanations:</p>
            <ul>
            <li><span class="math inline">\(\Lambda(T)\)</span> changed:
            more or fewer things are arriving.</li>
            <li><span class="math inline">\(w(T)\)</span> changed:
            things are taking more or less time to finish.</li>
            <li>A combination of the two.</li>
            </ul>
            <p>In the last case there are two possibilities.</p>
            <p>Since <span class="math inline">\(L(T)\)</span> is the
            product of <span class="math inline">\(\Lambda(T)\)</span>
            and <span class="math inline">\(w(T)\)</span>:</p>
            <ul>
            <li>If they move in the same direction they lead to
            proportionally large changes in L(T)</li>
            <li>If they move in opposite directions, the changes cancel
            each other and <span class="math inline">\(L(T)\)</span>
            tends to flatten.</li>
            </ul>
            <p>The last situation happens often when there is an
            internal feedback loop at play in the process.</p>
            <p>All these different types of dynamics can be at play at
            different points in the evolution of the process. This chart
            is the place where all those long run dynamics will show
            most directly and clearly.</p>
            <p>It helps us answer “how did the process evolve to produce
            the flow metrics we are seeing at any given moment in time?”
            These causal relationships allows us to monitor changes in
            L(T) and then immediately investigate the cause of that
            change.</p>
            <p>See our post <a
            href="https://www.polaris-flow-dispatch.com/i/171471652/the-causal-mechanism">The
            Causal Arrow in Little’s Law</a> for more discussion on what
            this means.</p>
            <hr />
            <h2 id="component-metrics">3.3 Component metrics</h2>
            <p>Each panel in the main chart is also written under</p>
            <pre><code>&lt;scenario&gt;/core/</code></pre>
            <table>
            <colgroup>
            <col style="width: 14%" />
            <col style="width: 41%" />
            <col style="width: 44%" />
            </colgroup>
            <thead>
            <tr>
            <th>File</th>
            <th>What it shows</th>
            <th>What it means</th>
            </tr>
            </thead>
            <tbody>
            <tr>
            <td><code>core/sample_path_N.png</code></td>
            <td>Step chart of <code>N(t)</code> (count of elements
            present in the boundary) vs time.</td>
            <td>Raw sample path of WIP/presence: queues, surges, and
            droughts show up directly.</td>
            </tr>
            <tr>
            <td><code>core/time_average_N_L.png</code></td>
            <td>Line chart of <code>L(T)</code> = time-average of
            <code>N(t)</code> over <code>[0, T]</code>.</td>
            <td>Tracks how average WIP over the observation window
            converges (or doesn’t). This is the “L” in Little’s Law,
            measured pathwise.</td>
            </tr>
            <tr>
            <td><code>core/cumulative_arrival_rate_Lambda.png</code></td>
            <td>Line chart of <code>Λ(T)</code> (cumulative arrival rate
            <code>A(T)/(T−t₀)</code>), with optional percentile clipping
            and warmup exclusion.</td>
            <td>Empirical arrival rate over time, with tools to ignore
            early transients and outliers.</td>
            </tr>
            <tr>
            <td><code>core/average_residence_time_w.png</code></td>
            <td>Line chart of <code>w(T)</code> (average residence time
            over the window, in hours).</td>
            <td>Shows how the time items spend in the boundary evolves;
            long/fat tails and slow drainage show up as increasing
            <code>w(T)</code>.</td>
            </tr>
            <tr>
            <td><code>core/littles_law_invariant.png</code></td>
            <td>Scatter of <code>L(T)</code> (x-axis) vs
            <code>Λ(T)·w(T)</code> (y-axis) with <code>y=x</code>
            reference line, equal aspect ratio.</td>
            <td>Pure Little’s Law invariant check: all finite points
            should lie near <code>y=x</code> if the metric calculations
            are consistent.</td>
            </tr>
            </tbody>
            </table>
            <p>Their detail descriptions follow.</p>
            <h3 id="the-sample-path-nt">The sample path <span
            class="math inline">\(N(t)\)</span></h3>
            <p><code>sample_path_N.png</code></p>
            <p>Since we measure in continuous time, this chart is a
            <em>step chart</em>.</p>
            <ul>
            <li>The line will go up with each arrival and go down with
            each departure.</li>
            <li>The line will stay steady if departures and arrivals
            balance each other at a given instant.</li>
            <li>In between arrivals and departures, the line will stay
            flat.</li>
            </ul>
            <p>This is a real time chart that reveals current
            congestion, bursts, and idle periods.</p>
            <blockquote>
            <p>If you are familiar with Cumulative Flow Diagrams, <span
            class="math inline">\(N(t)\)</span> represents the distance
            between the cumulative arrival line and the cumulative
            departure line in the diagram.</p>
            </blockquote>
            <figure>
            <img src="images/core/sample_path_N.png"
            alt="Sample Path" />
            <figcaption aria-hidden="true">Sample Path</figcaption>
            </figure>
            <h3 id="the-area-under-the-sample-path">The area under the
            sample path</h3>
            <p>A key quantity in sample path analysis is the <em>area
            under the sample path</em>. This is calculated as the
            definite integral of the sample path curve over [0,T]</p>
            <p><span class="math display">\[
            H(T) = \int_0^T N(t) dt
            \]</span></p>
            <p>Since the area is a product of the number of items
            present over time, the units of H(T) are in item-time. In
            the language of the Presence Calculus, <span
            class="math inline">\(H(T)\)</span> is <em>cumulative
            presence</em> function over the sample path <span
            class="math inline">\(N(t)\)</span>.</p>
            <p>The functions that drive flow-process dynamics are the
            time and item averages of H(T): L(T) and w(T). These
            continuous functions of time are the key quantities in the
            <em>finite version of Little’s Law</em>.</p>
            <h3 id="lt-time-average-of-nt"><span
            class="math inline">\(L(T)\)</span>: Time average of <span
            class="math inline">\(N(t)\)</span></h3>
            <p><code>time_average_N_L.png</code></p>
            <p>Time-average WIP:</p>
            <p><code>L(T)</code> is the time average of the area under
            the sample path. May also be viewed as the rate at which the
            area H(T) grows.</p>
            <p>Its units are in items.</p>
            <pre><code>L(T) = (1/T) H(T)</code></pre>
            <p>Reveals whether long run average WIP diverges or
            converges. This is the key top level indicator of process
            stability. A flat line here indicates a stable process.</p>
            <p>Please note once again that this is <em>not a statistical
            average</em>.</p>
            <figure>
            <img src="images/core/time_average_N_L.png"
            alt="Time Average of WIP" />
            <figcaption aria-hidden="true">Time Average of
            WIP</figcaption>
            </figure>
            <h3 id="lambdat-cumulative-arrival-rate"><span
            class="math inline">\(\Lambda(T)\)</span>: Cumulative
            arrival rate</h3>
            <p><code>cumulative_arrival_rate_Lambda.png</code></p>
            <p><code>Λ(T)</code> is the arrival rate of items that have
            arrived up to T (may include items that started before the
            window):</p>
            <pre><code>Λ(T) = A(T) / T</code></pre>
            <p>It’s units are items/time</p>
            <p>If WIP was zero at the beginning of the observation
            window, then this is the same as the arrival rate, otherwise
            this over-counts the arrival rate at the start, but as we
            observe the process for longer periods, those initial
            end-effects get averaged out.</p>
            <figure>
            <img src="images/core/time_average_N_L.png"
            alt="Cumulative Arrival Rate" />
            <figcaption aria-hidden="true">Cumulative Arrival
            Rate</figcaption>
            </figure>
            <h3 id="wt-average-residence-time"><span
            class="math inline">\(w(T)\)</span>: Average residence
            time</h3>
            <p><code>average_residence_time_w.png</code></p>
            <p>Average time items are observed as spending in the
            observation window up to time T (clips the time that is
            spent outside the window and thus not observed).</p>
            <pre><code>w(T) =  H(T)/A(T)</code></pre>
            <p>Tracks how “observed time in system” evolves over the
            sample path. Its units are time.</p>
            <p>Please see our posts <a
            href="https://www.polaris-flow-dispatch.com/p/what-is-residence-time">What
            is Residence Time</a> and <a
            href="https://www.polaris-flow-dispatch.com/p/how-long-does-it-take">How
            long does it take</a> for an explanation of what this metric
            means.</p>
            <p><em>Understanding the difference and relationship between
            residence time and familiar metrics like Lead Time, Cycle
            Time and Work Item Age is crucial for understanding why
            sample path analysis works and these posts explain
            this.</em></p>
            <figure>
            <img src="images/core/average_residence_time_w.png"
            alt="Average Residence Time" />
            <figcaption aria-hidden="true">Average Residence
            Time</figcaption>
            </figure>
            <h2 id="the-finite-version-of-littles-law">3.4 The finite
            version of Little’s Law</h2>
            <p><code>littles_law_invariant.png</code></p>
            <p>This plot visualizes the <a
            href="https://www.polaris-flow-dispatch.com/i/172332418/the-finite-version-of-littles-law">finite
            version of Little’s Law</a> at work.</p>
            <p>It states that for all T,
            <code>L(T)=Λ(T)·w(T)</code>.</p>
            <p>We verify this by showing that when we plot
            <code>L(T)</code> vs <code>Λ(T)·w(T)</code> on a scatter
            plot, all the points will lie on the with
            <code>y = x</code>.</p>
            <figure>
            <img src="images/core/littles_law_invariant.png"
            alt="Little’s Law Invariant" />
            <figcaption aria-hidden="true">Little’s Law
            Invariant</figcaption>
            </figure>
            <p>Notice how points cluster around certain values of L(T).
            These are significant operating modes for the process as it
            moves towards stable states.</p>
            <hr />
            <!--
            # Convergence - Equilibrium & coherence

            | File                          | What it shows                                                                                                                   | What it means                                                                                                                                         |
            | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
            | `sample_path_convergence.png` | Scatter of `L(T)` (x-axis) vs `λ*(t)·W*(t)` (y-axis) with `y=x` and an ε-band; annotated with a coherence score over a horizon. | Direct visual and quantitative test of whether the finite-window sample path obeys Little’s Law asymptotically (sample-path convergence / coherence). |

            ![Sample Path Convergence](images/sample_path_convergence.png)

            | File                                                         | What it shows                                                                                                                                                      | What it means                                                                                                                               |
            | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------- |
            | `convergence/arrival_departure_equilibrium.png`              | Two-row stack: (1) cumulative arrivals `A(t)` vs cumulative departures `D(t)`; (2) `Λ(T)` vs throughput rate `θ(T)=D(T)/(T−t₀)` with masking after last departure. | Tests arrival/departure equilibrium: whether `A(t)` and `D(t)` grow together and arrival/throughput rates converge.                         |
            | `convergence/panels/arrival_rate_convergence.png`            | Single panel: `Λ(T)` and `λ*(t)` (empirical arrival rate) over time, with optional warmup and percentile-based y-limits.                                           | Compares window-averaged arrival rate to the element-wise empirical rate; checks consistency of the two ways of measuring “arrival rate”.   |
            | `convergence/panels/residence_time_convergence.png`          | Single panel: `w(T)` vs `W*(t)` (empirical mean sojourn time of completed items) over time.                                                                        | Coherence between residence-time and sojourn-time views: if the process is coherent, these two series should converge together.             |
            | `convergence/residence_sojourn_coherence.png`                | Two-row stack: (1) `w(T)` vs `W*(t)` overlay; (2) scatter of individual sojourn times against time, with `w(T)` as a reference line.                               | Ties the averaged quantities back to individual element sojourn times; helps see whether outliers or subpopulations are driving divergence. |
            | `convergence/panels/residence_time_sojourn_time_scatter.png` | Line of `w(T)` over time with overlaid scatter of element *age* (if `--incomplete`) or sojourn time (if `--completed` / default).                                  | Visualizes how individual element ages/sojourn times relate to the evolving average residence time, and whether a stable band emerges.      |

            ## `convergence/`

            ```
            <scenario>/convergence/
            <scenario>/convergence/panels/
            ```

            ______________________________________________________________________

            ## `convergence/arrival_departure_equilibrium.png`

            Cumulative arrivals vs departures, plus arrival/throughput rate comparison.\
            Tests for equilibrium.

            ## `convergence/panels/arrival_rate_convergence.png`

            `Λ(T)` (window-average) and `λ*(t)` (empirical).\
            Checks rate consistency.

            ## `convergence/panels/residence_time_convergence.png`

            `w(T)` vs `W*(t)`.\
            Coherence between window-average residence and empirical sojourn time.

            ## `convergence/residence_sojourn_coherence.png`

            Two-row comparison of averages + individual sojourn scatter.

            ## `convergence/panels/residence_time_sojourn_time_scatter.png`

            `w(T)` overlaid with individual ages or sojourns.

            ## `sample_path_convergence.png`

            Scatter of `L(T)` vs `λ*(t)·W*(t)` with tolerance band.\
            Highest-level convergence and coherence view.

            Controlled by **Convergence Options**:\
            `--convergence`, `--coherence-eps`, `--completed`, `--incomplete`, `--warmup`.

            ______________________________________________________________________

            # Stability Charts

            ## `stability/` and `stability/panels/` — Rate stability

            | File                                         | What it shows                                                                                                          | What it means                                                                                                                                                     |
            | -------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
            | `stability/panels/wip_growth_rate.png`       | Two-row stack: (1) `N(t)` step chart; (2) WIP growth rate `N(T)/T` with reference lines at 0 and 1.                    | Tests whether WIP grows linearly (instability) or sublinearly/flat (bounded or stabilizing), using a rate perspective.                                            |
            | `stability/panels/total_age_growth_rate.png` | Two-row stack: (1) total active age `R(t)` in hours; (2) age growth rate `R(T)/T` with reference lines at 0 and 1.     | Looks at growth of total age of WIP: sustained growth points to accumulating, aging work and potential instability.                                               |
            | `stability/rate_stability.png`               | Four-row stack: (1) `N(T)/T`; (2) `R(T)/T`; (3) `λ*(T)`; (4) `w(T)` vs `W*(t)`. Captioned “Equilibrium and Coherence”. | Integrated stability view: WIP and age growth rates, empirical arrival rate, and residence/sojourn coherence all on one canvas to assess long-run rate stability. |

            Written under:

            ```
            <scenario>/stability/
            <scenario>/stability/panels/
            ```

            Controlled by **Stability Options**: `--stability`.

            ## `stability/panels/wip_growth_rate.png`

            `N(t)` and its growth rate `N(T)/T`.\
            Detects sublinear vs linear growth.

            ## `stability/panels/total_age_growth_rate.png`

            Total age `R(t)` and its growth rate.\
            Identifies aging accumulation.

            ## `stability/rate_stability.png`

            Four-panel stability synthesis:

            - `N(T)/T`
            - `R(T)/T`
            - `λ*(T)`
            - `w(T)` vs `W*(t)`

            ______________________________________________________________________

            ______________________________________________________________________

            # Advanced Charts

            ## `advanced/` — Error terms, end-effects, and manifold view

            | File                                                        | What it shows                                                                                                                                            | What it means                                                                                                                                                                         |
            | ----------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
            | `advanced/residence_convergence_errors.png`                 | Three-row stack: (1) `w(T)` vs `W*(t)` (dynamic); (2) `Λ(T)` vs `λ*(t)` (dynamic); (3) error magnitudes `e_W(T)` and `e_Λ(T)` with optional ε threshold. | Tracks *how* coherence is approached or violated, with explicit error terms for residence time and arrival rate over time.                                                            |
            | `advanced/residence_time_convergence_errors_endeffects.png` | Four-row stack: same as above plus an end-effects panel with `r_A(T)` (mass share), `r_B(T)` (boundary share), and `ρ(T)=T/W*(t)`.                       | Decomposes residual errors into end-effect contributions and time-scaling, making it clear when divergence is driven by boundary conditions vs ongoing dynamics.                      |
            | `advanced/invariant_manifold3D_log.png`                     | 3D log–log–log manifold plot: `x = log Λ(T)`, `y = log w(T)`, `z = log L(T)`, plotting the sample-path trajectory on the plane `z = x + y`.              | Geometric view of Little’s Law as an invariant plane; lets you see whether the observed trajectory sticks to the manifold and how it moves across regimes in (rate, time, WIP) space. |

            Written under:

            ```
            <scenario>/advanced/
            ```

            Controlled by **Advanced Options**: `--advanced`.

            ## `advanced/residence_convergence_errors.png`

            `w(T)` vs `W*(t)`;\
            `Λ(T)` vs `λ*(t)`;\
            error magnitudes.

            ## `advanced/residence_time_convergence_errors_endeffects.png`

            Adds end-effects: `r_A(T)`, `r_B(T)`, `ρ(T)`.

            ## `advanced/invariant_manifold3D_log.png`

            3D log–log–log manifold:\
            `(log Λ(T), log w(T), log L(T))` on the plane `z = x + y`.

            ______________________________________________________________________
            -->
            <footer id="presence-link" role="contentinfo">
        <a href="https://samplepath.pcalc.org" target="_blank" rel="noreferrer">The Sample Path Analysis Toolkit</a>
        <div style="margin-top: 0.35rem; font-size: 0.85rem; color: #555;">
          © 2025 Krishna Kumar. All rights reserved.
        </div>
      </footer>
    </div>
  </div>
</body>
</html>
