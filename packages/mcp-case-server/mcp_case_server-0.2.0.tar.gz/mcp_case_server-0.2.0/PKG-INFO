Metadata-Version: 2.4
Name: mcp-case-server
Version: 0.2.0
Summary: ä¸€å€‹æ”¯æ´é›™æ¨¡å¼ï¼ˆDemo SQLite / PostgreSQLï¼‰çš„ MCP Serverï¼Œæä¾›æ¡ˆä»¶æŸ¥è©¢åŠŸèƒ½
Author-email: plion818 <patrick89818pp@gmail.com>
License: MIT
License-File: LICENSE
Requires-Python: >=3.10
Requires-Dist: mcp[cli]>=1.0.0
Requires-Dist: psycopg[binary]>=3.2.0
Requires-Dist: sqlalchemy>=2.0.0
Description-Content-Type: text/markdown

# MCP Case Server

[![PyPI version](https://badge.fury.io/py/mcp-case-server.svg)](https://badge.fury.io/py/mcp-case-server)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)

ä¸€å€‹æ”¯æ´é›™æ¨¡å¼ï¼ˆDemo SQLite / çœŸå¯¦ PostgreSQLï¼‰çš„ MCP Serverï¼Œæä¾›æ¡ˆä»¶æŸ¥è©¢åŠŸèƒ½ã€‚

## âœ¨ ç‰¹è‰²åŠŸèƒ½

- **æ¡ˆä»¶æŸ¥è©¢**ï¼šæä¾› `get_case` å·¥å…·ï¼Œä¾æ“šæ¡ˆä»¶ç·¨è™ŸæŸ¥è©¢è³‡è¨Š
- **é›™æ¨¡å¼è³‡æ–™åº«**ï¼š
    - **é è¨­æ¨¡å¼**ï¼šè‹¥æœªè¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œè‡ªå‹•ä½¿ç”¨å…§å»ºçš„ SQLite Demo è³‡æ–™åº«ï¼Œé–‹ç®±å³ç”¨
    - **ç”Ÿç”¢æ¨¡å¼**ï¼šæ”¯æ´ `DATABASE_URL` ç’°å¢ƒè®Šæ•¸ï¼Œå¯ç„¡ç¸«åˆ‡æ›è‡³ PostgreSQL æˆ–å…¶ä»– SQLAlchemy æ”¯æ´çš„è³‡æ–™åº«

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£

```bash
pip install mcp-case-server
```

æˆ–ä½¿ç”¨ `uvx` ç›´æ¥åŸ·è¡Œï¼ˆç„¡éœ€å®‰è£ï¼‰ï¼š

```bash
uvx mcp-case-server
```

### ä½¿ç”¨æ–¹å¼

#### æ–¹å¼ Aï¼šä½¿ç”¨å…§å»º Demo è³‡æ–™åº«ï¼ˆé è¨­ï¼‰

ç›´æ¥åŸ·è¡ŒæŒ‡ä»¤ï¼Œç„¡éœ€ä»»ä½•è¨­å®šï¼š

```bash
load-case-data
```

#### æ–¹å¼ Bï¼šé€£æ¥çœŸå¯¦è³‡æ–™åº«ï¼ˆPostgreSQLï¼‰

è¨­å®š `DATABASE_URL` ç’°å¢ƒè®Šæ•¸å¾ŒåŸ·è¡Œï¼š

**PowerShell:**
```powershell
$env:DATABASE_URL="postgresql+psycopg://user:pass@host:5432/dbname"
load-case-data
```

**Bash:**
```bash
export DATABASE_URL="postgresql+psycopg://user:pass@host:5432/dbname"
load-case-data
```

## ğŸ“– MCP Client è¨­å®šç¯„ä¾‹

### Claude Desktop

ç·¨è¼¯è¨­å®šæª”ï¼ˆé€šå¸¸ä½æ–¼ `%APPDATA%\Claude\claude_desktop_config.json`ï¼‰ï¼š

```json
{
  "mcpServers": {
    "case-search": {
      "command": "uvx",
      "args": ["mcp-case-server"],
      "env": {
        "DATABASE_URL": "æ‚¨çš„é€£ç·šå­—ä¸²ï¼ˆè‹¥è¦ç”¨ Demo DB å‰‡å…å¡«æ­¤è¡Œï¼‰"
      }
    }
  }
}
```

## ğŸ—ï¸ å°ˆæ¡ˆçµæ§‹

```text
mcp_1/
â”œâ”€â”€ pyproject.toml       # å°ˆæ¡ˆä¾è³´ã€æ‰“åŒ…è¨­å®šã€æŒ‡ä»¤å…¥å£
â”œâ”€â”€ README.md            # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ LICENSE              # MIT æˆæ¬Šæ¢æ¬¾
â”œâ”€â”€ .gitignore           # Git å¿½ç•¥æª”æ¡ˆè¨­å®š
â”œâ”€â”€ scripts/             # é–‹ç™¼èˆ‡ç¶­è­·ç”¨çš„è¼”åŠ©ç¨‹å¼
â”‚   â”œâ”€â”€ build_demo_db.py #   â””â”€â”€ é‡å»º Demo è³‡æ–™åº«çš„è…³æœ¬
â”‚   â”œâ”€â”€ data.csv         #   â””â”€â”€ Demo è³‡æ–™ä¾†æº
â”‚   â””â”€â”€ inspect_db.py    #   â””â”€â”€ æŸ¥çœ‹è³‡æ–™åº«å…§å®¹çš„è…³æœ¬
â””â”€â”€ src/                 # æ ¸å¿ƒç¨‹å¼ç¢¼æ”¾ç½®è™•
    â””â”€â”€ mcp_1/           #   â””â”€â”€ Python å¥—ä»¶ä¸»ç›®éŒ„
        â”œâ”€â”€ __init__.py  #       â””â”€â”€ å¥—ä»¶å…¥å£ï¼ŒåŒ¯å‡º main å‡½å¼
        â”œâ”€â”€ config.py    #       â””â”€â”€ è¨­å®šç®¡ç†ï¼ˆè™•ç†è³‡æ–™åº«é€£ç·šå­—ä¸²èˆ‡ Fallback é‚è¼¯ï¼‰
        â”œâ”€â”€ server.py    #       â””â”€â”€ MCP Server å®šç¾©ï¼ˆå·¥å…·è¨»å†Šèˆ‡ API ä»‹é¢ï¼‰
        â”œâ”€â”€ store.py     #       â””â”€â”€ è³‡æ–™å­˜å–å±¤ï¼ˆè² è²¬ SQL åŸ·è¡Œèˆ‡è³‡æ–™æ ¼å¼åŒ–ï¼‰
        â””â”€â”€ data/        #       â””â”€â”€ è³‡æ–™æª”ç›®éŒ„
            â””â”€â”€ demo_cases.db #     â””â”€â”€ å…§å»ºçš„ SQLite Demo è³‡æ–™åº«
```

## ğŸ“ æª”æ¡ˆèªªæ˜

*   **[server.py](src/mcp_1/server.py)**ï¼ˆæ ¸å¿ƒï¼‰
    *   å®šç¾© MCP Server å¯¦é«”èˆ‡å°å¤–ä»‹é¢
    *   ä½¿ç”¨ `@mcp.tool()` è¨»å†Š `get_case` å·¥å…·ï¼Œä¾› MCP Clientï¼ˆå¦‚ Claudeï¼‰å‘¼å«
*   **[store.py](src/mcp_1/store.py)**ï¼ˆè³‡æ–™å±¤ï¼‰
    *   è² è²¬èˆ‡è³‡æ–™åº«äº’å‹•ï¼Œå°è£ SQLAlchemy æ“ä½œ
    *   çµ±ä¸€è™•ç†ä¸åŒè³‡æ–™åº«çš„æŸ¥è©¢é‚è¼¯ï¼Œå›å‚³æ¨™æº–åŒ–çš„å­—å…¸è³‡æ–™
*   **[config.py](src/mcp_1/config.py)**ï¼ˆè¨­å®šï¼‰
    *   æ±ºå®šé€£ç·šç›®æ¨™ï¼Œæª¢æŸ¥ `DATABASE_URL`ï¼Œè‹¥ç„¡å‰‡å›å‚³å…§å»º Demo DB è·¯å¾‘
*   **[scripts/build_demo_db.py](scripts/build_demo_db.py)**
    *   é–‹ç™¼ç”¨è…³æœ¬ï¼Œç”¨æ–¼ç”Ÿæˆæˆ–é‡ç½® `src/mcp_1/data/demo_cases.db`
*   **[scripts/inspect_db.py](scripts/inspect_db.py)**
    *   é–‹ç™¼ç”¨è…³æœ¬ï¼Œç”¨æ–¼åœ¨çµ‚ç«¯æ©Ÿå¿«é€ŸæŸ¥çœ‹ SQLite è³‡æ–™åº«å…§å®¹

## ğŸ”§ é–‹ç™¼

### å®‰è£é–‹ç™¼ç’°å¢ƒ

```bash
git clone https://github.com/plion818/mcp-case-server.git
cd mcp-case-server
pip install -e .
```

### é–‹ç™¼å·¥å…·

**æŸ¥çœ‹ç›®å‰è³‡æ–™åº«å…§å®¹ï¼š**
```bash
python scripts/inspect_db.py
```

**é‡å»º Demo è³‡æ–™åº«ï¼ˆé‡ç½®è³‡æ–™ï¼‰ï¼š**
```bash
python scripts/build_demo_db.py
```

### å»ºæ§‹å¥—ä»¶

```bash
uv build
```

### ç™¼å¸ƒåˆ° PyPI

```bash
uv publish
```

## ğŸ“ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ‘¤ ä½œè€…

**plion818**
- Email: patrick89818pp@gmail.com

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼
