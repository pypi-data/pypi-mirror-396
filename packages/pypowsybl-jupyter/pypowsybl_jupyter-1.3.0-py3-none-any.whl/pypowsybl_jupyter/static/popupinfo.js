var s=class{constructor(n,e,t=200){this.lastRequestId=0;this.container=n,this.fetchElementInfo=e,this.infoBox=document.createElement("div"),this.infoBox.style.position="absolute",this.infoBox.style.display="none",this.infoBox.style.backgroundColor="white",this.infoBox.style.border="1px solid black",this.infoBox.style.padding="5px",this.infoBox.style.pointerEvents="none",this.infoBox.style.fontFamily="sans-serif",this.infoBox.style.fontSize="12px",this.infoBox.style.zIndex="900",this.container.appendChild(this.infoBox),this.debouncedShowInfo=this.debounce(this.showInfo.bind(this),t)}debounce(n,e){let t;return((...i)=>{clearTimeout(t),t=window.setTimeout(()=>n(...i),e)})}async showInfo(n,e,t,i,l){if(l===this.lastRequestId){let o=await this.fetchElementInfo(t,i);this.infoBox.innerHTML=o,this.infoBox.style.left=`${n+10}px`,this.infoBox.style.top=`${e+10}px`,o!==""?this.infoBox.style.display="block":this.infoBox.style.display="none"}}handleHover(n,e,t,i){this.lastRequestId++,n&&e?this.debouncedShowInfo(e.x,e.y,t,i,this.lastRequestId):(this.infoBox.style.display="none",this.infoBox.textContent="")}};export{s as PopupInfo};
