[build-system]
requires = ["setuptools>=68", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "impact"
version = "0.6.0"
description = "Impact AI SDK (OTel-native, GenAI semantic conventions)"
readme = "README.md"
requires-python = ">=3.10"
authors = [{ name = "Impact AI" }]
license = { text = "Apache-2.0" }

dependencies = [
  # --- OpenTelemetry core ---
  "opentelemetry-api>=1.27,<2",
  "opentelemetry-sdk>=1.27,<2",
  "opentelemetry-exporter-otlp-proto-http>=1.27,<2",
  # --- Infrastructure instrumentations ---
  "opentelemetry-instrumentation-threading>=0.48b0,<1",
  "opentelemetry-instrumentation-asgi>=0.48b0,<1",  # CRITICAL: Creates root spans for HTTP requests
  "opentelemetry-instrumentation-httpx>=0.48b0,<1",  # Traces outbound HTTP calls
  # --- GenAI instrumentations installed by default (provider SDKs are user-installed) ---
  # --- Official GenAI instrumentations (OTel / Azure) ---
  "opentelemetry-instrumentation-azure-aisearch>=0.1.0",
  "opentelemetry-instrumentation-openai-v2>=2.1b0",
  "opentelemetry-instrumentation-openai>=0.39.3",  # rollback to messages in spans instead of logs
  "opentelemetry-instrumentation-openai-agents-v2>=0.1.0",
  "opentelemetry-instrumentation-google-genai>=0.4b0",
  "opentelemetry-instrumentation-vertexai>=0.46.0",
  "azure-ai-inference>=1.0.0b9",
  # --- Community instrumentations ---
  "opentelemetry-instrumentation-botocore>=0.45.0b",
  "opentelemetry-instrumentation-anthropic>=0.45.0",
  "opentelemetry-instrumentation-ollama>=0.45.0",
  "opentelemetry-instrumentation-mistralai>=0.45.0",
  "opentelemetry-instrumentation-cohere>=0.45.0",
  "opentelemetry-instrumentation-groq>=0.45.0",
  "opentelemetry-instrumentation-llamaindex>=0.45.0",
]

[tool.setuptools.packages.find]
where = ["."]
include = ["impact*"]
