{"openapi": "3.1.0", "info": {"title": "NinjaAPI", "version": "1.0.0", "description": ""}, "paths": {"/api/hosts": {"get": {"operationId": "api_views_list_hosts", "summary": "List Hosts", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 500, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PagedHostSchema"}}}}}}}, "/api/host/{host_id}/config": {"get": {"operationId": "api_views_get_host_config", "summary": "Get Host Config", "parameters": [{"in": "path", "name": "host_id", "schema": {"title": "Host Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/HostConfigurationSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Returns only the host configuration entries."}}, "/api/host/{host_id}": {"get": {"operationId": "api_views_host_details", "summary": "Host Details", "parameters": [{"in": "path", "name": "host_id", "schema": {"title": "Host Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CombinedHostSchema"}}}}}}}}, "components": {"schemas": {"Input": {"properties": {"limit": {"default": 500, "minimum": 1, "title": "Limit", "type": "integer"}, "offset": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}}, "title": "Input", "type": "object"}, "HostSchema": {"properties": {"id": {"title": "Id", "type": "integer"}, "hostname": {"title": "Hostname", "type": "string"}}, "required": ["id", "hostname"], "title": "HostSchema", "type": "object"}, "PagedHostSchema": {"properties": {"items": {"items": {"$ref": "#/components/schemas/HostSchema"}, "title": "Items", "type": "array"}, "count": {"title": "Count", "type": "integer"}}, "required": ["items", "count"], "title": "PagedHostSchema", "type": "object"}, "HostConfigurationSchema": {"properties": {"ctype": {"title": "Ctype", "type": "string"}, "name": {"title": "Name", "type": "string"}, "value": {"title": "Value", "type": "string"}}, "required": ["ctype", "name", "value"], "title": "HostConfigurationSchema", "type": "object"}, "CombinedHostSchema": {"properties": {"host": {"$ref": "#/components/schemas/HostSchema"}, "details": {"$ref": "#/components/schemas/HostDetailsSchema"}, "packages": {"items": {"$ref": "#/components/schemas/PackageSchema"}, "title": "Packages", "type": "array"}, "containers": {"items": {"$ref": "#/components/schemas/ServerContainerSchema"}, "title": "Containers", "type": "array"}, "configs": {"items": {"$ref": "#/components/schemas/HostConfigurationSchema"}, "title": "Configs", "type": "array"}}, "required": ["host", "details", "packages", "containers", "configs"], "title": "CombinedHostSchema", "type": "object"}, "HostDetailsSchema": {"properties": {"time": {"format": "date-time", "title": "Time", "type": "string"}, "domain": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Domain"}, "osname": {"title": "Osname", "type": "string"}, "osrelease": {"title": "Osrelease", "type": "string"}, "rkr": {"title": "Rkr", "type": "string"}, "cosmosrepourl": {"title": "Cosmosrepourl", "type": "string"}, "ipv4": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ipv4"}, "ipv6": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ipv6"}, "fail2ban": {"title": "Fail2Ban", "type": "boolean"}}, "required": ["time", "domain", "osname", "osrelease", "rkr", "cosmosrepourl", "ipv4", "ipv6", "fail2ban"], "title": "HostDetailsSchema", "type": "object"}, "PackageSchema": {"properties": {"id": {"title": "Id", "type": "integer"}, "name": {"title": "Name", "type": "string"}, "version": {"title": "Version", "type": "string"}}, "required": ["id", "name", "version"], "title": "PackageSchema", "type": "object"}, "ServerContainerSchema": {"properties": {"image": {"title": "Image", "type": "string"}, "imageid": {"title": "Imageid", "type": "string"}}, "required": ["image", "imageid"], "title": "ServerContainerSchema", "type": "object"}}}, "servers": []}