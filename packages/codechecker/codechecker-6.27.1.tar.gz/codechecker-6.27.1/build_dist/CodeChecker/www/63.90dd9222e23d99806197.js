/*! For license information please see 63.90dd9222e23d99806197.js.LICENSE.txt */
(self.webpackChunkcodechecker=self.webpackChunkcodechecker||[]).push([[63],{36045:(t,e,n)=>{var o=n(84302);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals),(0,n(70534).A)("ea0532a2",o,!0,{})},44620:(t,e,n)=>{var o=n(31601),r=n(76314)(o);r.push([t.id,"[data-v-2f9d7eed] .v-input--selection-controls__input{margin:0}",""]),t.exports=r},49063:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Dt});var o=n(7349),r=n(56936),i=n(37873),s=n(22871),a=n(72084),u=n(64238),c=n(69653),l=n(50649),d=n(64989),p=n(13843),f=n(85840),m=(n(52675),n(89463),n(2259),n(45700),n(2008),n(51629),n(23792),n(62062),n(26910),n(89572),n(23288),n(62010),n(2892),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(58940),n(27495),n(47764),n(25440),n(23500),n(62953),n(2543)),h=n.n(m),b=n(23706),g=n(15043),v=n(85471),y=n(5119),_=n(98215),C=(n(60739),n(74423),n(94170),n(59904),n(40875),n(10287),n(3362),n(21699),n(89054));function A(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(n,o,r,i){var u=o&&o.prototype instanceof a?o:a,c=Object.create(u.prototype);return S(c,"_invoke",function(n,o,r){var i,a,u,c=0,l=r||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return i=e,a=0,u=t,p.n=n,s}};function f(n,o){for(a=n,u=o,e=0;!d&&c&&!r&&e<l.length;e++){var r,i=l[e],f=p.p,m=i[2];n>3?(r=m===o)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=f&&((r=n<2&&f<i[1])?(a=0,p.v=o,p.n=i[1]):f<m&&(r=n<3||i[0]>o||o>m)&&(i[4]=n,i[5]=o,p.n=m,a=0))}if(r||n>1)return s;throw d=!0,o}return function(r,l,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,m),a=l,u=m;(e=a<2?t:u)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,u)):p.n=u:p.v=u);try{if(c=2,i){if(a||(r="next"),e=i[r]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),a=1);i=t}else if((e=(d=p.n<0)?u:n.call(o,p))!==s)break}catch(e){i=t,a=1,u=e}finally{c=1}}return{value:e,done:d}}}(n,r,i),!0),c}var s={};function a(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(S(e={},o,(function(){return this})),e),d=c.prototype=a.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,S(t,r,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=c,S(d,"constructor",c),S(c,"constructor",u),u.displayName="GeneratorFunction",S(c,r,"GeneratorFunction"),S(d),S(d,r,"Generator"),S(d,o,(function(){return this})),S(d,"toString",(function(){return"[object Generator]"})),(A=function(){return{w:i,m:p}})()}function S(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}S=function(t,e,n,o){if(e)r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n;else{var i=function(e,n){S(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}},S(t,e,n,o)}function P(t,e,n,o,r,i,s){try{var a=t[i](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}const w={name:"PopulatePermissionsMixin",data:function(){return{permissions:[],userAuthRights:{},groupAuthRights:{}}},methods:{populatePermissions:function(t,e){var n=this,o=new C.PermissionFilter({canManage:!0});b.y1.getClient().getPermissionsForUser(t,e,o,(0,b.sm)((function(t){n.permissions=t,n.populateAuthRights(e)})))},addAuthRight:function(t,e,n){var o=this;n.forEach((function(n){n in t||o.$set(t,n,[]),t[n].includes(e)||t[n].push(e)}))},populateAuthRights:function(t){var e,n=this;return(e=A().m((function e(){return A().w((function(e){for(;;)switch(e.n){case 0:n.userAuthRights={},n.groupAuthRights={},n.permissions.forEach((function(e){b.y1.getClient().getAuthorisedNames(e,t,(0,b.sm)((function(t){n.addAuthRight(n.userAuthRights,e,t.users),n.addAuthRight(n.groupAuthRights,e,t.groups)})))}));case 1:return e.a(2)}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(t){P(i,o,r,s,a,"next",t)}function a(t){P(i,o,r,s,a,"throw",t)}s(void 0)}))})()}}};var x=n(12853),k=n(38561);n(25276),n(50113),n(54554);const O={name:"BaseProductPermission",props:{permissions:{type:Array,default:function(){return[]}},authRights:{type:Object,default:function(){}},title:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:"mdi-account-outline"},bus:{type:Object,required:!0},extraParamsJson:{type:String,required:!0},isGroup:{type:Boolean,required:!0}},data:function(){return{Permission:g.Permission,name:"",changedAuthRights:{}}},mounted:function(){this.bus.$on("save",this.saveAll)},methods:{permissionToString:function(t){return Object.keys(g.Permission).find((function(e){return g.Permission[e]===t}))},changeAuthPermission:function(t,e){if(this.changedAuthRights[t]&&-1!==this.changedAuthRights[t].indexOf(e)){var n=this.changedAuthRights[t].indexOf(e);this.changedAuthRights[t].splice(n,1),this.changedAuthRights[t].length||delete this.changedAuthRights[t]}else t in this.changedAuthRights||(this.changedAuthRights[t]=[]),this.changedAuthRights[t].push(e)},saveAll:function(){for(var t=this,e=function(){var e=o[n];t.changedAuthRights[e].forEach((function(n){t.authRights[e]&&-1!==t.authRights[e].indexOf(n)?b.y1.getClient().removePermission(n,e,t.isGroup,t.extraParamsJson,(0,b.sm)((function(o){if(o){var r=t.authRights[e].indexOf(n);t.authRights[e].splice(r,1),t.authRights[e].length||delete t.authRights[e]}else t.$emit("update:error",!0)}),(function(){t.$emit("update:error",!0)}))):b.y1.getClient().addPermission(n,e,t.isGroup,t.extraParamsJson,(0,b.sm)((function(o){o?(e in t.authRights||(t.authRights[e]=[]),t.authRights[e].push(n)):t.$emit("update:error",!0)}),(function(){t.$emit("update:error",!0)})))}))},n=0,o=Object.keys(this.changedAuthRights);n<o.length;n++)e();this.$emit("update:success",!0),this.changedAuthRights={}},addNewAuthRight:function(){if(this.name.length){var t=this.name.toLowerCase();Object.keys(this.authRights).find((function(e){return e.toLowerCase()===t}))||this.$set(this.authRights,this.name,[]),this.name=""}}}};n(86477);var N=n(14486);const D=(0,N.A)(O,(function(){var t=this,e=t._self._c;return e(a.A,[e("h3",{staticClass:"mb-4 text-center primary--text"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),e(k.A,{attrs:{height:"200px","fixed-header":"",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n            "+t._s(t.label)+"\n          ")]),t._v(" "),t._l(t.permissions,(function(n){return e("th",{key:n,staticClass:"text-center"},[t._v("\n            "+t._s(t.permissionToString(n))+"\n          ")])}))],2)]),t._v(" "),e("tbody",t._l(t.authRights,(function(n,o){return e("tr",{key:o},[e("td",[e(c.A,[t._v("\n              "+t._s(t.icon)+"\n            ")]),t._v("\n            "+t._s(o)+"\n          ")],1),t._v(" "),t._l(t.permissions,(function(r){return e("td",{key:r,staticClass:"pa-1 text-center",attrs:{width:"1%"}},[e("span",{staticClass:"d-inline-block"},[e(x.A,{staticClass:"ma-1",attrs:{"input-value":n.includes(r),"hide-details":!0},on:{change:function(e){return t.changeAuthPermission(o,r)}}})],1)])}))],2)})),0)]},proxy:!0}])}),t._v(" "),e(p.A,{staticClass:"mt-4",attrs:{label:t.label,"single-line":"","hide-details":"",solo:"",flat:"",outlined:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewAuthRight.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[e(r.A,{staticClass:"ma-0",attrs:{color:"primary"},on:{click:t.addNewAuthRight}},[t._v("\n        Add\n      ")])]},proxy:!0}]),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)}),[],!1,null,"2f9d7eed",null).exports,R={name:"ProductUserPermission",mixins:[D],props:{title:{type:String,default:"User permissions"},label:{type:String,default:"User name"}}},j=(0,N.A)(R,void 0,void 0,!1,null,null,null).exports,E={name:"ProductGroupPermission",mixins:[D],props:{title:{type:String,default:"Group permissions"},label:{type:String,default:"Group name"},icon:{type:String,default:"mdi-account-group-outline"}}},q=(0,N.A)(E,void 0,void 0,!1,null,null,null).exports,B={name:"EditProductPermission",components:{ProductUserPermission:j,ProductGroupPermission:q},mixins:[w],props:{bus:{type:Object,required:!0}},data:function(){return{scope:"SYSTEM",extraParamsJSON:JSON.stringify({}),success:!1,error:!1}},mounted:function(){this.populatePermissions(this.scope,this.extraParamsJSON)}},T=(0,N.A)(B,(function(){var t=this,e=t._self._c;return e(a.A,{attrs:{fluid:""}},[e(_.A,{attrs:{dismissible:"",color:"success",border:"left",elevation:"2","colored-border":"",icon:"mdi-check"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[t._v("\n    Permission changes saved successfully!\n  ")]),t._v(" "),e(_.A,{attrs:{dismissible:"",color:"error",border:"left",elevation:"2","colored-border":"",icon:"mdi-alert-outline"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v("\n    Some permission changes could not be saved!\n  ")]),t._v(" "),e(l.A,[e(s.A,[e("product-user-permission",{attrs:{permissions:t.permissions,"auth-rights":t.userAuthRights,bus:t.bus,"extra-params-json":t.extraParamsJSON,"is-group":!1,success:t.success,error:t.error},on:{"update:success":function(e){t.success=e},"update:error":function(e){t.error=e}}})],1),t._v(" "),e(s.A,[e("product-group-permission",{attrs:{permissions:t.permissions,"auth-rights":t.groupAuthRights,bus:t.bus,"extra-params-json":t.extraParamsJSON,"is-group":!0,success:t.success,error:t.error},on:{"update:success":function(e){t.success=e},"update:error":function(e){t.error=e}}})],1)],1)],1)}),[],!1,null,null,null).exports,$={name:"EditGlobalPermissionBtn",components:{ConfirmDialog:y.A,EditGlobalPermission:T},data:function(){return{dialog:!1,bus:new v.Ay}},methods:{confirmPermissionChange:function(){this.bus.$emit("save")}}},U=(0,N.A)($,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"max-width":"1000px"},on:{confirm:t.confirmPermissionChange},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(r.A,t._g({staticClass:"mr-2",attrs:{id:"edit-global-permissions-btn",color:"primary"}},o),[e(c.A,{attrs:{left:""}},[t._v("\n        mdi-shield-key\n      ")]),t._v("\n      Edit global permission\n    ")],1)]}},{key:"title",fn:function(){return[t._v("\n    Global permissions\n  ")]},proxy:!0},{key:"content",fn:function(){return[e("edit-global-permission",{attrs:{bus:t.bus}})]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports,I={name:"DeleteProductBtn",components:{ConfirmDialog:y.A},props:{product:{type:Object,required:!0}},data:function(){return{dialog:!1}},methods:{confirmDelete:function(){var t=this;b.pP.getClient().removeProduct(this.product.id,(0,b.sm)((function(e){e&&t.$emit("on-complete",t.product)})))}}},L=(0,N.A)(I,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"max-width":"600px","cancel-btn-color":"primary","confirm-btn-label":"Remove","confirm-btn-color":"error"},on:{confirm:t.confirmDelete},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(r.A,t._g({staticClass:"remove-btn",attrs:{icon:"",color:"error"}},o),[e(c.A,[t._v("mdi-trash-can-outline")])],1)]}},{key:"title",fn:function(){return[t._v("\n    Confirm deletion of product\n  ")]},proxy:!0},{key:"content",fn:function(){return[e("p",[t._v("\n      You have selected to delete "),e("b",[t._v(t._s(t.product.endpoint))]),t._v("\n      product!\n    ")]),t._v(" "),e("p",[t._v("\n      Deleting a product "),e("b",[t._v("will")]),t._v(" remove product-specific\n      configuration, such as access control and authorisation settings,\n      and "),e("b",[t._v("will")]),t._v(" disconnect the database from the server.\n    ")]),t._v(" "),e("p",[t._v("\n      Analysis results stored in the database "),e("b",[t._v("will NOT")]),t._v(" be lost!\n    ")])]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports;var G=n(95353),M=n(34387),F=n(58914);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return(e=function(t){var e=function(t){if("object"!=J(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==J(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const K={name:"EditAnnouncementBtn",components:{ConfirmDialog:y.A},data:function(){return{dialog:!1,value:null}},computed:V({},(0,G.L8)(["announcement"])),mounted:function(){var t=this;this.getAnnouncement().then((function(e){t.value=e}))},methods:V(V(V({},(0,G.i0)([M.jM])),(0,G.PY)([F.tn])),{},{confirmAnnouncementChange:function(){var t=this,e=this.value?window.btoa(this.value):window.btoa("");b.ml.getClient().setNotificationBannerText(e,(0,b.sm)((function(){t.dialog=!1,t.setAnnouncement(t.value)})))}})},Y=(0,N.A)(K,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"confirm-btn-label":"Change"},on:{confirm:t.confirmAnnouncementChange},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(r.A,t._g({staticClass:"mr-2",attrs:{id:"edit-announcement-btn",color:"primary"}},o),[e(c.A,{attrs:{left:""}},[t._v("\n        mdi-bullhorn-outline\n      ")]),t._v("\n      Edit announcement\n    ")],1)]}},{key:"title",fn:function(){return[t._v("\n    Change announcement\n  ")]},proxy:!0},{key:"content",fn:function(){return[e(p.A,{attrs:{"append-icon":"mdi-bullhorn-outline",label:"Write your alert here...","single-line":"","hide-details":"",outlined:"",solo:"",clearable:"",flat:"",dense:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports;var Q=n(73862),W=n(15813),Z=n(4901),X=n(64069),tt=n(18642);const et={name:"EditProductPermission",components:{ProductUserPermission:j,ProductGroupPermission:q},mixins:[w],props:{product:{type:Object,required:!0},bus:{type:Object,required:!0},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data:function(){return{scope:"PRODUCT",extraParamsJSON:JSON.stringify({productID:this.product.id.toNumber()})}},mounted:function(){this.populatePermissions(this.scope,this.extraParamsJSON)}},nt=(0,N.A)(et,(function(){var t=this,e=t._self._c;return e(a.A,{attrs:{fluid:""}},[e(l.A,{attrs:{justify:"center"}},[e(s.A,{attrs:{cols:"auto"}},[e("product-user-permission",{attrs:{permissions:t.permissions,"auth-rights":t.userAuthRights,bus:t.bus,"extra-params-json":t.extraParamsJSON,"is-group":!1,success:t.success,error:t.error},on:{"update:success":function(e){return t.$emit("update:success",e)},"update:error":function(e){return t.$emit("update:error",e)}}})],1),t._v(" "),e(s.A,{attrs:{cols:"auto"}},[e("product-group-permission",{attrs:{permissions:t.permissions,"auth-rights":t.groupAuthRights,bus:t.bus,"extra-params-json":t.extraParamsJSON,"is-group":!0,success:t.success,error:t.error},on:{"update:success":function(e){return t.$emit("update:success",e)},"update:error":function(e){return t.$emit("update:error",e)}}})],1)],1)],1)}),[],!1,null,null,null).exports;var ot=n(14885),rt=n(17733),it=n(63028),st=n(72281),at=n(92674),ut=n(88533),ct=n(87747),lt=n(71841),dt=n(62198);const pt={name:"SelectConfidentialityItem",components:{ConfidentialityIcon:dt.wz},mixins:[lt.wE],props:{value:{type:String,required:!0}}},ft=(0,N.A)(pt,(function(){var t=this,e=t._self._c;return e("div",[e(o.A,{attrs:{left:"",size:16}},[e("confidentiality-icon",{attrs:{value:t.confidentialityFromStringToCode(t.value),small:""}})],1),t._v("\n  "+t._s(t.value)+"\n")],1)}),[],!1,null,null,null).exports,mt={name:"EditProduct",components:{TooltipHelpIcon:ct.A,SelectConfidentialityItem:ft},mixins:[lt.wE],props:{productConfig:{type:Object,required:!0},isValid:{type:Boolean,default:!1},isSuperUser:{type:Boolean,default:!1}},data:function(){return{rules:{endpoint:[function(t){return!!t||"Endpoint is required"}],dbFile:[function(t){return!!t||"Database file is required"}],dbName:[function(t){return!!t||"Database name is required"}],dbHost:[function(t){return!!t||"Database host is required"}],dbPort:[function(t){return!!t||"Database port is required"}],dbUser:[function(t){return!!t||"Database user name is required"}],engine:[function(t){return!!t||"Engine is required"}],runLimit:[function(t){return!t||!!t&&!isNaN(parseInt(t))||"Number is required"}],reportLimit:[function(t){return!t||!!t&&!isNaN(parseInt(t))||"Number is required"}]}}},computed:{confidentialityItems:function(){return this.confidentialities()},confidentialityString:{get:function(){return this.confidentialityFromCodeToString(this.productConfig.confidentiality)},set:function(t){this.productConfig.confidentiality=this.confidentialityFromStringToCode(t)}},valid:{get:function(){return this.isValid},set:function(t){this.$emit("update:is-valid",t)}},dbConnection:function(){return this.productConfig.connection},dbUserName:{get:function(){return this.productConfig.connection.username_b64?window.atob(this.productConfig.connection.username_b64):""},set:function(t){this.productConfig.connection.username_b64=t.length?window.btoa(t):null}},dbPassword:{get:function(){return this.productConfig.connection.password_b64?window.atob(this.productConfig.connection.password_b64):""},set:function(t){this.productConfig.connection.password_b64=t.length?window.btoa(t):null}},description:{get:function(){return this.productConfig.description_b64?window.atob(this.productConfig.description_b64):""},set:function(t){this.productConfig.description_b64=t.length?window.btoa(t):null}},displayName:{get:function(){return this.productConfig.displayedName_b64?window.atob(this.productConfig.displayedName_b64):""},set:function(t){this.productConfig.displayedName_b64=t.length?window.btoa(t):null}}},created:function(){this.productConfig.confidentiality||(this.productConfig.confidentiality=tt.Confidentiality.CONFIDENTIAL)},methods:{validate:function(){return this.$refs.form.validate()}}},ht=(0,N.A)(mt,(function(){var t=this,e=t._self._c;return e(rt.A,{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.isSuperUser?e(p.A,{attrs:{rules:t.rules.endpoint,label:"URL endpoint*",name:"endpoint","prepend-icon":"mdi-card-account-details-outline",required:""},model:{value:t.productConfig.endpoint,callback:function(e){t.$set(t.productConfig,"endpoint",e)},expression:"productConfig.endpoint"}}):t._e(),t._v(" "),e(p.A,{attrs:{label:"Display name",name:"display-name","prepend-icon":"mdi-television"},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),t._v(" "),e(ut.A,{attrs:{label:"Description",name:"description","prepend-icon":"mdi-text",rows:"1"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),t.isSuperUser?e(p.A,{attrs:{value:t.productConfig.runLimit,type:"number",label:"Run limit",name:"run-limit","prepend-icon":"mdi-speedometer",rules:t.rules.runLimit},on:{input:function(e){t.productConfig.runLimit=e||null}}}):t._e(),t._v(" "),e(l.A,{staticClass:"ma-0"},[t.isSuperUser?e(p.A,{attrs:{value:t.productConfig.reportLimit,type:"number",label:"Report limit",name:"report-limit","prepend-icon":"mdi-close-octagon",rules:t.rules.runLimit},on:{input:function(e){t.productConfig.reportLimit=e||null}}}):t._e(),t._v(" "),e("tooltip-help-icon",[t._v("\n      The maximum number of reports allowed to\n      store in one run, if exceeded, the store\n      action will be rejected.\n    ")])],1),t._v(" "),e(l.A,{staticClass:"ma-0"},[e(at.A,{staticClass:"select-confidentiality",attrs:{label:"Information Classification","prepend-icon":"mdi-file-eye-outline",name:"confidentiality",items:t.confidentialityItems},scopedSlots:t._u([{key:"selection",fn:function(t){var n=t.item;return[e("select-confidentiality-item",{attrs:{value:n}})]}},{key:"item",fn:function(t){var n=t.item;return[e("select-confidentiality-item",{attrs:{value:n}})]}}]),model:{value:t.confidentialityString,callback:function(e){t.confidentialityString=e},expression:"confidentialityString"}}),t._v(" "),e("tooltip-help-icon",[t._v("\n      Classification and handling of source code confidentiality.\n    ")])],1),t._v(" "),e(x.A,{attrs:{label:"Disable review status change",name:"disable-review-status-change"},model:{value:t.productConfig.isReviewStatusChangeDisabled,callback:function(e){t.$set(t.productConfig,"isReviewStatusChangeDisabled",e)},expression:"productConfig.isReviewStatusChangeDisabled"}}),t._v(" "),t.isSuperUser?e("div",[e(ot.A),t._v(" "),e(st.A,{attrs:{rules:t.rules.engine},model:{value:t.dbConnection.engine,callback:function(e){t.$set(t.dbConnection,"engine",e)},expression:"dbConnection.engine"}},[e(it.A,{attrs:{label:"SQLite",value:"sqlite"}}),t._v(" "),e(it.A,{attrs:{label:"PostgreSQL",value:"postgresql"}})],1),t._v(" "),"sqlite"==t.dbConnection.engine?e("div",[e(p.A,{attrs:{label:"Database file*",name:"db-file","prepend-icon":"mdi-database",rules:t.rules.dbFile},model:{value:t.dbConnection.database,callback:function(e){t.$set(t.dbConnection,"database",e)},expression:"dbConnection.database"}})],1):t._e(),t._v(" "),"postgresql"==t.dbConnection.engine?e("div",[e(p.A,{attrs:{label:"Server address*",name:"db-host","prepend-icon":"mdi-protocol",rules:t.rules.dbHost,required:""},model:{value:t.dbConnection.host,callback:function(e){t.$set(t.dbConnection,"host",e)},expression:"dbConnection.host"}}),t._v(" "),e(p.A,{attrs:{label:"Port*",name:"db-port","prepend-icon":"mdi-map-marker",rules:t.rules.dbPort,required:""},model:{value:t.dbConnection.port,callback:function(e){t.$set(t.dbConnection,"port",e)},expression:"dbConnection.port"}}),t._v(" "),e(p.A,{attrs:{label:"User name*",name:"db-username","prepend-icon":"mdi-account-outline",autocomplete:"new-password",rules:t.rules.dbUserName,required:""},model:{value:t.dbUserName,callback:function(e){t.dbUserName=e},expression:"dbUserName"}}),t._v(" "),e(p.A,{attrs:{type:"password",label:"Password",name:"db-password","prepend-icon":"mdi-lock-outline",autocomplete:"new-password"},model:{value:t.dbPassword,callback:function(e){t.dbPassword=e},expression:"dbPassword"}}),t._v(" "),e(p.A,{attrs:{label:"Database name*",name:"db-name","prepend-icon":"mdi-database",rules:t.rules.dbName},model:{value:t.dbConnection.database,callback:function(e){t.$set(t.dbConnection,"database",e)},expression:"dbConnection.database"}})],1):t._e()],1):t._e()],1)}),[],!1,null,null,null).exports,bt={name:"EditProductBtn",components:{ConfirmDialog:y.A,EditProductPermission:nt,ProductConfigForm:ht},props:{product:{type:Object,required:!0},isSuperUser:{type:Boolean,default:!1}},data:function(){return{dialog:!1,productConfig:new tt.ProductConfiguration({connection:new tt.DatabaseConnection}),tab:null,loading:!1,isValid:!1,success:!1,error:!1,bus:new v.Ay}},watch:{dialog:function(){var t=this;this.dialog&&(this.loading=!0,b.pP.getClient().getProductConfiguration(this.product.id,(0,b.sm)((function(e){t.productConfig=e,t.loading=!1}))))}},methods:{save:function(){var t=this;b.pP.getClient().editProduct(this.product.id,this.productConfig,(0,b.sm)((function(e){e?(t.success=!0,t.$emit("on-complete",new tt.ProductConfiguration(t.productConfig))):t.error=!0}))),this.bus.$emit("save")}}},gt=(0,N.A)(bt,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"max-width":"80%",loading:t.loading},on:{confirm:t.save},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(r.A,t._g({staticClass:"edit-btn",attrs:{icon:"",color:"primary"}},o),[e(c.A,[t._v("mdi-pencil")])],1)]}},{key:"title",fn:function(){return[t._v("\n    Edit product\n  ")]},proxy:!0},{key:"content",fn:function(){return[e(_.A,{attrs:{dismissible:"",color:"success",border:"left",elevation:"2","colored-border":"",icon:"mdi-check"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[t._v("\n      Successfully saved.\n    ")]),t._v(" "),e(_.A,{attrs:{dismissible:"",color:"error",border:"left",elevation:"2","colored-border":"",icon:"mdi-alert-outline"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v("\n      Failed to save product changes.\n    ")]),t._v(" "),e(Z.A,{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(Q.A,[t._v("\n        Edit\n      ")]),t._v(" "),e(Q.A,[t._v("\n        Permissions\n      ")])],1),t._v(" "),e(X.A,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(W.A,[e(a.A,{attrs:{fluid:""}},[e("product-config-form",{attrs:{"is-valid":t.isValid,"is-super-user":t.isSuperUser,"product-config":t.productConfig},on:{"update:isValid":function(e){t.isValid=e},"update:is-valid":function(e){t.isValid=e}}})],1)],1),t._v(" "),e(W.A,[e("edit-product-permission",{attrs:{product:t.product,bus:t.bus,success:t.success,error:t.error},on:{"update:success":function(e){t.success=e},"update:error":function(e){t.error=e}}})],1)],1)]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports,vt={name:"NewProductBtn",components:{ConfirmDialog:y.A,ProductConfigForm:ht},props:{isSuperUser:{type:Boolean,default:!1}},data:function(){return{dialog:!1,productConfig:new tt.ProductConfiguration({connection:new tt.DatabaseConnection}),isValid:!1}},methods:{save:function(){var t=this;this.$refs.form.validate()&&b.pP.getClient().addProduct(this.productConfig,(0,b.sm)((function(){t.$emit("on-complete",new tt.ProductConfiguration(t.productConfig)),t.dialog=!1,t.productConfig=new tt.ProductConfiguration({connection:new tt.DatabaseConnection})})))}}},yt=(0,N.A)(vt,(function(){var t=this,e=t._self._c;return e("confirm-dialog",{attrs:{"max-width":"50%"},on:{confirm:t.save},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(r.A,t._g({attrs:{id:"new-product-btn",color:"primary"}},o),[e(c.A,{attrs:{left:""}},[t._v("\n        mdi-plus\n      ")]),t._v("\n      New product\n    ")],1)]}},{key:"title",fn:function(){return[t._v("\n    New product\n  ")]},proxy:!0},{key:"content",fn:function(){return[e("product-config-form",{ref:"form",attrs:{"is-valid":t.isValid,"is-super-user":t.isSuperUser,"product-config":t.productConfig},on:{"update:isValid":function(e){t.isValid=e},"update:is-valid":function(e){t.isValid=e}}})]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})}),[],!1,null,null,null).exports;var _t=n(50530),Ct=n(12219),At=n(40060),St=n(42825);const Pt={name:"ProductNameColumn",filters:{productIconName:function(t){return t?t.charAt(0).toUpperCase():""}},components:{ConfidentialityIcon:dt.wz},mixins:[lt.NO],props:{product:{type:Object,required:!0}},data:function(){return{DBStatus:g.DBStatus,links:[{name:"runs",title:"Show runs",color:"primary",icon:"mdi-run-fast",divider:!0},{name:"reports",title:"Show reports",color:"rgb(236, 118, 114)",icon:"mdi-bug",query:St.w,divider:!0},{name:"statistics",title:"Show statistics",color:"green",icon:"mdi-chart-line",query:St.w}]}},computed:{confidentialityTitle:function(){return this.confidentialityFromCodeToString(this.product.confidentiality)}},methods:{dbStatusFromCodeToString:function(t){switch(parseInt(t)){case g.DBStatus.OK:return"Database is up to date.";case g.DBStatus.MISSING:return"Database is missing.";case g.DBStatus.FAILED_TO_CONNECT:return"Failed to connect to the database.";case g.DBStatus.SCHEMA_MISMATCH_OK:return"Schema mismatch: migration is possible.";case g.DBStatus.SCHEMA_MISMATCH_NO:return"Schema mismatch: migration not available.";case g.DBStatus.SCHEMA_MISSING:return"Schema is missing.";case g.DBStatus.SCHEMA_INIT_ERROR:return"Schema initialization error.";default:return console.warn("Non existing database status code: ",t),"N/A"}}}};function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ot(t,e,n){return(e=function(t){var e=function(t){if("object"!=wt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Nt={name:"Products",components:{DeleteProductBtn:L,EditAnnouncementBtn:Y,EditGlobalPermissionBtn:U,EditProductBtn:gt,NewProductBtn:yt,ProductNameColumn:(0,N.A)(Pt,(function(){var t=this,e=t._self._c;return e(_t.A,{staticClass:"pa-0",attrs:{"two-line":""}},[e(Ct.A,{staticClass:"my-1"},[e(o.A,{staticClass:"my-1",attrs:{color:t.strToColor(t.product.endpoint),size:"48"}},[e("span",{staticClass:"white--text headline"},[t._v("\n        "+t._s(t._f("productIconName")(t.product.endpoint))+"\n      ")])])],1),t._v(" "),e(At.pr,[e(At.UZ,[e("confidentiality-icon",{attrs:{value:t.product.confidentiality,small:""}}),t._v(" "),t.product.databaseStatus===t.DBStatus.OK&&t.product.accessible?e("router-link",{attrs:{to:{name:"runs",params:{endpoint:t.product.endpoint}}}},[t._v("\n        "+t._s(t.product.displayedName)+"\n      ")]):e("span",{style:{"text-decoration":"line-through"}},[t._v("\n        "+t._s(t.product.displayedName)+"\n      ")]),t._v(" "),t.product.accessible?t.product.databaseStatus!==t.DBStatus.OK?e("span",{staticClass:"error--text"},[e(c.A,[t._v("mdi-alert-outline")]),t._v("\n        "+t._s(t.dbStatusFromCodeToString(t.product.databaseStatus))+"\n        "),t.product.databaseStatus===t.DBStatus.SCHEMA_MISMATCH_OK||t.product.databaseStatus===t.DBStatus.SCHEMA_MISSING?e("span",[t._v("\n          Use "),e("kbd",[t._v("CodeChecker server")]),t._v(" command for schema\n          upgrade/initialization.\n        ")]):t._e()],1):t._e():e("span",{attrs:{color:"grey--text"}},[e(c.A,[t._v("mdi-alert-outline")]),t._v("\n        You do not have access to this product!\n      ")],1)],1),t._v(" "),e(At.w,[t._v("\n      "+t._s(t.product.description)+"\n    ")]),t._v(" "),t.product.databaseStatus===t.DBStatus.OK&&t.product.accessible?e(At.w,t._l(t.links,(function(n){return e("span",{key:n.name},[e(r.A,{attrs:{to:{name:n.name,params:{endpoint:t.product.endpoint},query:n.query||{}},title:n.title,color:n.color,"x-small":"",text:"",icon:""}},[e(c.A,[t._v(t._s(n.icon))])],1),t._v(" "),n.divider?e(ot.A,{staticClass:"mx-2 d-inline",attrs:{inset:"",vertical:""}}):t._e()],1)})),0):t._e()],1)],1)}),[],!1,null,null,null).exports},data:function(){var t=this.$router.currentRoute.query["sort-by"],e=this.$router.currentRoute.query["sort-desc"],n=parseInt(this.$router.currentRoute.query.page)||1;return{DBStatus:g.DBStatus,productNameSearch:null,loading:!1,pagination:{sortBy:t?[t]:[],sortDesc:void 0!==e?[!!e]:[]},footerProps:{itemsPerPageOptions:[25]},page:n,headers:[{text:"Name",value:"displayedName",sortable:!0},{text:"Admins",value:"admins",sortable:!1},{text:"Number of runs",value:"runCount",align:"center",sortable:!0},{text:"Latest store to product",value:"latestStoreToProduct",sortable:!0},{text:"Actions",value:"action",sortable:!1}],products:[],isSuperUser:!1,isAdminOfAnyProduct:!1}},watch:{pagination:{handler:function(){var t=this.pagination.sortBy.length?this.pagination.sortBy[0]:void 0,e=this.pagination.sortDesc.length?this.pagination.sortDesc[0]:void 0;this.$router.replace({query:kt(kt({},this.$route.query),{},{"sort-by":t,"sort-desc":e})}).catch((function(){})),this.products.sort(this.sortProducts)},deep:!0},page:function(){var t=1===this.page?void 0:this.page;this.$router.replace({query:kt(kt({},this.$route.query),{},{page:t})}).catch((function(){}))},productNameSearch:h().debounce((function(){this.$router.replace({query:kt(kt({},this.$route.query),{},{name:this.productNameSearch?this.productNameSearch:void 0})}).catch((function(){})),this.fetchProducts()}),500)},created:function(){var t=this;this.productNameSearch=this.$router.currentRoute.query.name||null,b.y1.getClient().hasPermission(g.Permission.SUPERUSER,"",(0,b.sm)((function(e){t.isSuperUser=e,e||b.pP.getClient().isAdministratorOfAnyProduct((0,b.sm)((function(e){t.isAdminOfAnyProduct=e,e||(t.headers=t.headers.filter((function(t){return"action"!==t.value})))})))}))),this.productNameSearch||this.fetchProducts()},methods:{fetchProducts:function(){var t=this;this.loading=!0;var e=this.productNameSearch?"*".concat(this.productNameSearch,"*"):null;b.pP.getClient().getProducts(null,e,(0,b.sm)((function(e){t.products=e.map((function(t){return kt({description:t.description_b64?window.atob(t.description_b64):null,displayedName:t.displayedName_b64?window.atob(t.displayedName_b64):null},t)})).sort(t.sortProducts),t.pagination.page=t.page,t.loading=!1})))},sortProducts:function(t,e){var n=this.pagination.sortBy.length?this.pagination.sortBy[0]:void 0,o=this.pagination.sortDesc.length?this.pagination.sortDesc[0]:void 0,r=null,i=null;if(void 0===n){if(t.accessible!==e.accessible)return t.accessible?-1:1;r=t.displayedName.toLowerCase(),i=e.displayedName.toLowerCase()}else"displayedName"===n?(r=t.displayedName.toLowerCase(),i=e.displayedName.toLowerCase()):"runCount"===n?(r=t.runCount,i=e.runCount):"latestStoreToProduct"===n?(r=t.latestStoreToProduct?new Date(t.latestStoreToProduct):null,i=e.latestStoreToProduct?new Date(e.latestStoreToProduct):null):console.warn("Invalid sort field: ",n);if(o){var s=[i,r];r=s[0],i=s[1]}return r<i?-1:r>i?1:0},onCompleteNewProduct:function(){this.fetchProducts()},onCompleteEditProduct:function(){this.fetchProducts()},deleteProduct:function(t){this.products=this.products.filter((function(e){return e.id!==t.id}))},getRunCountColor:function(t){return t>500?"red":t>200?"orange":"green"}}};n(36045);const Dt=(0,N.A)(Nt,(function(){var t=this,e=t._self._c;return e(a.A,{attrs:{fluid:""}},[e(u.A,{attrs:{headers:t.headers,items:t.products,options:t.pagination,"footer-props":t.footerProps,page:t.page,"must-sort":!0,loading:t.loading,"mobile-breakpoint":1e3,"loading-text":"Loading products...","item-key":"endpoint"},on:{"update:options":function(e){t.pagination=e},"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e(f.A,{staticClass:"mb-4",attrs:{flat:""}},[e(l.A,[e(s.A,[e(p.A,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search for products...","single-line":"","hide-details":"",outlined:"",solo:"",flat:"",dense:""},model:{value:t.productNameSearch,callback:function(e){t.productNameSearch=e},expression:"productNameSearch"}})],1),t._v(" "),e(d.A),t._v(" "),e(s.A,{attrs:{cols:"auto",align:"right"}},[e(d.A),t._v(" "),t.isSuperUser?e("span",[e("edit-announcement-btn"),t._v(" "),e("edit-global-permission-btn"),t._v(" "),e("new-product-btn",{attrs:{"is-super-user":t.isSuperUser},on:{"on-complete":t.onCompleteNewProduct}})],1):t._e(),t._v(" "),e(r.A,{attrs:{icon:"",title:"Reload products",color:"primary"},on:{click:t.fetchProducts}},[e(c.A,[t._v("mdi-refresh")])],1)],1)],1)],1)]},proxy:!0},{key:"item.displayedName",fn:function(t){var n=t.item;return[e("product-name-column",{attrs:{product:n}})]}},{key:"item.admins",fn:function(n){var r=n.item;return t._l(r.admins,(function(n){return e("span",{key:n,staticClass:"v-chip-max-width-wrapper"},[e(i.A,{staticClass:"mr-2 my-1",attrs:{color:"secondary",outlined:"",title:n}},[e(o.A,[e(c.A,[t._v("mdi-account-circle")])],1),t._v("\n          "+t._s(n)+"\n        ")],1)],1)}))}},{key:"item.runCount",fn:function(n){var o=n.item;return[e(i.A,{attrs:{color:t.getRunCountColor(o.runCount),dark:""}},[t._v("\n        "+t._s(o.runCount)+"\n      ")])]}},{key:"item.latestStoreToProduct",fn:function(n){var o=n.item;return[o.latestStoreToProduct?e(i.A,{staticClass:"ma-2",attrs:{color:"primary",outlined:""}},[e(c.A,{attrs:{left:""}},[t._v("\n          mdi-calendar-range\n        ")]),t._v("\n        "+t._s(t._f("prettifyDate")(o.latestStoreToProduct))+"\n      ")],1):t._e()]}},{key:"item.action",fn:function(n){var o=n.item;return[e("div",{staticClass:"text-no-wrap"},[o.administrating?e("edit-product-btn",{attrs:{product:o,"is-super-user":t.isSuperUser},on:{"on-complete":t.onCompleteEditProduct}}):t._e(),t._v(" "),t.isSuperUser?e("delete-product-btn",{attrs:{product:o},on:{"on-complete":t.deleteProduct}}):t._e()],1)]}}])})],1)}),[],!1,null,"62fab1a6",null).exports},84302:(t,e,n)=>{var o=n(31601),r=n(76314)(o);r.push([t.id,".v-list-item__subtitle[data-v-62fab1a6]{white-space:normal}.v-chip-max-width-wrapper[data-v-62fab1a6]{display:inline-block;max-width:150px}.v-chip-max-width-wrapper[data-v-62fab1a6] .v-chip__content{line-height:32px;display:inline-block !important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative}",""]),t.exports=r},86477:(t,e,n)=>{var o=n(44620);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals),(0,n(70534).A)("5cb2a794",o,!0,{})}}]);