memory "support_memory":
  type "conversation"

model "support-llm":
  provider "openai"

ai "classify_issue":
  model "support-llm"
  input from "user_input"
  description "Classify the user's support request."

ai "kb_reader":
  model "support-llm"
  input from "user_input"
  description "Suggest a KB snippet or next action."

agent "support_agent":
  goal "Assist users by classifying issues, retrieving KB snippets, and advising next steps."
  personality "reassuring and efficient"

flow "support_flow":
  description "Classify the request, check ticket status, consult KB, and respond."
  step "categorize":
    kind "ai"
    target "classify_issue"
  step "status_lookup":
    kind "tool"
    target "get_ticket_status"
    message "Lookup current ticket status."
  step "kb_suggestion":
    kind "ai"
    target "kb_reader"
  step "respond":
    kind "agent"
    target "support_agent"

app "support_app":
  entry_page "support"
  description "AI support assistant with tool calls and KB lookup."

page "support":
  route "/support"
  title "Support Assistant"
  section "intro":
    component "text":
      value "Run support_flow to categorize tickets, check status, and suggest resolutions."
