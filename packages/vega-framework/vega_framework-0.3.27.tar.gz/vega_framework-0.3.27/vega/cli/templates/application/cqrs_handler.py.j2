"""{{ handler_type }}: {{ class_name }} (CQRS)"""
from vega.patterns import Interactor
from vega.di import bind

from {{ app_module }}.{{ layer_folder }}.{{ folder_name }}.{{ input_file }} import {{ input_class }}
from {{ app_module }}.{{ layer_folder }}.{{ folder_name }}.{{ response_file }} import {{ response_class }}
# Import your dependencies
{% if domain_module_base %}
# from {{ domain_module_base }}.domain.repositories.xxx_repository import XxxRepository
# from {{ domain_module_base }}.domain.services.xxx_service import XxxService
{% else %}
# from domain.repositories.xxx_repository import XxxRepository
# from domain.services.xxx_service import XxxService
{% endif %}


class {{ class_name }}Handler(Interactor[{{ response_class }}]):
    """{{ handler_type }} handler for {{ input_class }}"""

    def __init__(self, {{ input_var }}: {{ input_class }}):
        self.{{ input_var }} = {{ input_var }}

    @bind
    async def call(
        self,
        # Add dependencies here (repositories, services, etc.)
        # repository: XxxRepository,
    ) -> {{ response_class }}:
        """Execute the {{ handler_type_lower }} logic"""
        # Implement {{ handler_type_lower }} logic
        raise NotImplementedError("Implement this {{ handler_type_lower }} handler")
