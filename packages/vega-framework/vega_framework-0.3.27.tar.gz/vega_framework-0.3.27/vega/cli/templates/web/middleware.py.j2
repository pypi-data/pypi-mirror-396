"""{{ class_name }} middleware for Vega Web application"""
from typing import Optional

from vega.web import MiddlewarePhase, Request, Response, RouteMiddleware


class {{ class_name }}Middleware(RouteMiddleware):
    """{{ class_name }} middleware"""

    def __init__(self):
        super().__init__(phase=MiddlewarePhase.BOTH)
        # Add initialization logic here

    async def before(self, request: Request) -> Optional[Response]:
        """Execute code before the route handler. Return Response to short-circuit, None to continue"""
        # Add pre-processing logic here
        return None

    async def after(self, request: Request, response: Response) -> Response:
        """Execute code after the route handler"""
        # Add post-processing logic here
        return response
