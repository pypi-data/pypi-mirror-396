[project]
name = "data-transfer-cli"
version = "0.3.9"
description = "HiDALGO Data Transfer CLI provides commands to transfer data between different data providers and consumers using NIFI pipelines"
authors = [
    { name = "Jesús Gorroñogoitia", email = "jesus.gorronogoitia@eviden.com" },
]
license = "APL-2.0"
readme = "README.md"
requires-python = ">=3.11, <4.0"
dependencies = [
    "requests>=2.31.0",
    "paramiko>=3.3.1",
    "hid_data_transfer_lib>=0.3.9",
    "pyyaml (>=6.0.2,<7.0.0)",
    #"hid-data-transfer-lib @ file:///home/yosu/Projects/Hidalgo2/git/hid-data-management/data-transfer/nifi/hid_data_transfer_lib/dist/hid_data_transfer_lib-0.3.9-py3-none-any.whl",
]

[tool.poetry]
packages = [
    { include = "data_transfer_cli" },
    { include = "parser", from = "data_transfer_cli" },
]
include = ["dtcli", "setenv.sh"]

[tool.poetry.dependencies]
# Comment out when using the version installed in Pypi
# hid_data_transfer_lib = { path = "../hid_data_transfer_lib/dist/hid_data_transfer_lib-0.3.2-py3-none-any.whl", develop = true }

[tool.poetry.group.dev.dependencies]
flake8 = "^6.1.0"
black = "^23.9.1"
pytest = "^7.4.2"
pytest-cov = "^5.0.0"
pytest-env = "^1.1.3"

[tool.poetry.group.types.dependencies]
types-paramiko = "^3.4.0.20240311"
types-requests = "^2.31.0.20240311"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[project.scripts]
dtcli = 'data_transfer_cli.dtcli:main'

[tool.pytest.ini_options]
pythonpath = ["data_transfer_cli"]
addopts = "-s"