{"version":3,"file":"lib_index_js.9b90d34f702d353d745e.js","mappings":"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","sources":["webpack://jupyterlab-ghostty/./src/index.ts","webpack://jupyterlab-ghostty/./src/tokens.ts","webpack://jupyterlab-ghostty/./src/widget.ts"],"sourcesContent":["import {\n  ILayoutRestorer,\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\nimport {\n  ICommandPalette,\n  IThemeManager,\n  MainAreaWidget,\n  WidgetTracker\n} from '@jupyterlab/apputils';\nimport { ILauncher } from '@jupyterlab/launcher';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { IRunningSessionManagers, IRunningSessions } from '@jupyterlab/running';\nimport { Terminal, TerminalAPI } from '@jupyterlab/services';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { LabIcon } from '@jupyterlab/ui-components';\nimport { Menu } from '@lumino/widgets';\n\nimport { GhosttyTerminal } from './widget';\nimport { IGhosttyTerminal, IGhosttyTerminalTracker } from './tokens';\n\nconst ghosttyIconSvg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n  <rect x=\"2\" y=\"4\" width=\"20\" height=\"16\" rx=\"2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"/>\n  <text x=\"6\" y=\"16\" font-family=\"monospace\" font-size=\"10\" fill=\"currentColor\">&gt;_</text>\n</svg>`;\n\nconst ghosttyIcon = new LabIcon({\n  name: 'jupyterlab-ghostty:icon',\n  svgstr: ghosttyIconSvg\n});\n\nnamespace CommandIDs {\n  export const createNew = 'ghostty-terminal:create-new';\n  export const open = 'ghostty-terminal:open';\n  export const refresh = 'ghostty-terminal:refresh';\n  export const increaseFont = 'ghostty-terminal:increase-font';\n  export const decreaseFont = 'ghostty-terminal:decrease-font';\n  export const setTheme = 'ghostty-terminal:set-theme';\n  export const shutdown = 'ghostty-terminal:shutdown';\n}\n\nconst plugin: JupyterFrontEndPlugin<IGhosttyTerminalTracker> = {\n  id: 'jupyterlab-ghostty:plugin',\n  description: 'Adds Ghostty-based terminal emulator to JupyterLab.',\n  autoStart: true,\n  provides: IGhosttyTerminalTracker,\n  requires: [ISettingRegistry, ITranslator],\n  optional: [\n    ICommandPalette,\n    ILauncher,\n    ILayoutRestorer,\n    IMainMenu,\n    IThemeManager,\n    IRunningSessionManagers\n  ],\n  activate\n};\n\nexport default plugin;\n\nfunction activate(\n  app: JupyterFrontEnd,\n  settingRegistry: ISettingRegistry,\n  translator: ITranslator,\n  palette: ICommandPalette | null,\n  launcher: ILauncher | null,\n  restorer: ILayoutRestorer | null,\n  mainMenu: IMainMenu | null,\n  themeManager: IThemeManager | null,\n  runningSessionManagers: IRunningSessionManagers | null\n): IGhosttyTerminalTracker {\n  const trans = translator.load('jupyterlab');\n  const { serviceManager, commands } = app;\n  const category = trans.__('Ghostty Terminal');\n  const namespace = 'ghostty-terminal';\n\n  const tracker = new WidgetTracker<\n    MainAreaWidget<IGhosttyTerminal.ITerminal>\n  >({\n    namespace\n  });\n\n  if (!serviceManager.terminals.isAvailable()) {\n    console.warn(\n      'Ghostty terminal disabled: terminals not available on server'\n    );\n    return tracker;\n  }\n\n  if (restorer) {\n    void restorer.restore(tracker, {\n      command: CommandIDs.createNew,\n      args: widget => ({ name: widget.content.session.name }),\n      name: widget => `ghostty-${widget.content.session.name}`\n    });\n  }\n\n  const options: Partial<IGhosttyTerminal.IOptions> = {};\n\n  function updateOptions(settings: ISettingRegistry.ISettings): void {\n    const composite = settings.composite as Record<string, unknown>;\n    Object.keys(composite).forEach(key => {\n      (options as Record<string, unknown>)[key] = composite[key];\n    });\n  }\n\n  function updateTracker(): void {\n    tracker.forEach(widget => {\n      const terminal = widget.content;\n      Object.keys(options).forEach(key => {\n        const k = key as keyof IGhosttyTerminal.IOptions;\n        terminal.setOption(k, options[k] as IGhosttyTerminal.IOptions[typeof k]);\n      });\n    });\n  }\n\n  settingRegistry\n    .load(plugin.id)\n    .then(settings => {\n      updateOptions(settings);\n      updateTracker();\n      settings.changed.connect(() => {\n        updateOptions(settings);\n        updateTracker();\n      });\n    })\n    .catch(err => console.error(`Failed to load settings: ${err}`));\n\n  themeManager?.themeChanged.connect(() => {\n    tracker.forEach(widget => {\n      if (widget.content.getOption('theme') === 'inherit') {\n        widget.content.setOption('theme', 'inherit');\n      }\n    });\n  });\n\n  commands.addCommand(CommandIDs.createNew, {\n    label: args =>\n      args['isPalette']\n        ? trans.__('New Ghostty Terminal')\n        : trans.__('Ghostty Terminal'),\n    caption: trans.__('Start a new Ghostty terminal session'),\n    icon: args => (args['isPalette'] ? undefined : ghosttyIcon),\n    execute: async args => {\n      const name = args['name'] as string;\n      const cwd = args['cwd'] as string;\n      const localPath = cwd\n        ? serviceManager.contents.localPath(cwd)\n        : undefined;\n\n      let session;\n      if (name) {\n        const models = await TerminalAPI.listRunning(\n          serviceManager.serverSettings\n        );\n        if (models.map(d => d.name).includes(name)) {\n          session = serviceManager.terminals.connectTo({ model: { name } });\n        } else {\n          session = await serviceManager.terminals.startNew({\n            name,\n            cwd: localPath\n          });\n        }\n      } else {\n        session = await serviceManager.terminals.startNew({ cwd: localPath });\n      }\n\n      const term = new GhosttyTerminal(session, options, translator);\n      term.title.icon = ghosttyIcon;\n      term.title.label = '...';\n\n      const main = new MainAreaWidget({ content: term, reveal: term.ready });\n      app.shell.add(main, 'main', { type: 'Terminal' });\n      void tracker.add(main);\n      app.shell.activateById(main.id);\n      return main;\n    }\n  });\n\n  commands.addCommand(CommandIDs.open, {\n    label: trans.__('Open Ghostty Terminal'),\n    execute: async args => {\n      const name = args['name'] as string;\n      if (!name) {\n        return;\n      }\n\n      const existing = tracker.find(\n        widget => widget.content.session.name === name\n      );\n      if (existing) {\n        app.shell.activateById(existing.id);\n        return existing;\n      }\n\n      return commands.execute(CommandIDs.createNew, { name });\n    }\n  });\n\n  commands.addCommand(CommandIDs.refresh, {\n    label: trans.__('Refresh Ghostty Terminal'),\n    execute: async () => {\n      const current = tracker.currentWidget;\n      if (current) {\n        await current.content.refresh();\n      }\n    },\n    isEnabled: () => tracker.currentWidget !== null\n  });\n\n  commands.addCommand(CommandIDs.shutdown, {\n    label: trans.__('Shutdown Ghostty Terminal'),\n    execute: () => {\n      const current = tracker.currentWidget;\n      if (current) {\n        return current.content.session.shutdown();\n      }\n    },\n    isEnabled: () => tracker.currentWidget !== null\n  });\n\n  commands.addCommand(CommandIDs.increaseFont, {\n    label: trans.__('Increase Ghostty Terminal Font Size'),\n    execute: async () => {\n      const { fontSize } = options;\n      if (fontSize && fontSize < 72) {\n        await settingRegistry.set(plugin.id, 'fontSize', fontSize + 1);\n      }\n    }\n  });\n\n  commands.addCommand(CommandIDs.decreaseFont, {\n    label: trans.__('Decrease Ghostty Terminal Font Size'),\n    execute: async () => {\n      const { fontSize } = options;\n      if (fontSize && fontSize > 9) {\n        await settingRegistry.set(plugin.id, 'fontSize', fontSize - 1);\n      }\n    }\n  });\n\n  commands.addCommand(CommandIDs.setTheme, {\n    label: args => {\n      const displayName = args['displayName'] as string;\n      return args['isPalette']\n        ? trans.__('Use Ghostty Theme: %1', displayName)\n        : displayName;\n    },\n    isToggled: args => args['theme'] === options.theme,\n    execute: async args => {\n      const theme = args['theme'] as IGhosttyTerminal.Theme;\n      await settingRegistry.set(plugin.id, 'theme', theme);\n    }\n  });\n\n  if (palette) {\n    [\n      CommandIDs.createNew,\n      CommandIDs.refresh,\n      CommandIDs.increaseFont,\n      CommandIDs.decreaseFont\n    ].forEach(command => {\n      palette.addItem({ command, category, args: { isPalette: true } });\n    });\n\n    ['inherit', 'light', 'dark'].forEach(theme => {\n      palette.addItem({\n        command: CommandIDs.setTheme,\n        category,\n        args: {\n          theme,\n          displayName: trans.__(theme.charAt(0).toUpperCase() + theme.slice(1)),\n          isPalette: true\n        }\n      });\n    });\n  }\n\n  if (launcher) {\n    launcher.add({\n      command: CommandIDs.createNew,\n      category: trans.__('Other'),\n      rank: 1\n    });\n  }\n\n  if (mainMenu) {\n    const themeMenu = new Menu({ commands });\n    themeMenu.title.label = trans._p('menu', 'Ghostty Theme');\n    ['inherit', 'light', 'dark'].forEach(theme => {\n      themeMenu.addItem({\n        command: CommandIDs.setTheme,\n        args: {\n          theme,\n          displayName: trans.__(theme.charAt(0).toUpperCase() + theme.slice(1)),\n          isPalette: false\n        }\n      });\n    });\n\n    mainMenu.settingsMenu.addGroup(\n      [\n        { command: CommandIDs.increaseFont },\n        { command: CommandIDs.decreaseFont },\n        { type: 'submenu', submenu: themeMenu }\n      ],\n      41\n    );\n\n    mainMenu.fileMenu.newMenu.addItem({\n      command: CommandIDs.createNew,\n      rank: 21\n    });\n  }\n\n  if (runningSessionManagers) {\n    const manager = serviceManager.terminals;\n\n    class RunningGhosttyTerminal implements IRunningSessions.IRunningItem {\n      constructor(private _model: Terminal.IModel) {}\n      open() {\n        void commands.execute(CommandIDs.open, { name: this._model.name });\n      }\n      icon() {\n        return ghosttyIcon;\n      }\n      label() {\n        return `ghostty/${this._model.name}`;\n      }\n      shutdown() {\n        return manager.shutdown(this._model.name);\n      }\n    }\n\n    // Creates a separate section from standard terminals in the running panel\n    runningSessionManagers.add({\n      name: trans.__('Ghostty Terminals'),\n      supportsMultipleViews: false,\n      running: () =>\n        Array.from(manager.running())\n          .filter(model => {\n            return (\n              tracker.find(w => w.content.session.name === model.name) !==\n              undefined\n            );\n          })\n          .map(model => new RunningGhosttyTerminal(model)),\n      shutdownAll: () => {\n        const promises: Promise<void>[] = [];\n        tracker.forEach(widget => {\n          promises.push(widget.content.session.shutdown());\n        });\n        return Promise.all(promises).then(() => {});\n      },\n      refreshRunning: () => manager.refreshRunning(),\n      runningChanged: manager.runningChanged,\n      shutdownLabel: trans.__('Shut Down'),\n      shutdownAllLabel: trans.__('Shut Down All')\n    });\n  }\n\n  console.log('JupyterLab extension jupyterlab-ghostty is activated!');\n\n  return tracker;\n}\n\nexport * from './tokens';\n","import { IWidgetTracker, MainAreaWidget } from '@jupyterlab/apputils';\nimport { Token } from '@lumino/coreutils';\nimport { ISignal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\nimport { Terminal } from '@jupyterlab/services';\n\nexport const IGhosttyTerminalTracker = new Token<IGhosttyTerminalTracker>(\n  'jupyterlab-ghostty:IGhosttyTerminalTracker',\n  'A widget tracker for Ghostty terminals.'\n);\n\nexport interface IGhosttyTerminalTracker\n  extends IWidgetTracker<MainAreaWidget<IGhosttyTerminal.ITerminal>> {}\n\nexport namespace IGhosttyTerminal {\n  export interface ITerminal extends Widget {\n    session: Terminal.ITerminalConnection;\n    getOption<K extends keyof IOptions>(option: K): IOptions[K];\n    setOption<K extends keyof IOptions>(option: K, value: IOptions[K]): void;\n    refresh(): Promise<void>;\n    hasSelection(): boolean;\n    paste(data: string): void;\n    getSelection(): string | null;\n    themeChanged: ISignal<this, void>;\n  }\n\n  export interface IOptions {\n    fontFamily?: string;\n    fontSize: number;\n    lineHeight?: number;\n    theme: Theme;\n    scrollback?: number;\n    shutdownOnClose: boolean;\n    closeOnExit: boolean;\n    cursorBlink: boolean;\n    initialCommand: string;\n    autoFit?: boolean;\n  }\n\n  export const defaultOptions: IOptions = {\n    theme: 'inherit',\n    fontFamily: 'Menlo, Consolas, \"DejaVu Sans Mono\", monospace',\n    fontSize: 13,\n    lineHeight: 1.0,\n    scrollback: 10000,\n    shutdownOnClose: false,\n    closeOnExit: true,\n    cursorBlink: false,\n    initialCommand: '',\n    autoFit: true\n  };\n\n  export type Theme = 'light' | 'dark' | 'inherit';\n\n  export interface IThemeObject {\n    foreground: string;\n    background: string;\n    cursor?: string;\n    cursorAccent?: string;\n    selectionBackground?: string;\n    selectionForeground?: string;\n    // Standard ANSI colors (0-7)\n    black?: string;\n    red?: string;\n    green?: string;\n    yellow?: string;\n    blue?: string;\n    magenta?: string;\n    cyan?: string;\n    white?: string;\n    // Bright ANSI colors (8-15)\n    brightBlack?: string;\n    brightRed?: string;\n    brightGreen?: string;\n    brightYellow?: string;\n    brightBlue?: string;\n    brightMagenta?: string;\n    brightCyan?: string;\n    brightWhite?: string;\n  }\n}\n","import { Terminal as TerminalNS } from '@jupyterlab/services';\nimport {\n  ITranslator,\n  nullTranslator,\n  TranslationBundle\n} from '@jupyterlab/translation';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { Platform } from '@lumino/domutils';\nimport { Message, MessageLoop } from '@lumino/messaging';\nimport { ISignal, Signal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\nimport { IGhosttyTerminal } from './tokens';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype GhosttyTerm = any;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype GhosttyFitAddon = any;\n\nconst TERMINAL_CLASS = 'jp-GhosttyTerminal';\nconst TERMINAL_BODY_CLASS = 'jp-GhosttyTerminal-body';\n\nexport class GhosttyTerminal\n  extends Widget\n  implements IGhosttyTerminal.ITerminal\n{\n  constructor(\n    session: TerminalNS.ITerminalConnection,\n    options: Partial<IGhosttyTerminal.IOptions> = {},\n    translator?: ITranslator\n  ) {\n    super();\n    translator = translator || nullTranslator;\n    this._trans = translator.load('jupyterlab');\n    this.session = session;\n\n    this._options = { ...IGhosttyTerminal.defaultOptions, ...options };\n\n    this.addClass(TERMINAL_CLASS);\n    this._setThemeAttribute(this._options.theme);\n\n    let buffer = '';\n    const bufferMessage = (\n      sender: TerminalNS.ITerminalConnection,\n      msg: TerminalNS.IMessage\n    ): void => {\n      if (msg.type === 'stdout' && msg.content) {\n        buffer += msg.content[0] as string;\n      }\n    };\n    session.messageReceived.connect(bufferMessage);\n    session.disposed.connect(() => {\n      if (this.getOption('closeOnExit')) {\n        this.dispose();\n      }\n    }, this);\n\n    Private.createTerminal({\n      theme: Private.getTheme(this._options.theme),\n      fontSize: this._options.fontSize,\n      fontFamily: this._options.fontFamily,\n      scrollback: this._options.scrollback,\n      cursorBlink: this._options.cursorBlink\n    })\n      .then(({ term, fitAddon }) => {\n        this._term = term;\n        this._fitAddon = fitAddon;\n        this._initializeTerm();\n\n        this.id = `jp-GhosttyTerminal-${Private.id++}`;\n        this.title.label = this._trans.__('Ghostty Terminal');\n        this._isReady = true;\n        this._ready.resolve();\n\n        if (buffer) {\n          this._term.write(buffer);\n        }\n        session.messageReceived.disconnect(bufferMessage);\n        session.messageReceived.connect(this._onMessage, this);\n\n        if (session.connectionStatus === 'connected') {\n          this._initialConnection();\n        } else {\n          session.connectionStatusChanged.connect(\n            this._initialConnection,\n            this\n          );\n        }\n        this.update();\n      })\n      .catch(reason => {\n        console.error('Failed to create Ghostty terminal.\\n', reason);\n        this._ready.reject(reason);\n      });\n  }\n\n  get ready(): Promise<void> {\n    return this._ready.promise;\n  }\n\n  readonly session: TerminalNS.ITerminalConnection;\n\n  getOption<K extends keyof IGhosttyTerminal.IOptions>(\n    option: K\n  ): IGhosttyTerminal.IOptions[K] {\n    return this._options[option];\n  }\n\n  setOption<K extends keyof IGhosttyTerminal.IOptions>(\n    option: K,\n    value: IGhosttyTerminal.IOptions[K]\n  ): void {\n    if (option !== 'theme' && this._options[option] === value) {\n      return;\n    }\n\n    this._options[option] = value;\n\n    if (!this._term) {\n      return;\n    }\n\n    switch (option) {\n      case 'fontFamily':\n        this._term.options.fontFamily = value as string | undefined;\n        break;\n      case 'fontSize':\n        this._term.options.fontSize = value as number | undefined;\n        break;\n      case 'scrollback':\n        this._term.options.scrollback = value as number | undefined;\n        break;\n      case 'theme':\n        this._term.options.theme = Private.getTheme(\n          value as IGhosttyTerminal.Theme\n        );\n        this._setThemeAttribute(value as IGhosttyTerminal.Theme);\n        this._themeChanged.emit();\n        break;\n      default:\n        break;\n    }\n\n    this._needsResize = true;\n    this.update();\n  }\n\n  dispose(): void {\n    if (!this.session.isDisposed) {\n      if (this.getOption('shutdownOnClose')) {\n        this.session.shutdown().catch(reason => {\n          console.error(`Terminal not shut down: ${reason}`);\n        });\n      }\n    }\n    void this.ready.then(() => {\n      this._term?.dispose();\n    });\n    super.dispose();\n  }\n\n  async refresh(): Promise<void> {\n    if (!this.isDisposed && this._isReady) {\n      await this.session.reconnect();\n      this._term?.clear();\n    }\n  }\n\n  hasSelection(): boolean {\n    return this._isReady ? this._term?.hasSelection() ?? false : false;\n  }\n\n  paste(data: string): void {\n    if (this._isReady) {\n      this._term?.paste(data);\n    }\n  }\n\n  getSelection(): string | null {\n    return this._isReady ? this._term?.getSelection() ?? null : null;\n  }\n\n  processMessage(msg: Message): void {\n    super.processMessage(msg);\n    if (msg.type === 'fit-request') {\n      this.onFitRequest(msg);\n    }\n  }\n\n  get themeChanged(): ISignal<this, void> {\n    return this._themeChanged;\n  }\n\n  protected onAfterAttach(msg: Message): void {\n    this.update();\n  }\n\n  protected onAfterShow(msg: Message): void {\n    this.update();\n  }\n\n  protected onResize(msg: Widget.ResizeMessage): void {\n    this._offsetWidth = msg.width;\n    this._offsetHeight = msg.height;\n    this._needsResize = true;\n    this.update();\n  }\n\n  protected onUpdateRequest(msg: Message): void {\n    if (!this.isVisible || !this.isAttached || !this._isReady) {\n      return;\n    }\n\n    if (!this._termOpened) {\n      this._term?.open(this.node);\n      const termContainer = this.node.querySelector('canvas')?.parentElement;\n      if (termContainer) {\n        termContainer.classList.add(TERMINAL_BODY_CLASS);\n      }\n      this._termOpened = true;\n    }\n\n    if (this._needsResize) {\n      this._resizeTerminal();\n    }\n  }\n\n  protected onFitRequest(msg: Message): void {\n    MessageLoop.sendMessage(this, Widget.ResizeMessage.UnknownSize);\n  }\n\n  protected onActivateRequest(msg: Message): void {\n    this._term?.focus();\n  }\n\n  private _initialConnection(): void {\n    if (this.isDisposed || this.session.connectionStatus !== 'connected') {\n      return;\n    }\n\n    this.title.label = this._trans.__('Ghostty %1', this.session.name);\n    this._setSessionSize();\n\n    if (this._options.initialCommand) {\n      this.session.send({\n        type: 'stdin',\n        content: [this._options.initialCommand + '\\r']\n      });\n    }\n\n    this.session.connectionStatusChanged.disconnect(\n      this._initialConnection,\n      this\n    );\n  }\n\n  private _initializeTerm(): void {\n    const term = this._term!;\n\n    term.onData((data: string) => {\n      if (!this.isDisposed) {\n        this.session.send({ type: 'stdin', content: [data] });\n      }\n    });\n\n    term.onTitleChange((title: string) => {\n      this.title.label = title;\n    });\n\n    // On non-Mac platforms, allow Ctrl+C to copy when text is selected\n    if (!Platform.IS_MAC) {\n      term.attachCustomKeyEventHandler((event: KeyboardEvent) => {\n        if (event.ctrlKey && event.key === 'c' && term.hasSelection()) {\n          return false;\n        }\n        return true;\n      });\n    }\n  }\n\n  private _onMessage(\n    sender: TerminalNS.ITerminalConnection,\n    msg: TerminalNS.IMessage\n  ): void {\n    switch (msg.type) {\n      case 'stdout':\n        if (msg.content) {\n          // Write directly - ghostty-web has a 60fps render loop with dirty tracking\n          this._term?.write(msg.content[0] as string);\n        }\n        break;\n      case 'disconnect':\n        this._term?.write('\\r\\n\\r\\n[Finishedâ€¦ Term Session]\\r\\n');\n        break;\n    }\n  }\n\n  private _resizeTerminal(): void {\n    if (!this._term || !this._fitAddon) return;\n\n    // Use FitAddon for proper terminal sizing\n    if (this._options.autoFit) {\n      try {\n        this._fitAddon.fit();\n      } catch (err) {\n        console.error('Error fitting terminal:', err);\n      }\n    }\n\n    if (this._offsetWidth === -1) {\n      this._offsetWidth = this.node.offsetWidth;\n    }\n    if (this._offsetHeight === -1) {\n      this._offsetHeight = this.node.offsetHeight;\n    }\n\n    this._setSessionSize();\n    this._needsResize = false;\n  }\n\n  private _setSessionSize(): void {\n    if (!this._term || this.isDisposed) return;\n\n    const content = [\n      this._term.rows,\n      this._term.cols,\n      this._offsetHeight,\n      this._offsetWidth\n    ];\n    this.session.send({ type: 'set_size', content });\n  }\n\n  private _setThemeAttribute(theme: string | null | undefined): void {\n    if (this.isDisposed) return;\n    this.node.setAttribute(\n      'data-term-theme',\n      theme ? theme.toLowerCase() : 'inherit'\n    );\n  }\n\n  private _needsResize = true;\n  private _offsetWidth = -1;\n  private _offsetHeight = -1;\n  private _options: IGhosttyTerminal.IOptions;\n  private _isReady = false;\n  private _ready = new PromiseDelegate<void>();\n  private _term: GhosttyTerm | null = null;\n  private _fitAddon: GhosttyFitAddon | null = null;\n  private _termOpened = false;\n  private _trans: TranslationBundle;\n  private _themeChanged = new Signal<this, void>(this);\n}\n\nnamespace Private {\n  export let id = 0;\n  let initialized = false;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let GhosttyTerminal_: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let GhosttyFitAddon_: any;\n\n  export const lightTheme: IGhosttyTerminal.IThemeObject = {\n    foreground: '#000000',\n    background: '#ffffff',\n    cursor: '#616161',\n    cursorAccent: '#ffffff',\n    selectionBackground: '#add6ff',\n    selectionForeground: '#000000',\n    black: '#000000',\n    red: '#cd3131',\n    green: '#00bc00',\n    yellow: '#949800',\n    blue: '#0451a5',\n    magenta: '#bc05bc',\n    cyan: '#0598bc',\n    white: '#555555',\n    brightBlack: '#666666',\n    brightRed: '#cd3131',\n    brightGreen: '#14ce14',\n    brightYellow: '#b5ba00',\n    brightBlue: '#0451a5',\n    brightMagenta: '#bc05bc',\n    brightCyan: '#0598bc',\n    brightWhite: '#a5a5a5'\n  };\n\n  export const darkTheme: IGhosttyTerminal.IThemeObject = {\n    foreground: '#d4d4d4',\n    background: '#1e1e1e',\n    cursor: '#ffffff',\n    cursorAccent: '#000000',\n    selectionBackground: '#264f78',\n    selectionForeground: '#ffffff',\n    black: '#000000',\n    red: '#cd3131',\n    green: '#0dbc79',\n    yellow: '#e5e510',\n    blue: '#2472c8',\n    magenta: '#bc3fbc',\n    cyan: '#11a8cd',\n    white: '#e5e5e5',\n    brightBlack: '#666666',\n    brightRed: '#f14c4c',\n    brightGreen: '#23d18b',\n    brightYellow: '#f5f543',\n    brightBlue: '#3b8eea',\n    brightMagenta: '#d670d6',\n    brightCyan: '#29b8db',\n    brightWhite: '#ffffff'\n  };\n\n  export function inheritTheme(): IGhosttyTerminal.IThemeObject {\n    const bodyStyle = getComputedStyle(document.body);\n    const bg = bodyStyle.getPropertyValue('--jp-layout-color0').trim();\n    // Detect if dark theme by checking background luminance\n    const isDark = bg && bg.toLowerCase() < '#808080';\n    const baseTheme = isDark ? darkTheme : lightTheme;\n\n    return {\n      foreground:\n        bodyStyle.getPropertyValue('--jp-ui-font-color0').trim() ||\n        baseTheme.foreground,\n      background: bg || baseTheme.background,\n      cursor:\n        bodyStyle.getPropertyValue('--jp-ui-font-color1').trim() ||\n        baseTheme.cursor,\n      cursorAccent: baseTheme.cursorAccent,\n      selectionBackground:\n        bodyStyle.getPropertyValue('--jp-editor-selected-background').trim() ||\n        baseTheme.selectionBackground,\n      selectionForeground: baseTheme.selectionForeground,\n      black: baseTheme.black,\n      red: baseTheme.red,\n      green: baseTheme.green,\n      yellow: baseTheme.yellow,\n      blue: baseTheme.blue,\n      magenta: baseTheme.magenta,\n      cyan: baseTheme.cyan,\n      white: baseTheme.white,\n      brightBlack: baseTheme.brightBlack,\n      brightRed: baseTheme.brightRed,\n      brightGreen: baseTheme.brightGreen,\n      brightYellow: baseTheme.brightYellow,\n      brightBlue: baseTheme.brightBlue,\n      brightMagenta: baseTheme.brightMagenta,\n      brightCyan: baseTheme.brightCyan,\n      brightWhite: baseTheme.brightWhite\n    };\n  }\n\n  export function getTheme(\n    theme: IGhosttyTerminal.Theme\n  ): IGhosttyTerminal.IThemeObject {\n    switch (theme) {\n      case 'light':\n        return lightTheme;\n      case 'dark':\n        return darkTheme;\n      case 'inherit':\n      default:\n        return inheritTheme();\n    }\n  }\n\n  export async function createTerminal(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options: any\n  ): Promise<{ term: GhosttyTerm; fitAddon: GhosttyFitAddon }> {\n    if (!initialized) {\n      const ghostty = await import('ghostty-web');\n      await ghostty.init();\n      GhosttyTerminal_ = ghostty.Terminal;\n      GhosttyFitAddon_ = ghostty.FitAddon;\n      initialized = true;\n    }\n    const term = new GhosttyTerminal_(options);\n    const fitAddon = new GhosttyFitAddon_();\n    term.loadAddon(fitAddon);\n    return { term, fitAddon };\n  }\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}