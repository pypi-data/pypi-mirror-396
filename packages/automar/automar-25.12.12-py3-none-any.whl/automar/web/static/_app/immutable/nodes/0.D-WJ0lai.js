import"../chunks/DsnmJJEf.js";import{i as We}from"../chunks/DxX3FukI.js";import{ai as Jt,p as He,ac as wt,T as l,P as j,aj as it,ak as $t,j as S,k as Y,m as a,s,n as t,g as e,al as x,l as _,i as Ke,am as X,t as T,o as b,b as y,af as Be,e as Dt,an as Vt,a0 as It}from"../chunks/WOjXuHiA.js";import{p as de,s as yt,i as M,a as Mt}from"../chunks/BizFt_BK.js";import{h as Ue,j as Ut,t as ve,s as Tt,a as Nt,b as Bt,r as xt,c as zt,d as rt,e as kt,f as Ne,i as ot,g as Gt,k as Wt}from"../chunks/DE2oonYt.js";import{n as Ht}from"../chunks/DjpPRx00.js";function vt(r,n){var d=r.$$events?.[n.type],w=Jt(d)?d.slice():d==null?[]:[d];for(var C of w)C.call(this,n)}const ut={getStoragePaths(){return Ue("/settings/paths")},updateStoragePaths(r){return Ue("/settings/paths",{method:"POST",body:JSON.stringify(r)})},validateStoragePath(r){return Ue("/settings/paths/validate",{method:"POST",body:JSON.stringify({path:r})})},reloadPathConfig(){return Ue("/settings/paths/reload",{method:"POST"})},resetDefaults(){return Ue("/settings/defaults/reset",{method:"POST"})}};var Kt=S('<div class="loading-state svelte-1mguaap">Loading jobs...</div>'),Qt=S(`<div class="stats-section svelte-1mguaap"><h4 class="svelte-1mguaap">Job Statistics</h4> <div class="stats-grid svelte-1mguaap"><div class="stat-card svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Total</span></div> <div class="stat-card status-running svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Running</span></div> <div class="stat-card status-pending svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Pending</span></div> <div class="stat-card status-completed svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Completed</span></div> <div class="stat-card status-failed svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Failed</span></div> <div class="stat-card status-cancelled svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">Cancelled</span></div> <div class="stat-card status-locked svelte-1mguaap"><span class="stat-value svelte-1mguaap"> </span> <span class="stat-label svelte-1mguaap">ğŸ”’ Locked</span></div></div></div> <div class="settings-section svelte-1mguaap"><h4 class="svelte-1mguaap">Auto-Cleanup Settings</h4> <div class="cleanup-config svelte-1mguaap"><label for="cleanup-days" class="svelte-1mguaap">Delete completed/failed/cancelled jobs older than:</label> <div class="cleanup-input-group svelte-1mguaap"><input id="cleanup-days" type="number" min="1" max="365" class="svelte-1mguaap"/> <span>days</span> <button class="btn btn-sm btn-primary svelte-1mguaap">Save</button></div> <p class="info-note svelte-1mguaap">Locked jobs are never auto-deleted. This setting is stored locally
              and only affects cleanup operations.</p></div></div> <div class="bulk-actions-section svelte-1mguaap"><h4 class="svelte-1mguaap">Bulk Actions</h4> <div class="action-group svelte-1mguaap"><h5 class="svelte-1mguaap">Delete Jobs</h5> <div class="action-buttons svelte-1mguaap"><button class="btn btn-sm btn-danger svelte-1mguaap"> </button> <button class="btn btn-sm btn-danger svelte-1mguaap"> </button> <button class="btn btn-sm btn-danger svelte-1mguaap"> </button></div> <p class="warning-note svelte-1mguaap">âš ï¸ Only unlocked jobs will be deleted. Locked jobs are protected.</p></div> <div class="action-group svelte-1mguaap"><h5 class="svelte-1mguaap">Lock/Unlock Jobs</h5> <div class="action-buttons svelte-1mguaap"><button class="btn btn-sm btn-secondary svelte-1mguaap" title="Lock all completed jobs to prevent auto-cleanup">ğŸ”’ Lock All Completed</button> <button class="btn btn-sm btn-secondary svelte-1mguaap" title="Unlock all completed jobs to allow auto-cleanup">ğŸ”“ Unlock All Completed</button></div></div></div>`,1),Xt=S('<div class="confirmation-overlay svelte-1mguaap" role="dialog" aria-modal="true"><div class="confirmation-modal svelte-1mguaap"><h4 class="svelte-1mguaap"> </h4> <p class="svelte-1mguaap"> </p> <div class="confirmation-actions svelte-1mguaap"><button type="button" class="btn btn-danger svelte-1mguaap"> </button> <button type="button" class="btn btn-secondary svelte-1mguaap">Cancel</button></div></div></div>'),Yt=S('<div class="modal-backdrop svelte-1mguaap" role="button" tabindex="-1"><div class="modal-content svelte-1mguaap" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="modal-header svelte-1mguaap"><h3 id="modal-title" class="svelte-1mguaap">Manage Jobs</h3> <button class="close-btn svelte-1mguaap" title="Close">&times;</button></div> <div class="modal-body svelte-1mguaap"><!></div> <div class="modal-footer svelte-1mguaap"><button class="btn btn-secondary svelte-1mguaap">Close</button></div></div></div> <!>',1);function Zt(r,n){He(n,!1);const d=()=>yt(Nt,"$jobs",C),w=()=>yt(Bt,"$jobsLoading",C),[C,z]=Mt();let h=de(n,"onClose",8,()=>{});const P=Ut;let f=j(7),i=j(!1),v=j({total:0,completed:0,failed:0,cancelled:0,running:0,pending:0,locked:0}),R=j(!0),m=j(null),D=j(!1);wt(async()=>{const o=localStorage.getItem("automar_cleanup_days");o&&l(f,parseInt(o,10)),await $()});async function $(){l(R,!0);try{await P.fetchAllJobs()}catch(o){const u=o instanceof Error?o.message:"Failed to load jobs.";ve.error(u)}finally{l(R,!1)}}function L(){localStorage.setItem("automar_cleanup_days",e(f).toString()),ve.success(`Cleanup setting saved: delete jobs older than ${e(f)} days.`)}function J(o){l(m,o),l(D,!1)}function W(){e(D)||l(m,null)}async function O(){if(e(m)){l(D,!0);try{await e(m).onConfirm(),l(m,null)}finally{l(D,!1)}}}async function E(o){const u=Object.entries(d()).filter(([,k])=>k.status===o&&!k.locked).map(([k])=>k);if(u.length===0){ve.info(`No unlocked ${o} jobs to delete.`);return}J({title:"Delete jobs",message:`Delete ${u.length} ${o} job(s)? This action cannot be undone.`,confirmLabel:"Delete jobs",onConfirm:async()=>{l(i,!0);try{const k=await P.deleteJobs(u);ce(k,`Deleted ${k.success.length} ${o} job(s).`),await $()}finally{l(i,!1)}}})}async function H(o,u){const k=Object.entries(d()).filter(([,q])=>q.status===o&&q.locked!==u).map(([q])=>q);if(k.length===0){ve.info(`No ${o} jobs to ${u?"lock":"unlock"}.`);return}J({title:u?"Lock jobs":"Unlock jobs",message:`${u?"Lock":"Unlock"} ${k.length} ${o} job(s)?`,confirmLabel:u?"Lock jobs":"Unlock jobs",onConfirm:async()=>{l(i,!0);try{const q=await P.toggleJobLocks(k,u);ce(q,`${u?"Locked":"Unlocked"} ${q.success.length} ${o} job(s).`),await $()}finally{l(i,!1)}}})}function Z(o){const u=Object.values(o);return{total:u.length,completed:u.filter(k=>k.status==="completed").length,failed:u.filter(k=>k.status==="failed").length,cancelled:u.filter(k=>k.status==="cancelled").length,running:u.filter(k=>k.status==="running").length,pending:u.filter(k=>k.status==="pending").length,locked:u.filter(k=>k.locked).length}}function ce(o,u){o.failures.length>0?ve.error(`${u} ${o.failures.length} action(s) failed.`):ve.success(u)}it(()=>d(),()=>{l(v,Z(d()))}),it(()=>(w(),d()),()=>{l(R,w()&&Object.keys(d()).length===0)}),$t(),We();var N=Yt(),V=Y(N),ee=a(V),I=a(ee),ge=s(a(I),2);t(I);var U=s(I,2),te=a(U);{var ue=o=>{var u=Kt();_(o,u)},be=o=>{var u=Qt(),k=Y(u),q=s(a(k),2),_e=a(q),ne=a(_e),xe=a(ne,!0);t(ne),X(2),t(_e);var K=s(_e,2),ae=a(K),F=a(ae,!0);t(ae),X(2),t(K);var Q=s(K,2),Le=a(Q),ft=a(Le,!0);t(Le),X(2),t(Q);var ze=s(Q,2),Qe=a(ze),Oe=a(Qe,!0);t(Qe),X(2),t(ze);var ye=s(ze,2),$e=a(ye),pt=a($e,!0);t($e),X(2),t(ye);var fe=s(ye,2),Xe=a(fe),Ye=a(Xe,!0);t(Xe),X(2),t(fe);var Ze=s(fe,2),Me=a(Ze),mt=a(Me,!0);t(Me),X(2),t(Ze),t(q),t(k);var ke=s(k,2),Pe=s(a(ke),2),Te=s(a(Pe),2),pe=a(Te);xt(pe);var et=s(pe,4);t(Te),X(2),t(Pe),t(ke);var tt=s(ke,2),Ae=s(a(tt),2),at=s(a(Ae),2),we=a(at),Ee=a(we);t(we);var se=s(we,2),gt=a(se);t(se);var je=s(se,2),bt=a(je);t(je),t(at),X(2),t(Ae);var Re=s(Ae,2),qe=s(a(Re),2),Se=a(qe),Ce=s(Se,2);t(qe),t(Re),t(tt),T(()=>{b(xe,(e(v),y(()=>e(v).total))),b(F,(e(v),y(()=>e(v).running))),b(ft,(e(v),y(()=>e(v).pending))),b(Oe,(e(v),y(()=>e(v).completed))),b(pt,(e(v),y(()=>e(v).failed))),b(Ye,(e(v),y(()=>e(v).cancelled))),b(mt,(e(v),y(()=>e(v).locked))),we.disabled=(e(i),e(v),y(()=>e(i)||e(v).completed===0)),b(Ee,`ğŸ—‘ï¸ Delete All Completed (${e(v),y(()=>e(v).completed)??""})`),se.disabled=(e(i),e(v),y(()=>e(i)||e(v).failed===0)),b(gt,`ğŸ—‘ï¸ Delete All Failed (${e(v),y(()=>e(v).failed)??""})`),je.disabled=(e(i),e(v),y(()=>e(i)||e(v).cancelled===0)),b(bt,`ğŸ—‘ï¸ Delete All Cancelled (${e(v),y(()=>e(v).cancelled)??""})`),Se.disabled=e(i),Ce.disabled=e(i)}),zt(pe,()=>e(f),Fe=>l(f,Fe)),x("click",et,L),x("click",we,()=>E("completed")),x("click",se,()=>E("failed")),x("click",je,()=>E("cancelled")),x("click",Se,()=>H("completed",!0)),x("click",Ce,()=>H("completed",!1)),_(o,u)};M(te,o=>{e(R)?o(ue):o(be,!1)})}t(U);var c=s(U,2),G=a(c);t(c),t(ee),t(V);var le=s(V,2);{var he=o=>{var u=Xt(),k=a(u),q=a(k),_e=a(q,!0);t(q);var ne=s(q,2),xe=a(ne,!0);t(ne);var K=s(ne,2),ae=a(K),F=a(ae,!0);t(ae);var Q=s(ae,2);t(K),t(k),t(u),T(()=>{b(_e,(e(m),y(()=>e(m).title))),b(xe,(e(m),y(()=>e(m).message))),ae.disabled=e(D),b(F,(e(D),e(m),y(()=>e(D)?"Working...":e(m).confirmLabel))),Q.disabled=e(D)}),x("click",ae,O),x("click",Q,W),_(o,u)};M(le,o=>{e(m)&&o(he)})}x("click",ge,function(...o){h()?.apply(this,o)}),x("click",G,function(...o){h()?.apply(this,o)}),x("click",ee,Tt(function(o){vt.call(this,n,o)})),x("keydown",ee,function(o){vt.call(this,n,o)}),x("click",V,function(...o){h()?.apply(this,o)}),x("keydown",V,o=>o.key==="Escape"&&h()()),_(r,N),Ke(),z()}var ea=S('<span class="spinner svelte-1il3xy3">â³</span> <span>Validating...</span>',1),ta=S('<span class="icon svelte-1il3xy3">âœ“</span> <span> </span>',1),aa=S('<span class="icon svelte-1il3xy3">âœ—</span> <span> </span>',1),sa=S("<div><!></div>"),la=S('<div class="path-override svelte-1il3xy3"><label class="operation-label svelte-1il3xy3"> </label> <input type="text" class="custom-path-input svelte-1il3xy3"/> <!></div>');function na(r,n){He(n,!1);let d=de(n,"label",8),w=de(n,"operation",8),C=de(n,"defaultPath",8),z=de(n,"customPath",12,null),h=de(n,"onValidate",8,null),P=j(null),f=j("");async function i(){if(!z()||!h()){l(P,null);return}l(P,"validating");try{const O=await h()(z());O.valid?(l(P,"valid"),l(f,O.warnings.length>0?O.warnings.join("; "):"Path is valid")):(l(P,"invalid"),l(f,O.errors.join("; ")))}catch(O){l(P,"invalid");const E=O instanceof Error?O.message:"Unknown error";l(f,`Validation failed: ${E}`)}}let v;function R(){clearTimeout(v),v=setTimeout(i,500)}We();var m=la(),D=a(m),$=a(D,!0);t(D);var L=s(D,2);xt(L);var J=s(L,2);{var W=O=>{var E=sa(),H=a(E);{var Z=N=>{var V=ea();X(2),_(N,V)},ce=N=>{var V=Be(),ee=Y(V);{var I=U=>{var te=ta(),ue=s(Y(te),2),be=a(ue,!0);t(ue),T(()=>b(be,e(f))),_(U,te)},ge=U=>{var te=Be(),ue=Y(te);{var be=c=>{var G=aa(),le=s(Y(G),2),he=a(le,!0);t(le),T(()=>b(he,e(f))),_(c,G)};M(ue,c=>{e(P)==="invalid"&&c(be)},!0)}_(U,te)};M(ee,U=>{e(P)==="valid"?U(I):U(ge,!1)},!0)}_(N,V)};M(H,N=>{e(P)==="validating"?N(Z):N(ce,!1)})}t(E),T(()=>kt(E,1,`validation-status ${e(P)??""}`,"svelte-1il3xy3")),_(O,E)};M(J,O=>{e(P)&&O(W)})}t(m),T(()=>{rt(D,"for",`${w()??""}-input`),b($,d()),rt(L,"id",`${w()??""}-input`),rt(L,"placeholder",`Leave empty for default (${C()??""})`)}),zt(L,z),x("input",L,R),_(r,m),Ke()}const Ge=["data","pca","pca_data","hyper","models","cross","preds","jobs","ray","search_spaces"];function At(){return Ge.reduce((r,n)=>(r[n]=null,r),{})}async function oa(){const r=await ut.getStoragePaths(),n=Ot(r.current),d=Ot(r.default),w=r.source??{},C=r.config_path??"",z=ct(n.root)!==ct(d.root)?n.root:"",h=ca(n,d,w,z);return{currentPaths:n,defaultPaths:d,source:w,rootPathOverride:z,overrides:h,configPath:C}}function ra(r,n,d){const w=r||n.root||"",C={root:w};return Ge.forEach(z=>{const h=d[z];h&&h.trim()?C[z]=h:C[z]=dt(w,z)}),C}async function ia(r,n){const d={root:r.trim(),overrides:da(n)};return ut.updateStoragePaths(d)}async function va(){return ut.resetDefaults()}async function Lt(r){return ut.validateStoragePath(r)}function da(r){return Object.entries(r).reduce((n,[d,w])=>(n[d]=w&&w.trim()!==""?w:null,n),{})}function ca(r,n,d,w){const C=At(),z=w||n.root||"";return Ge.forEach(h=>{const P=r[h];if(!P)return;const f=dt(z,h);ct(P)!==ct(f)&&d[h]==="config.toml"&&(C[h]=P)}),C}function Ot(r){return{...r,root:r.root||""}}function dt(r,n){return r?ua(r,n==="pca_data"?["out","pca","data"]:["out",n]):""}function ua(r,n){const d=r.includes("\\")?"\\":"/";return[r,...n].join(d)}function ct(r){return r?r.replace(/\\/g,"/").replace(/\/+$/,"").toLowerCase():""}var fa=S('<div class="loading-state svelte-1kwlmzl">Loading settings...</div>'),pa=S('<div class="error-message svelte-1kwlmzl"> </div>'),ma=S('<div class="success-message svelte-1kwlmzl"> </div>'),ga=S('<div class="error-message svelte-1kwlmzl"> </div>'),ba=S('<div class="success-message svelte-1kwlmzl"> </div>'),ha=S('<div class="validation-status validating svelte-1kwlmzl"><span>Validating path...</span></div>'),_a=S('<li class="svelte-1kwlmzl"> </li>'),ya=S('<ul class="warnings svelte-1kwlmzl"></ul>'),ka=S('<div class="validation-status valid svelte-1kwlmzl"><span class="icon svelte-1kwlmzl">âœ“</span> <span>Path is valid</span> <!></div>'),wa=S('<li class="svelte-1kwlmzl"> </li>'),xa=S('<div class="validation-status invalid svelte-1kwlmzl"><span class="icon svelte-1kwlmzl">âœ—</span> <span>Path is invalid</span> <ul class="errors svelte-1kwlmzl"></ul></div>'),za=S('<div class="disk-info svelte-1kwlmzl">Available disk space: <strong> </strong></div>'),Pa=S(`<div class="advanced-content svelte-1kwlmzl"><p class="help-text svelte-1kwlmzl">By default, all operations use the root directory structure.
                  Use custom paths below to store specific operations in
                  different locations (e.g., models on SSD for faster loading).</p> <!></div>`),ja=S('<tr><td class="svelte-1kwlmzl"> </td><td class="svelte-1kwlmzl"><code class="svelte-1kwlmzl"> </code></td><td class="svelte-1kwlmzl"><span class="source-badge svelte-1kwlmzl"> </span></td></tr>'),Sa=S(`<!> <!> <div class="defaults-note svelte-1kwlmzl"><div><strong>Defaults file:</strong> <code class="svelte-1kwlmzl"> </code> <p>Edit this file manually to customize
                loader/tuning/cross-validation defaults.</p></div> <button type="button" class="btn-secondary svelte-1kwlmzl"> </button></div> <!> <!> <div class="section svelte-1kwlmzl"><h3 class="svelte-1kwlmzl">Root Directory</h3> <p class="help-text svelte-1kwlmzl">All output directories will be created under this root path.
              Individual operations can be overridden in the advanced section.</p> <div class="form-row"><div class="form-group"><label for="root-path-input">Root Directory</label> <input id="root-path-input" type="text"/></div></div> <!> <!></div> <div class="section advanced-section svelte-1kwlmzl"><button class="advanced-toggle svelte-1kwlmzl"> </button> <!></div> <div class="current-paths-info svelte-1kwlmzl"><h4 class="svelte-1kwlmzl">Output Locations Preview</h4> <p class="help-text svelte-1kwlmzl">These paths will be used when you save the configuration.</p> <table class="paths-table svelte-1kwlmzl"><thead><tr><th class="svelte-1kwlmzl">Operation</th><th class="svelte-1kwlmzl">Path</th><th class="svelte-1kwlmzl">Source</th></tr></thead><tbody><tr><td class="svelte-1kwlmzl"><strong>Root</strong></td><td class="svelte-1kwlmzl"><code class="svelte-1kwlmzl"> </code></td><td class="svelte-1kwlmzl"><span class="source-badge svelte-1kwlmzl"> </span></td></tr><!></tbody></table></div>`,1),Ca=S('<div class="modal-overlay svelte-1kwlmzl" role="presentation"><div class="modal-content svelte-1kwlmzl" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="modal-header svelte-1kwlmzl"><h2 id="modal-title" class="svelte-1kwlmzl">Settings</h2> <button class="close-btn svelte-1kwlmzl">&times;</button></div> <div class="modal-body svelte-1kwlmzl"><!></div> <div class="modal-footer svelte-1kwlmzl"><button class="cancel-btn svelte-1kwlmzl">Close</button> <button class="save-btn svelte-1kwlmzl"> </button></div></div></div>');function Da(r,n){He(n,!1);const d=j();let w=de(n,"isOpen",8,!1),C=de(n,"onClose",8,()=>{}),z=j({root:""}),h=j({root:""}),P=j({}),f=j(""),i=j(null),v=j(!1),R=j(""),m=j(At()),D=j(!1),$=j(!1),L=j(null),J=j(null),W=j(null),O=j(null),E=j(!1);const H={data:"Extracted Data",pca:"PCA Objects",pca_data:"PCA Transformed Data",hyper:"Hyperparameter Configs",models:"Trained Models",cross:"Cross-Validation Results",preds:"Prediction Outputs",jobs:"Job Database",ray:"Ray Tune Reports",search_spaces:"Custom Search Spaces"};wt(async()=>{w()&&await Z()});async function Z(){l($,!0),l(L,null);try{const c=await oa();l(z,c.currentPaths),l(h,c.defaultPaths),l(P,c.source),l(f,c.rootPathOverride),l(m,c.overrides),l(R,c.configPath)}catch(c){c instanceof Error?l(L,`Failed to load settings: ${c.message}`):l(L,"Failed to load settings")}finally{l($,!1)}}async function ce(){if(!e(f)){l(i,null);return}l(v,!0);try{l(i,await Lt(e(f)))}catch(c){const G=c instanceof Error?c.message:"Unknown error";l(i,{valid:!1,errors:[`Validation failed: ${G}`],warnings:[]})}finally{l(v,!1)}}async function N(c){return Lt(c)}let V;function ee(){clearTimeout(V),V=setTimeout(ce,500)}async function I(){l($,!0),l(L,null),l(J,null);try{const c=await ia(e(f),e(m));c.success&&(l(J,"Settings saved and applied successfully!"),c.validation_warnings?.length&&l(J,e(J)+` Warnings: ${c.validation_warnings.join(", ")}.`),await Z())}catch(c){c instanceof Error?l(L,`Failed to save settings: ${c.message}`):l(L,"Failed to save settings")}finally{l($,!1)}}async function ge(){l(E,!0),l(W,null),l(O,null);try{const c=await va();l(W,`Defaults restored. Edit ${c.config_path} to customize values.`),await Z()}catch(c){l(O,c instanceof Error?`Failed to reset defaults: ${c.message}`:"Failed to reset defaults")}finally{l(E,!1)}}function U(){C()()}it(()=>(e(f),e(h),e(m)),()=>{l(d,ra(e(f),e(h),e(m)))}),it(()=>Dt(w()),()=>{w()&&Z()}),$t(),We();var te=Be(),ue=Y(te);{var be=c=>{var G=Ca(),le=a(G),he=a(le),o=s(a(he),2);t(he);var u=s(he,2),k=a(u);{var q=F=>{var Q=fa();_(F,Q)},_e=F=>{var Q=Sa(),Le=Y(Q);{var ft=g=>{var p=pa(),A=a(p,!0);t(p),T(()=>b(A,e(L))),_(g,p)};M(Le,g=>{e(L)&&g(ft)})}var ze=s(Le,2);{var Qe=g=>{var p=ma(),A=a(p,!0);t(p),T(()=>b(A,e(J))),_(g,p)};M(ze,g=>{e(J)&&g(Qe)})}var Oe=s(ze,2),ye=a(Oe),$e=s(a(ye),2),pt=a($e,!0);t($e),X(2),t(ye);var fe=s(ye,2),Xe=a(fe,!0);t(fe),t(Oe);var Ye=s(Oe,2);{var Ze=g=>{var p=ga(),A=a(p,!0);t(p),T(()=>b(A,e(O))),_(g,p)};M(Ye,g=>{e(O)&&g(Ze)})}var Me=s(Ye,2);{var mt=g=>{var p=ba(),A=a(p,!0);t(p),T(()=>b(A,e(W))),_(g,p)};M(Me,g=>{e(W)&&g(mt)})}var ke=s(Me,2),Pe=s(a(ke),4),Te=a(Pe),pe=s(a(Te),2);xt(pe),t(Te),t(Pe);var et=s(Pe,2);{var tt=g=>{var p=ha();_(g,p)},Ae=g=>{var p=Be(),A=Y(p);{var oe=B=>{var me=Be(),De=Y(me);{var ht=re=>{var ie=ka(),lt=s(a(ie),4);{var _t=Je=>{var nt=ya();Ne(nt,5,()=>(e(i),y(()=>e(i).warnings)),ot,(Ct,Ve)=>{var Ie=_a(),Ft=a(Ie,!0);t(Ie),T(()=>b(Ft,e(Ve))),_(Ct,Ie)}),t(nt),_(Je,nt)};M(lt,Je=>{e(i),y(()=>e(i).warnings.length>0)&&Je(_t)})}t(ie),_(re,ie)},st=re=>{var ie=xa(),lt=s(a(ie),4);Ne(lt,5,()=>(e(i),y(()=>e(i).errors)),ot,(_t,Je,nt,Ct)=>{var Ve=wa(),Ie=a(Ve,!0);t(Ve),T(()=>b(Ie,e(Je))),_(_t,Ve)}),t(lt),t(ie),_(re,ie)};M(De,re=>{e(i),y(()=>e(i).valid)?re(ht):re(st,!1)})}_(B,me)};M(A,B=>{e(i)&&B(oe)},!0)}_(g,p)};M(et,g=>{e(v)?g(tt):g(Ae,!1)})}var at=s(et,2);{var we=g=>{var p=za(),A=s(a(p)),oe=a(A);t(A),t(p),T(()=>b(oe,`${e(i),y(()=>e(i).disk_space_gb)??""} GB`)),_(g,p)};M(at,g=>{e(i),y(()=>e(i)&&e(i).disk_space_gb)&&g(we)})}t(ke);var Ee=s(ke,2),se=a(Ee),gt=a(se);t(se);var je=s(se,2);{var bt=g=>{var p=Pa(),A=s(a(p),2);Ne(A,1,()=>Ge,ot,(oe,B)=>{{let me=It(()=>(Dt(dt),e(f),e(h),e(B),y(()=>dt(e(f)||e(h).root,e(B)))));na(oe,{get label(){return e(B),y(()=>H[e(B)])},get operation(){return e(B)},get defaultPath(){return e(me)},onValidate:N,get customPath(){return e(m)[e(B)]},set customPath(De){Vt(m,e(m)[e(B)]=De)},$$legacy:!0})}}),t(p),_(g,p)};M(je,g=>{e(D)&&g(bt)})}t(Ee);var Re=s(Ee,2),qe=s(a(Re),4),Se=s(a(qe)),Ce=a(Se),Fe=s(a(Ce)),Pt=a(Fe),Et=a(Pt,!0);t(Pt),t(Fe);var jt=s(Fe),St=a(jt),Rt=a(St,!0);t(St),t(jt),t(Ce);var qt=s(Ce);Ne(qt,1,()=>Ge,ot,(g,p)=>{var A=ja(),oe=a(A),B=a(oe,!0);t(oe);var me=s(oe),De=a(me),ht=a(De,!0);t(De),t(me);var st=s(me),re=a(st),ie=a(re,!0);t(re),t(st),t(A),T(()=>{b(B,(e(p),y(()=>H[e(p)]))),b(ht,(e(d),e(p),y(()=>e(d)[e(p)]))),b(ie,(e(m),e(p),e(f),e(P),y(()=>e(m)[e(p)]||e(f)?"config.toml":e(P)[e(p)]||"default")))}),_(g,A)}),t(Se),t(qe),t(Re),T(()=>{b(pt,e(R)||"config.toml"),fe.disabled=e(E),b(Xe,e(E)?"Resetting...":"Reset Defaults"),rt(pe,"placeholder",`Leave empty for default (${e(h),y(()=>e(h).root||"")??""})`),b(gt,`${e(D)?"â–¼":"â–¶"} Advanced: Override Individual Paths`),b(Et,(e(d),y(()=>e(d).root))),b(Rt,(e(f),e(P),y(()=>e(f)?"config.toml":e(P).root||"default")))}),x("click",fe,ge),zt(pe,()=>e(f),g=>l(f,g)),x("input",pe,ee),x("click",se,()=>l(D,!e(D))),_(F,Q)};M(k,F=>{e($),e(z),y(()=>e($)&&!e(z).root)?F(q):F(_e,!1)})}t(u);var ne=s(u,2),xe=a(ne),K=s(xe,2),ae=a(K,!0);t(K),t(ne),t(le),t(G),T(()=>{K.disabled=(e($),e(i),y(()=>e($)||e(i)&&!e(i).valid)),b(ae,e($)?"Saving...":"Save Settings")}),x("click",o,U),x("click",xe,U),x("click",K,I),x("click",le,Tt(function(F){vt.call(this,n,F)})),x("keydown",le,function(F){vt.call(this,n,F)}),x("click",G,U),x("keydown",G,F=>F.key==="Escape"&&U()),_(c,G)};M(ue,c=>{w()&&c(be)})}_(r,te),Ke()}var La=S('<div><span> </span> <button type="button" aria-label="Dismiss" class="svelte-1uskz5b">âœ•</button></div>'),Oa=S("<div></div>");function $a(r,n){He(n,!1);const d=()=>yt(ve,"$toastStore",w),[w,C]=Mt();let z=de(n,"position",8,"top-right");We();var h=Oa();let P;Ne(h,5,d,f=>f.id,(f,i)=>{var v=La();let R;var m=a(v),D=a(m,!0);t(m);var $=s(m,2);t(v),T(L=>{R=kt(v,1,"toast svelte-1uskz5b",null,R,L),b(D,(e(i),y(()=>e(i).message)))},[()=>({success:e(i).variant==="success",error:e(i).variant==="error",info:e(i).variant==="info"})]),x("click",$,()=>ve.dismiss(e(i).id)),_(f,v)}),t(h),T(f=>P=kt(h,1,"toast-container svelte-1uskz5b",null,P,f),[()=>({bottom:z()==="bottom-right"})]),_(r,h),Ke(),C()}var Ma=S('<div class="app svelte-12qhfyh"><header class="svelte-12qhfyh"><div class="container header-content svelte-12qhfyh"><div class="header-text svelte-12qhfyh"><h1 class="svelte-12qhfyh">AuToMaR</h1> <p class="svelte-12qhfyh">Stock Market Prediction ML Framework</p> <p class="version svelte-12qhfyh">v25.12.12</p></div> <div class="header-logo svelte-12qhfyh"><img src="/logo.svg" alt="AuToMaR Logo" loading="eager" class="svelte-12qhfyh"/></div> <div class="header-buttons svelte-12qhfyh"><button type="button" class="header-btn svelte-12qhfyh" title="Settings">âš™ï¸ Settings</button> <button type="button" class="header-btn svelte-12qhfyh" title="Open output folder in file explorer">ğŸ“ View Folder</button> <button type="button" class="header-btn svelte-12qhfyh" title="Manage jobs and cleanup settings">ğŸ”§ Manage Jobs</button> <button type="button" class="header-btn svelte-12qhfyh" title="Toggle dark mode"> </button></div></div></header> <main class="container svelte-12qhfyh"><!></main> <footer class="svelte-12qhfyh"><div class="container svelte-12qhfyh"><p>ç®—ç›˜ç”±Alejandro Gil (Kzurro)å’ŒSergio Pablo GarcÃ­a Carrilloåˆ›ä½œ, 2025</p></div></footer> <!></div> <!> <!>',1);function Ja(r,n){He(n,!1);let d=j(!1),w=j(!1),C=j(!1),z=j(!1);wt(()=>{l(z,localStorage.getItem("theme")==="dark"),e(z)&&document.documentElement.classList.add("dark")});function h(){l(z,!e(z)),e(z)?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")),Ht()}async function P(){if(!e(d)){l(d,!0);try{await Wt.openOutputFolder()}catch(I){const ge=I instanceof Error?I.message:String(I);ve.error(`Failed to open folder: ${ge}`)}finally{l(d,!1)}}}function f(){l(w,!0)}function i(){l(w,!1)}We();var v=Ma(),R=Y(v),m=a(R),D=a(m),$=s(a(D),4),L=a($),J=s(L,2),W=s(J,2),O=s(W,2),E=a(O);t(O),t($),t(D),t(m);var H=s(m,2),Z=a(H);Gt(Z,n,"default",{}),t(H);var ce=s(H,4);$a(ce,{}),t(R);var N=s(R,2);{var V=I=>{Zt(I,{onClose:i})};M(N,I=>{e(w)&&I(V)})}var ee=s(N,2);Da(ee,{get isOpen(){return e(C)},onClose:()=>l(C,!1)}),T(()=>{J.disabled=e(d),b(E,`${e(z)?"â˜€ï¸":"ğŸŒ™"}
          ${e(z)?"Light Mode":"Dark Mode"}`)}),x("click",L,()=>l(C,!0)),x("click",J,P),x("click",W,f),x("click",O,h),_(r,v),Ke()}export{Ja as component};
