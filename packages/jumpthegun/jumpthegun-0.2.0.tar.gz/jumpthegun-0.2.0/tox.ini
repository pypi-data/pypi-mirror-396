[tox]
envlist = py{38,39,310,311,312,313,314}, lint

[testenv]
setenv = PYTHONPATH = {toxinidir}/src
deps =
    -r{toxinidir}/test_requirements.txt
commands =
    pytest tests {posargs}
passenv =
    HOME
    TMPDIR
    USER
    XDG_*

[testenv:lint]
setenv = PYTHONPATH = {toxinidir}/src
skip_install = True
deps =
    black == 25.12.0
    isort == 7.0.0
    flake8 == 7.3.0
    mypy == 1.19.0
commands =
    black --check {toxinidir}/src {toxinidir}/tests
    isort --check {toxinidir}/src {toxinidir}/tests
    flake8 {toxinidir}/src {toxinidir}/tests
    mypy {toxinidir}/src

[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311
    3.12: py312
    3.13: py313
    3.14: py314
