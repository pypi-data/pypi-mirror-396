import"../chunks/DsnmJJEf.js";import{d as ce,o as ie,s as q}from"../chunks/CHeL8ZiL.js";import{p as ve,I as p,O as R,f as k,b as d,c as fe,M as de,s as i,d as r,$ as ue,k as e,r as a,G as l,t as P,K as U,a as A,P as pe,J as me}from"../chunks/Dsrcj9vp.js";import{i as h}from"../chunks/BT4V5UhZ.js";import{e as j,s as B,i as F,E as ge,H as _e}from"../chunks/xxvZbx8z.js";import{h as he}from"../chunks/BiofPN5-.js";import{g as ke}from"../chunks/hXBsbK-_.js";import"../chunks/Chx2bV3U.js";import{a as N,L as we}from"../chunks/BKVWfKIH.js";import{E as be}from"../chunks/9qFyNXwN.js";var xe=k("<button> </button>"),Se=k('<section class="filter-section svelte-cf8k9w"><div class="filter-header svelte-cf8k9w"><span class="filter-label svelte-cf8k9w">å¹³å°ç­›é€‰ï¼š</span> <button>å…¨éƒ¨</button></div> <div class="platform-tags svelte-cf8k9w"></div></section>'),ye=k('<span class="stat svelte-cf8k9w">æˆåŠŸç‡ <strong class="svelte-cf8k9w"> </strong></span>'),Ee=k('<div class="stats-bar svelte-cf8k9w"><span class="stat svelte-cf8k9w">å…± <strong class="svelte-cf8k9w"> </strong> ä¸ªå¹³å°</span> <!></div> <div class="hot-grid svelte-cf8k9w"></div>',1),Me=k('<div class="hot-page page-enter svelte-cf8k9w"><header class="page-header svelte-cf8k9w"><h1 class="page-title svelte-cf8k9w"><span class="title-icon svelte-cf8k9w">ğŸ”¥</span> å®æ—¶çƒ­æ¦œ</h1> <p class="page-description svelte-cf8k9w">èšåˆå„å¤§å¹³å°çƒ­é—¨å†…å®¹ï¼Œä¸€è§ˆå¤©ä¸‹çƒ­ç‚¹</p></header> <!> <section class="content-section"><!></section></div>');function $e(Q,V){ve(V,!0);let H=p(!0),w=p(null),n=p(null),T=p(R([])),u=p(R(new Set)),b=p("all");async function L(){l(H,!0),l(w,null);try{const[t,s]=await Promise.all([N.getAllHotTrends(),N.getHotPlatforms()]);l(n,t,!0),l(T,s,!0)}catch(t){l(w,t instanceof Error?t.message:"åŠ è½½æ•°æ®å¤±è´¥",!0)}finally{l(H,!1)}}function W(t){const s=new Set(e(u));s.has(t)?s.delete(t):s.add(t),l(u,s,!0),l(b,s.size>0?"selected":"all",!0)}function X(){l(u,new Set,!0),l(b,"all")}function Y(t){const s=t.detail;ke(`/search?q=${encodeURIComponent(s)}`)}let z=pe(()=>()=>e(n)?e(b)==="all"||e(u).size===0?e(n).results:e(n).results.filter(t=>e(u).has(t.platform_id)):[]);ie(()=>{L()});var C=Me();he("cf8k9w",t=>{de(()=>{ue.title="çƒ­æ¦œ - SeeSea"})});var $=i(r(C),2);{var Z=t=>{var s=Se(),m=r(s),x=i(r(m),2);let S;x.__click=X,a(m);var o=i(m,2);j(o,21,()=>e(T),F,(y,g)=>{var v=xe();let E;v.__click=()=>W(e(g).id);var c=r(v,!0);a(v),P(M=>{E=B(v,1,"platform-tag svelte-cf8k9w",null,E,M),q(c,e(g).name)},[()=>({selected:e(u).has(e(g).id)})]),d(y,v)}),a(o),a(s),P(()=>S=B(x,1,"filter-btn svelte-cf8k9w",null,S,{active:e(b)==="all"})),d(t,s)};h($,t=>{e(T).length>0&&t(Z)})}var G=i($,2),ee=r(G);{var te=t=>{we(t,{text:"åŠ è½½çƒ­æ¦œä¸­...",size:"lg"})},se=t=>{var s=U(),m=A(s);{var x=o=>{ge(o,{get message(){return e(w)},retry:L})},S=o=>{var y=U(),g=A(y);{var v=c=>{var M=Ee(),D=A(M),I=r(D),J=i(r(I)),ae=r(J,!0);a(J),me(),a(I);var re=i(I,2);{var le=f=>{var _=ye(),O=i(r(_)),oe=r(O);a(O),a(_),P(ne=>q(oe,`${ne??""}%`),[()=>Math.round(e(n).success_count/(e(n).success_count+e(n).failed_count)*100)]),d(f,_)};h(re,f=>{e(n)&&f(le)})}a(D);var K=i(D,2);j(K,21,()=>e(z)(),F,(f,_)=>{_e(f,{get trend(){return e(_)},maxItems:15,$$events:{search:Y}})}),a(K),P(f=>q(ae,f),[()=>e(z)().length]),d(c,M)},E=c=>{be(c,{icon:"hot",title:"æš‚æ— çƒ­æ¦œæ•°æ®",description:"ç¨åå†è¯•æˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥"})};h(g,c=>{e(z)().length>0?c(v):c(E,!1)},!0)}d(o,y)};h(m,o=>{e(w)?o(x):o(S,!1)},!0)}d(t,s)};h(ee,t=>{e(H)?t(te):t(se,!1)})}a(G),a(C),d(Q,C),fe()}ce(["click"]);export{$e as component};
