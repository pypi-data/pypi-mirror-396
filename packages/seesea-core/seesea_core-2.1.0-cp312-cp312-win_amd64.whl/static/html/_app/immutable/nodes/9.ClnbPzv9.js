import"../chunks/DsnmJJEf.js";import{s as h,d as ve,o as ue}from"../chunks/CHeL8ZiL.js";import{p as ie,f as L,d as s,r,s as v,t as z,b as f,c as ce,g as de,k as e,G as c,I,P as fe,Y as _e,$ as ge,J as he,K as te,a as ae}from"../chunks/Dsrcj9vp.js";import{p as me,i as x,s as pe,a as be}from"../chunks/BT4V5UhZ.js";import{a as re,S as xe,s as qe,p as Se,E as ye,e as Le,i as ke}from"../chunks/EOTwBAZt.js";import{h as Ce}from"../chunks/BiofPN5-.js";import{g as se}from"../chunks/BU_eHVng.js";import{s as le}from"../chunks/0qyMphDB.js";import"../chunks/Chx2bV3U.js";import{a as ne,L as we}from"../chunks/DsWGXT5C.js";import{E as oe}from"../chunks/DUMB72kh.js";var Ee=L('<time class="date svelte-361d71"> </time>'),Pe=L('<p class="result-description svelte-361d71"> </p>'),ze=L('<span class="score svelte-361d71" title="ç›¸å…³æ€§åˆ†æ•°"><svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg> </span>'),De=L('<article class="result-card svelte-361d71"><div class="result-header svelte-361d71"><div class="result-source svelte-361d71"><span class="domain svelte-361d71"> </span> <span class="engine-badge svelte-361d71"> </span></div> <!></div> <h3 class="result-title svelte-361d71"><a target="_blank" rel="noopener noreferrer" class="svelte-361d71"> </a></h3> <!> <div class="result-footer svelte-361d71"><a target="_blank" rel="noopener noreferrer" class="result-url svelte-361d71"> </a> <!></div></article>');function Re(K,l){ie(l,!0);let N=me(l,"index",3,0);function Y(t){try{return new URL(t).hostname}catch{return t}}function A(t){if(!t)return"";try{return new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"})}catch{return t}}function o(t){const n={google:"#4285f4",bing:"#00809d",duckduckgo:"#de5833",brave:"#fb542b",yahoo:"#6001d2",default:"#6b7280"};return n[t.toLowerCase()]||n.default}var _=De(),q=s(_),i=s(q),S=s(i),m=s(S,!0);r(S);var p=v(S,2),H=s(p,!0);r(p),r(i);var O=v(i,2);{var T=t=>{var n=Ee(),b=s(n,!0);r(n),z(a=>h(b,a),[()=>A(l.result.published_date)]),f(t,n)};x(O,t=>{l.result.published_date&&t(T)})}r(q);var k=v(q,2),C=s(k),D=s(C,!0);r(C),r(k);var R=v(k,2);{var Q=t=>{var n=Pe(),b=s(n,!0);r(n),z(()=>h(b,l.result.description)),f(t,n)};x(R,t=>{l.result.description&&t(Q)})}var M=v(R,2),w=s(M),V=s(w,!0);r(w);var W=v(w,2);{var U=t=>{var n=ze(),b=v(s(n));r(n),z(a=>h(b,` ${a??""}`),[()=>(l.result.score*100).toFixed(0)]),f(t,n)};x(W,t=>{l.result.score!==void 0&&l.result.score>0&&t(U)})}r(M),r(_),z((t,n,b)=>{re(_,`animation-delay: ${N()*.05}s`),h(m,t),re(p,`background-color: ${n??""}20; color: ${b??""}`),h(H,l.result.engine),le(C,"href",l.result.url),h(D,l.result.title),le(w,"href",l.result.url),h(V,l.result.url)},[()=>Y(l.result.url),()=>o(l.result.engine),()=>o(l.result.engine)]),f(K,_),ce()}var Me=L('<span class="cache-badge svelte-e12qt1">ç¼“å­˜</span>'),Be=L('<div class="search-meta svelte-e12qt1"><span class="result-count svelte-e12qt1">æ‰¾åˆ°çº¦ <strong class="svelte-e12qt1"> </strong> æ¡ç»“æœ</span> <span class="search-time svelte-e12qt1"> </span> <!> <span class="engines-used svelte-e12qt1"> </span></div>'),Ie=L('<div class="results-list svelte-e12qt1"></div>'),Qe=L('<div class="search-page page-enter svelte-e12qt1"><section class="search-section svelte-e12qt1"><div class="search-header svelte-e12qt1"><!> <div class="search-options svelte-e12qt1"><button title="Pro æœç´¢ä½¿ç”¨å‘é‡æ£€ç´¢è¿›è¡Œæ™ºèƒ½æ’åº"><span class="option-icon svelte-e12qt1">ğŸ¤–</span> Pro æœç´¢</button></div></div> <!></section> <section class="results-section svelte-e12qt1"><!></section></div>');function Te(K,l){ie(l,!0);const N=()=>be(Se,"$page",Y),[Y,A]=pe();let o=I(""),_=I(!1),q=I(null),i=I(null),S=I(!1),m=fe(()=>N().url.searchParams.get("q")||"");async function p(a){if(a.trim()){c(_,!0),c(q,null);try{e(S)?c(i,await ne.proSearch(a,{page_size:30}),!0):c(i,await ne.search(a,{page_size:30}),!0)}catch(u){c(q,u instanceof Error?u.message:"æœç´¢å¤±è´¥",!0),c(i,null)}finally{c(_,!1)}}}function H(a){const u=a.detail;c(o,u,!0),se(`/search?q=${encodeURIComponent(u)}`,{replaceState:!0}),p(u)}function O(){c(o,""),c(i,null),se("/search",{replaceState:!0})}function T(){c(S,!e(S)),e(o)&&p(e(o))}de(()=>{e(m)&&e(m)!==e(o)&&(c(o,e(m),!0),p(e(m)))}),ue(()=>{e(m)&&(c(o,e(m),!0),p(e(m)))});var k=Qe();Ce("e12qt1",a=>{_e(()=>{ge.title=e(o)?`${e(o)} - SeeSea æœç´¢`:"SeeSea æœç´¢"})});var C=s(k),D=s(C),R=s(D);xe(R,{get loading(){return e(_)},get value(){return e(o)},set value(a){c(o,a,!0)},$$events:{search:H,clear:O}});var Q=v(R,2),M=s(Q);let w;M.__click=T,r(Q),r(D);var V=v(D,2);{var W=a=>{var u=Be(),B=s(u),j=v(s(B)),X=s(j,!0);r(j),he(),r(B);var g=v(B,2),F=s(g);r(g);var G=v(g,2);{var Z=d=>{var E=Me();f(d,E)};x(G,d=>{e(i).cached&&d(Z)})}var J=v(G,2),y=s(J);r(J),r(u),z((d,E)=>{h(X,d),h(F,`ç”¨æ—¶ ${e(i).query_time_ms??""} ms`),h(y,`å¼•æ“: ${E??""}`)},[()=>e(i).total_count.toLocaleString(),()=>e(i).engines_used.join(", ")]),f(a,u)};x(V,a=>{e(i)&&a(W)})}r(C);var U=v(C,2),t=s(U);{var n=a=>{we(a,{text:"æœç´¢ä¸­...",size:"lg"})},b=a=>{var u=te(),B=ae(u);{var j=g=>{ye(g,{get message(){return e(q)},retry:()=>p(e(o))})},X=g=>{var F=te(),G=ae(F);{var Z=y=>{var d=Ie();Le(d,21,()=>e(i).results,ke,(E,$,ee)=>{Re(E,{get result(){return e($)},index:ee})}),r(d),f(y,d)},J=y=>{var d=te(),E=ae(d);{var $=P=>{oe(P,{icon:"search",title:"æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç»“æœ",description:"å°è¯•ä½¿ç”¨ä¸åŒçš„å…³é”®è¯ï¼Œæˆ–è€…æ£€æŸ¥æ‹¼å†™æ˜¯å¦æ­£ç¡®"})},ee=P=>{oe(P,{icon:"search",title:"å¼€å§‹æœç´¢",description:"åœ¨ä¸Šæ–¹è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ æƒ³æœç´¢çš„å†…å®¹"})};x(E,P=>{e(o)&&!e(_)?P($):P(ee,!1)},!0)}f(y,d)};x(G,y=>{e(i)&&e(i).results.length>0?y(Z):y(J,!1)},!0)}f(g,F)};x(B,g=>{e(q)?g(j):g(X,!1)},!0)}f(a,u)};x(t,a=>{e(_)?a(n):a(b,!1)})}r(U),r(k),z(()=>w=qe(M,1,"option-btn svelte-e12qt1",null,w,{active:e(S)})),f(K,k),ce(),A()}ve(["click"]);export{Te as component};
