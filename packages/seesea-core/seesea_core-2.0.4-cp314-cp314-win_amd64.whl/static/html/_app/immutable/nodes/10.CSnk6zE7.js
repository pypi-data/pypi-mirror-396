import"../chunks/DsnmJJEf.js";import{s as X,d as Fe,o as qe,b as Ae}from"../chunks/CHeL8ZiL.js";import{p as ye,f as z,d as n,s as a,r as o,t as U,k as e,P as r,b as g,c as Ne,Q as ie,K as Se,a as te,G as A,I as T,M as Ee,$ as Ge,J as Ke}from"../chunks/Dsrcj9vp.js";import{p as ve,i as w}from"../chunks/BT4V5UhZ.js";import{h as Te}from"../chunks/BiofPN5-.js";import{a as ze,s as ue,E as Ue}from"../chunks/xxvZbx8z.js";import"../chunks/Chx2bV3U.js";import{a as ce,L as Je}from"../chunks/BKVWfKIH.js";var Qe=z('<span class="stat-icon svelte-17xvzis"> </span>'),Re=z("<span><!></span>"),Ve=z('<div class="stat-card svelte-17xvzis"><!> <div class="stat-content svelte-17xvzis"><span class="stat-label svelte-17xvzis"> </span> <div class="stat-value-row svelte-17xvzis"><span class="stat-value svelte-17xvzis"> </span> <!></div></div></div>');function s(ae,_){ye(_,!0);let I=ve(_,"icon",3,""),E=ve(_,"suffix",3,""),h=ve(_,"color",3,"blue");const c={blue:{bg:"#eff6ff",text:"#3b82f6",border:"#bfdbfe"},green:{bg:"#f0fdf4",text:"#22c55e",border:"#bbf7d0"},orange:{bg:"#fff7ed",text:"#f97316",border:"#fed7aa"},red:{bg:"#fef2f2",text:"#ef4444",border:"#fecaca"},purple:{bg:"#faf5ff",text:"#a855f7",border:"#e9d5ff"}};let u=r(()=>c[h()]),J=r(()=>typeof _.value=="number"?_.value.toLocaleString():String(_.value));var N=Ve(),L=n(N);{var re=k=>{var x=Qe(),C=n(x,!0);o(x),U(()=>X(C,I())),g(k,x)};w(L,k=>{I()&&k(re)})}var Y=a(L,2),Q=n(Y),i=n(Q,!0);o(Q);var R=a(Q,2),S=n(R),V=n(S);o(S);var j=a(S,2);{var Z=k=>{var x=Re();let C;var se=n(x);{var le=$=>{var G=ie("â†‘");g($,G)},ne=$=>{var G=Se(),t=te(G);{var f=p=>{var H=ie("â†“");g(p,H)},b=p=>{var H=ie("â†’");g(p,H)};w(t,p=>{_.trend==="down"?p(f):p(b,!1)},!0)}g($,G)};w(se,$=>{_.trend==="up"?$(le):$(ne,!1)})}o(x),U(()=>C=ue(x,1,"trend svelte-17xvzis",null,C,{up:_.trend==="up",down:_.trend==="down"})),g(k,x)};w(j,k=>{_.trend&&k(Z)})}o(R),o(Y),o(N),U(()=>{ze(N,`background: ${e(u).bg??""}; border-color: ${e(u).border??""}`),X(i,_.label),ze(S,`color: ${e(u).text??""}`),X(V,`${e(J)??""}${E()??""}`)}),g(ae,N),Ne()}var je=z('<span class="last-update svelte-16pwk6k"> </span>'),He=z("<!> <!> <!> <!> <!> <!>",1),Oe=z('<section class="section svelte-16pwk6k"><h2 class="section-title svelte-16pwk6k">å®æ—¶æŒ‡æ ‡</h2> <div class="stats-grid svelte-16pwk6k"><!> <!> <!> <!> <!> <!> <!> <!> <!></div></section>'),We=z('<span class="section-hint svelte-16pwk6k">ï¼ˆæ•°æ®æ”¶é›†ä¸­...ï¼‰</span>'),Xe=z('<section class="section svelte-16pwk6k"><h2 class="section-title svelte-16pwk6k">ç¼“å­˜ç»Ÿè®¡ <!></h2> <div class="stats-grid svelte-16pwk6k"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></section>'),Ye=z('<section class="section svelte-16pwk6k"><h2 class="section-title svelte-16pwk6k">æ ¸å¿ƒæŒ‡æ ‡</h2> <div class="stats-grid svelte-16pwk6k"><!></div></section> <!> <!> <section class="section svelte-16pwk6k"><h2 class="section-title svelte-16pwk6k">ç³»ç»ŸçŠ¶æ€</h2> <div class="status-card svelte-16pwk6k"><div class="status-item svelte-16pwk6k"><span class="status-indicator online svelte-16pwk6k"></span> <span class="status-label svelte-16pwk6k">API æœåŠ¡</span> <span class="status-value svelte-16pwk6k">è¿è¡Œä¸­</span></div> <div class="status-item svelte-16pwk6k"><span class="status-indicator online svelte-16pwk6k"></span> <span class="status-label svelte-16pwk6k">ç¼“å­˜æœåŠ¡</span> <span class="status-value svelte-16pwk6k">è¿è¡Œä¸­</span></div> <div class="status-item svelte-16pwk6k"><span></span> <span class="status-label svelte-16pwk6k">ç†”æ–­å™¨</span> <span class="status-value svelte-16pwk6k"> </span></div></div></section>',1),Ze=z('<div class="stats-page page-enter svelte-16pwk6k"><header class="page-header svelte-16pwk6k"><div class="header-content svelte-16pwk6k"><h1 class="page-title svelte-16pwk6k"><span class="title-icon svelte-16pwk6k">ğŸ“Š</span> ç³»ç»Ÿç»Ÿè®¡</h1> <p class="page-description svelte-16pwk6k">å®æ—¶ç›‘æ§æœç´¢æ€§èƒ½å’Œç³»ç»ŸæŒ‡æ ‡</p></div> <div class="header-actions svelte-16pwk6k"><button class="refresh-btn svelte-16pwk6k"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 4v6h6M23 20v-6h-6"></path><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg> åˆ·æ–°</button> <!></div></header> <!></div>');function it(ae,_){ye(_,!0);let I=T(!0),E=T(null),h=T(null),c=T(null),u=T(null),J=null,N=T(null);async function L(){A(E,null);try{const[t,f,b]=await Promise.all([ce.getStats(),ce.getRealtimeMetrics(),ce.getCacheStats()]);A(h,t,!0),A(c,f,!0),A(u,b,!0),A(N,new Date,!0)}catch(t){A(E,t instanceof Error?t.message:"åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥",!0)}finally{A(I,!1)}}function re(t){if(!t||isNaN(t))return"0 åˆ†é’Ÿ";const f=Math.floor(t/86400),b=Math.floor(t%86400/3600),p=Math.floor(t%3600/60);return f>0?`${f} å¤© ${b} å°æ—¶`:b>0?`${b} å°æ—¶ ${p} åˆ†é’Ÿ`:`${p} åˆ†é’Ÿ`}function Y(t){if(!t||t===0)return"0 B";const f=1024,b=["B","KB","MB","GB"],p=Math.floor(Math.log(t)/Math.log(f));return parseFloat((t/Math.pow(f,p)).toFixed(2))+" "+b[p]}function Q(t){return t?t.toLocaleTimeString("zh-CN"):""}function i(t){return t==null||isNaN(t)?"0":t.toLocaleString()}function R(t){return t==null||isNaN(t)?"0.0":(t*100).toFixed(1)}function S(t){return t==null||isNaN(t)?"0.0":t.toFixed(1)}qe(()=>{L(),J=setInterval(L,3e4)}),Ae(()=>{J&&clearInterval(J)});var V=Ze();Te("16pwk6k",t=>{Ee(()=>{Ge.title="ç»Ÿè®¡ - SeeSea"})});var j=n(V),Z=a(n(j),2),k=n(Z);k.__click=L;var x=n(k);let C;Ke(),o(k);var se=a(k,2);{var le=t=>{var f=je(),b=n(f);o(f),U(p=>X(b,`ä¸Šæ¬¡æ›´æ–°: ${p??""}`),[()=>Q(e(N))]),g(t,f)};w(se,t=>{e(N)&&t(le)})}o(Z),o(j);var ne=a(j,2);{var $=t=>{Je(t,{text:"åŠ è½½ç»Ÿè®¡æ•°æ®ä¸­...",size:"lg"})},G=t=>{var f=Se(),b=te(f);{var p=K=>{Ue(K,{get message(){return e(E)},retry:L})},H=K=>{var de=Ye(),oe=te(de),fe=a(n(oe),2),$e=n(fe);{var Be=m=>{var M=He(),y=te(M);{let d=r(()=>i(e(h).total_searches));s(y,{label:"æ€»æœç´¢æ¬¡æ•°",get value(){return e(d)},icon:"ğŸ”",color:"blue"})}var P=a(y,2);{let d=r(()=>i(e(h).cache_hits));s(P,{label:"ç¼“å­˜å‘½ä¸­",get value(){return e(d)},icon:"âœ…",color:"green"})}var F=a(P,2);{let d=r(()=>i(e(h).cache_misses));s(F,{label:"ç¼“å­˜æœªå‘½ä¸­",get value(){return e(d)},icon:"âŒ",color:"orange"})}var B=a(F,2);{let d=r(()=>R(e(h).cache_hit_rate));s(B,{label:"ç¼“å­˜å‘½ä¸­ç‡",get value(){return e(d)},suffix:"%",icon:"ğŸ¯",color:"purple"})}var D=a(B,2);{let d=r(()=>i(e(h).engine_failures));s(D,{label:"å¼•æ“å¤±è´¥",get value(){return e(d)},icon:"âš ï¸",color:"red"})}var q=a(D,2);{let d=r(()=>i(e(h).timeouts));s(q,{label:"è¶…æ—¶æ¬¡æ•°",get value(){return e(d)},icon:"â±ï¸",color:"orange"})}g(m,M)};w($e,m=>{e(h)&&m(Be)})}o(fe),o(oe);var pe=a(oe,2);{var De=m=>{var M=Oe(),y=a(n(M),2),P=n(y);{let v=r(()=>re(e(c).uptime_seconds));s(P,{label:"è¿è¡Œæ—¶é—´",get value(){return e(v)},icon:"â±ï¸",color:"blue"})}var F=a(P,2);{let v=r(()=>i(e(c).total_requests));s(F,{label:"è¯·æ±‚æ€»æ•°",get value(){return e(v)},icon:"ğŸ“ˆ",color:"blue"})}var B=a(F,2);{let v=r(()=>i(e(c).successful_requests));s(B,{label:"æˆåŠŸè¯·æ±‚",get value(){return e(v)},icon:"âœ…",color:"green"})}var D=a(B,2);{let v=r(()=>i(e(c).failed_requests));s(D,{label:"å¤±è´¥è¯·æ±‚",get value(){return e(v)},icon:"âš ï¸",color:"red"})}var q=a(D,2);{let v=r(()=>S(e(c).avg_response_time_ms));s(q,{label:"å¹³å‡å“åº”æ—¶é—´",get value(){return e(v)},suffix:" ms",icon:"âš¡",color:"purple"})}var d=a(q,2);{let v=r(()=>i(e(c).rate_limited));s(d,{label:"é€Ÿç‡é™åˆ¶",get value(){return e(v)},icon:"ğŸš«",color:"orange"})}var O=a(d,2);{let v=r(()=>i(e(c).circuit_breaker_trips));s(O,{label:"ç†”æ–­è§¦å‘",get value(){return e(v)},icon:"ğŸ”Œ",color:"red"})}var W=a(O,2);{let v=r(()=>i(e(c).ip_blocked));s(W,{label:"IP å°ç¦",get value(){return e(v)},icon:"ğŸ›¡ï¸",color:"orange"})}var ee=a(W,2);{let v=r(()=>i(e(c).active_connections));s(ee,{label:"æ´»è·ƒè¿æ¥",get value(){return e(v)},icon:"ğŸ”—",color:"blue"})}o(y),o(M),g(m,M)};w(pe,m=>{e(c)&&m(De)})}var _e=a(pe,2);{var Ie=m=>{var M=Xe(),y=n(M),P=a(n(y));{var F=l=>{var Pe=We();g(l,Pe)};w(P,l=>{e(u).total_entries===0&&e(u).size_bytes===0&&l(F)})}o(y);var B=a(y,2),D=n(B);{let l=r(()=>i(e(u).total_entries));s(D,{label:"æ€»ç¼“å­˜æ¡ç›®",get value(){return e(l)},icon:"ğŸ“¦",color:"blue"})}var q=a(D,2);{let l=r(()=>Y(e(u).size_bytes));s(q,{label:"ç¼“å­˜å¤§å°",get value(){return e(l)},icon:"ğŸ’¾",color:"purple"})}var d=a(q,2);{let l=r(()=>R(e(u).hit_rate));s(d,{label:"å‘½ä¸­ç‡",get value(){return e(l)},suffix:"%",icon:"ğŸ¯",color:"green"})}var O=a(d,2);{let l=r(()=>i(e(u).hits));s(O,{label:"ç¼“å­˜å‘½ä¸­",get value(){return e(l)},icon:"âœ…",color:"green"})}var W=a(O,2);{let l=r(()=>i(e(u).misses));s(W,{label:"ç¼“å­˜æœªå‘½ä¸­",get value(){return e(l)},icon:"âŒ",color:"orange"})}var ee=a(W,2);{let l=r(()=>i(e(u).writes));s(ee,{label:"å†™å…¥æ¬¡æ•°",get value(){return e(l)},icon:"âœï¸",color:"blue"})}var v=a(ee,2);{let l=r(()=>i(e(u).deletes));s(v,{label:"åˆ é™¤æ¬¡æ•°",get value(){return e(l)},icon:"ï¿½ï¸",color:"red"})}var xe=a(v,2);{let l=r(()=>i(e(u).evictions));s(xe,{label:"è¿‡æœŸæ¸…ç†",get value(){return e(l)},icon:"ğŸ§¹",color:"orange"})}var Me=a(xe,2);{let l=r(()=>S(e(u).avg_get_latency_ms));s(Me,{label:"è¯»å–å»¶è¿Ÿ",get value(){return e(l)},suffix:" ms",icon:"âš¡",color:"purple"})}var Ce=a(Me,2);{let l=r(()=>S(e(u).avg_set_latency_ms));s(Ce,{label:"å†™å…¥å»¶è¿Ÿ",get value(){return e(l)},suffix:" ms",icon:"â±ï¸",color:"purple"})}o(B),o(M),g(m,M)};w(_e,m=>{e(u)&&m(Ie)})}var ge=a(_e,2),ke=a(n(ge),2),be=a(n(ke),4),he=n(be);let me;var we=a(he,4),Le=n(we,!0);o(we),o(be),o(ke),o(ge),U(()=>{me=ue(he,1,"status-indicator svelte-16pwk6k",null,me,{online:!e(c)||e(c).circuit_breaker_trips===0,warning:e(c)&&e(c).circuit_breaker_trips>0}),X(Le,e(c)&&e(c).circuit_breaker_trips>0?"å·²è§¦å‘":"æ­£å¸¸")}),g(K,de)};w(b,K=>{e(E)?K(p):K(H,!1)},!0)}g(t,f)};w(ne,t=>{e(I)&&!e(h)?t($):t(G,!1)})}o(V),U(()=>{k.disabled=e(I),C=ue(x,0,"refresh-icon svelte-16pwk6k",null,C,{spinning:e(I)})}),g(ae,V),Ne()}Fe(["click"]);export{it as component};
