# 1. Root level documentation and configuration
include README.md
include LICENSE
include USAGE_GUIDE.md
include pyproject.toml
include setup.py
include MANIFEST.in

# 2. Recursively include the package source code
# This grabs src/heapx/heapx.c, src/heapx/__init__.py, and any stub files (.pyi)
graft src

# 3. Recursively include the test suite
# This ensures tests are in the tarball, but the 'src-layout' keeps them out of the wheel
graft tests

# 4. Clean up: Exclude build artifacts and binaries
# (It is critical to exclude .so/.dylib so we don't accidentally ship local binaries)
global-exclude __pycache__
global-exclude *.py[cod]
global-exclude *$py.class
global-exclude *.so
global-exclude *.dylib
global-exclude .DS_Store
global-exclude *.egg-info

# Prune directories that might be created during development
prune build
prune dist
